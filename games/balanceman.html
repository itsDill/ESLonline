<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BalanceMan - ESL Hangman Word Game | ESL Fun Online</title>
    <meta
      name="description"
      content="Play BalanceMan - an exciting ESL hangman-style word guessing game! Improve vocabulary across categories like animals, food, objects with progressive difficulty levels."
    />
    <meta
      name="keywords"
      content="ESL hangman game, vocabulary game, word guessing, English learning game, BalanceMan, educational games, ESL activities"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta
      property="og:title"
      content="BalanceMan - ESL Hangman Word Game | ESL Fun Online"
    />
    <meta
      property="og:description"
      content="Save the BalanceMan by guessing English words! Fun hangman-style game with ESL vocabulary across multiple categories and difficulty levels."
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/image copy 10.png"
    />
    <meta
      property="og:url"
      content="https://eslfunonline.com/games/balanceman.html"
    />
    <meta property="og:type" content="game" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="BalanceMan - ESL Hangman Word Game" />
    <meta
      name="twitter:description"
      content="Save the BalanceMan by guessing English words! Fun ESL vocabulary game."
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/image copy 10.png"
    />
    <link
      rel="canonical"
      href="https://eslfunonline.com/games/balanceman.html"
    />

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Game",
        "name": "BalanceMan - ESL Hangman Word Game",
        "description": "Play BalanceMan - an exciting ESL hangman-style word guessing game! Improve vocabulary across categories like animals, food, objects with progressive difficulty levels.",
        "url": "https://eslfunonline.com/games/balanceman.html",
        "image": "https://eslfunonline.com/images/image copy 10.png",
        "author": {
          "@type": "Organization",
          "name": "ESL Fun Online"
        },
        "publisher": {
          "@type": "Organization",
          "name": "ESL Fun Online"
        },
        "genre": "Educational Game",
        "educationalUse": "Vocabulary Building",
        "learningResourceType": "Game",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "isFamilyFriendly": true
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9G9RD6BHLN");
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/game-ads.css" />

    <style>
      :root {
        --primary-color: #4f46e5;
        --primary-hover: #3730a3;
        --secondary-color: #f59e0b;
        --accent-color: #10b981;
        --danger-color: #ef4444;
        --success-color: #22c55e;
        --purple-color: #8b5cf6;
        --pink-color: #ec4899;
        --cyan-color: #06b6d4;
        --orange-color: #f97316;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --bg-primary: #ffffff;
        --bg-secondary: #f8fafc;
        --bg-tertiary: #f1f5f9;
        --border-color: #e2e8f0;
        --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --gradient-secondary: linear-gradient(
          135deg,
          #ff9a9e 0%,
          #fecfef 50%,
          #fecfef 100%
        );
        --gradient-success: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        --gradient-danger: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: var(--text-primary);
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 1rem 0.5rem;
        overflow-x: hidden;
      }

      .game-container {
        background: var(--bg-primary);
        border-radius: 24px;
        box-shadow: var(--shadow-lg);
        padding: 1.5rem;
        max-width: 100%;
        width: min(800px, 100vw - 1rem);
        text-align: center;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .game-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--gradient-secondary);
        opacity: 0.05;
        z-index: 0;
      }

      .game-container > * {
        position: relative;
        z-index: 1;
      }

      .game-header {
        margin-bottom: 1.5rem;
        animation: fadeInDown 0.8s ease-out;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes bounceIn {
        0% {
          opacity: 0;
          transform: scale(0.3);
        }
        50% {
          opacity: 1;
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      .game-header h1 {
        font-family: "Poppins", sans-serif;
        font-size: clamp(1.8rem, 4vw, 2.2rem);
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--purple-color)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        animation: pulse 2s ease-in-out infinite;
      }

      .game-header p {
        color: var(--text-secondary);
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        font-weight: 500;
      }

      .balance-area {
        background: var(--gradient-success);
        border-radius: 20px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        min-height: 200px;
        max-height: 250px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
        border: 2px solid rgba(255, 255, 255, 0.3);
        animation: fadeInUp 0.6s ease-out;
        transition: all 0.3s ease;
      }

      .balance-area.danger-bg {
        background: var(--gradient-danger);
      }

      .balanceman {
        font-size: clamp(3rem, 8vw, 4.5rem);
        transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        margin-bottom: 0.75rem;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        animation: bounceIn 1s ease-out;
      }

      .balanceman.safe {
        color: var(--success-color);
        animation: gentle-sway 3s ease-in-out infinite;
      }

      @keyframes gentle-sway {
        0%,
        100% {
          transform: rotate(-2deg);
        }
        50% {
          transform: rotate(2deg);
        }
      }

      .balanceman.danger {
        color: var(--danger-color);
        animation: shake 0.5s ease-in-out infinite;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0) rotate(0deg);
        }
        25% {
          transform: translateX(-8px) rotate(-5deg);
        }
        75% {
          transform: translateX(8px) rotate(5deg);
        }
      }

      .balance-status {
        font-size: clamp(1rem, 2.5vw, 1.1rem);
        font-weight: 600;
        margin-bottom: 0.75rem;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .word-display {
        font-family: "Poppins", sans-serif;
        font-size: clamp(1.5rem, 4vw, 2rem);
        font-weight: bold;
        letter-spacing: clamp(0.2rem, 1vw, 0.4rem);
        margin-bottom: 0.75rem;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--cyan-color)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        min-height: 2.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .word-hint {
        background: rgba(255, 255, 255, 0.8);
        padding: 0.75rem;
        border-radius: 12px;
        margin-bottom: 0;
        font-style: italic;
        color: var(--text-secondary);
        font-size: clamp(0.8rem, 2vw, 0.9rem);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .game-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 0.75rem;
        background: var(--bg-secondary);
        border-radius: 16px;
        padding: 1rem;
        margin-bottom: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid var(--border-color);
        animation: fadeInUp 0.8s ease-out;
      }

      .stat {
        text-align: center;
        padding: 0.5rem;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.6);
        transition: all 0.3s ease;
        backdrop-filter: blur(5px);
      }

      .stat:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .stat-value {
        font-size: clamp(1.2rem, 3vw, 1.4rem);
        font-weight: bold;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--orange-color)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        transition: all 0.3s ease;
      }

      .stat-label {
        font-size: clamp(0.7rem, 2vw, 0.8rem);
        color: var(--text-secondary);
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .alphabet-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(35px, 1fr));
        gap: 0.4rem;
        margin-bottom: 1.5rem;
        max-width: 100%;
        margin-left: auto;
        margin-right: auto;
        animation: fadeInUp 1s ease-out;
      }

      .letter-btn {
        background: linear-gradient(
          135deg,
          var(--bg-secondary),
          rgba(255, 255, 255, 0.8)
        );
        border: 2px solid var(--border-color);
        color: var(--text-primary);
        padding: clamp(0.5rem, 2vw, 0.65rem);
        border-radius: 10px;
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(5px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .letter-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        transition: left 0.5s;
      }

      .letter-btn:hover::before {
        left: 100%;
      }

      .letter-btn:hover {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--purple-color)
        );
        color: white;
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 6px 16px rgba(79, 70, 229, 0.3);
        border-color: var(--primary-color);
      }

      .letter-btn:active {
        transform: translateY(-1px) scale(0.98);
      }

      .letter-btn:disabled {
        background: var(--bg-tertiary);
        color: var(--text-secondary);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
        opacity: 0.6;
      }

      .letter-btn.correct {
        background: linear-gradient(
          135deg,
          var(--success-color),
          var(--accent-color)
        );
        color: white;
        border-color: var(--success-color);
        animation: correctGuess 0.6s ease-out;
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      }

      @keyframes correctGuess {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
          background: linear-gradient(135deg, #4ade80, #22c55e);
        }
        100% {
          transform: scale(1);
        }
      }

      .letter-btn.incorrect {
        background: linear-gradient(135deg, var(--danger-color), #f87171);
        color: white;
        border-color: var(--danger-color);
        animation: incorrectGuess 0.6s ease-out;
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
      }

      @keyframes incorrectGuess {
        0% {
          transform: scale(1);
        }
        25% {
          transform: scale(1.1) rotate(-5deg);
        }
        75% {
          transform: scale(1.1) rotate(5deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }

      .game-controls {
        display: flex;
        gap: 0.75rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 1rem;
        animation: fadeInUp 1.2s ease-out;
      }

      .btn {
        padding: clamp(0.6rem, 2vw, 0.8rem) clamp(1rem, 3vw, 1.3rem);
        border: none;
        border-radius: 12px;
        font-size: clamp(0.8rem, 2.5vw, 0.9rem);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.6s;
      }

      .btn:hover::before {
        left: 100%;
      }

      .btn-primary {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--purple-color)
        );
        color: white;
      }

      .btn-primary:hover {
        background: linear-gradient(135deg, var(--primary-hover), #7c3aed);
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4);
      }

      .btn-secondary {
        background: linear-gradient(
          135deg,
          var(--bg-tertiary),
          rgba(255, 255, 255, 0.8)
        );
        color: var(--text-primary);
        border: 2px solid var(--border-color);
      }

      .btn-secondary:hover {
        background: linear-gradient(
          135deg,
          var(--secondary-color),
          var(--orange-color)
        );
        color: white;
        border-color: var(--secondary-color);
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 20px rgba(245, 158, 11, 0.4);
      }

      .btn-success {
        background: linear-gradient(
          135deg,
          var(--success-color),
          var(--accent-color)
        );
        color: white;
      }

      .btn-success:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 20px rgba(34, 197, 94, 0.4);
      }

      .btn-danger {
        background: linear-gradient(135deg, var(--danger-color), #f87171);
        color: white;
      }

      .btn-danger:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
      }

      .btn:active {
        transform: translateY(-1px) scale(0.98);
      }

      .game-message {
        margin: 1rem 0;
        padding: 1rem;
        border-radius: 16px;
        font-weight: 600;
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        animation: messageSlideIn 0.5s ease-out;
        backdrop-filter: blur(10px);
        border: 2px solid transparent;
        position: relative;
        overflow: hidden;
      }

      @keyframes messageSlideIn {
        from {
          opacity: 0;
          transform: translateY(-20px) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .message-success {
        background: linear-gradient(
          135deg,
          rgba(34, 197, 94, 0.15),
          rgba(16, 185, 129, 0.15)
        );
        color: var(--success-color);
        border-color: rgba(34, 197, 94, 0.3);
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);
      }

      .message-danger {
        background: linear-gradient(
          135deg,
          rgba(239, 68, 68, 0.15),
          rgba(248, 113, 113, 0.15)
        );
        color: var(--danger-color);
        border-color: rgba(239, 68, 68, 0.3);
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);
      }

      .difficulty-selector,
      .category-selector {
        margin-bottom: 1.5rem;
        animation: fadeInUp 0.6s ease-out;
      }

      .difficulty-selector h3,
      .category-selector h3 {
        font-size: clamp(1rem, 2.5vw, 1.1rem);
        margin-bottom: 0.75rem;
        color: var(--text-primary);
        font-weight: 600;
      }

      .difficulty-btn,
      .category-btn {
        margin: 0.25rem;
        padding: clamp(0.4rem, 1.5vw, 0.5rem) clamp(0.8rem, 2.5vw, 1rem);
        border: 2px solid var(--border-color);
        background: linear-gradient(
          135deg,
          var(--bg-secondary),
          rgba(255, 255, 255, 0.8)
        );
        color: var(--text-primary);
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-size: clamp(0.75rem, 2vw, 0.85rem);
        font-weight: 500;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(5px);
      }

      .difficulty-btn::before,
      .category-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s;
      }

      .difficulty-btn:hover::before,
      .category-btn:hover::before {
        left: 100%;
      }

      .difficulty-btn:hover,
      .category-btn:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      }

      .difficulty-btn.active {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--purple-color)
        );
        color: white;
        border-color: var(--primary-color);
        box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
      }

      .category-btn.active {
        background: linear-gradient(
          135deg,
          var(--secondary-color),
          var(--orange-color)
        );
        color: white;
        border-color: var(--secondary-color);
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
      }

      @media (max-width: 768px) {
        .game-container {
          padding: 1rem;
          margin: 0.5rem;
          border-radius: 20px;
        }

        .game-header h1 {
          font-size: clamp(1.5rem, 5vw, 1.8rem);
        }

        .word-display {
          font-size: clamp(1.2rem, 5vw, 1.6rem);
          letter-spacing: clamp(0.1rem, 1.5vw, 0.3rem);
        }

        .balanceman {
          font-size: clamp(2.5rem, 10vw, 3.5rem);
        }

        .alphabet-grid {
          grid-template-columns: repeat(6, 1fr);
          gap: 0.3rem;
        }

        .letter-btn {
          padding: clamp(0.4rem, 2vw, 0.5rem);
          font-size: clamp(0.8rem, 3vw, 0.9rem);
          border-radius: 8px;
        }

        .game-stats {
          grid-template-columns: repeat(2, 1fr);
          gap: 0.5rem;
          padding: 0.75rem;
        }

        .balance-area {
          padding: 1rem;
          min-height: 180px;
          max-height: 200px;
        }

        .game-controls {
          gap: 0.5rem;
        }

        .btn {
          padding: clamp(0.5rem, 2vw, 0.6rem) clamp(0.8rem, 3vw, 1rem);
          font-size: clamp(0.7rem, 2.5vw, 0.8rem);
        }

        .difficulty-btn,
        .category-btn {
          padding: clamp(0.3rem, 1.5vw, 0.4rem) clamp(0.6rem, 2.5vw, 0.8rem);
          font-size: clamp(0.7rem, 2vw, 0.75rem);
          margin: 0.2rem;
        }
      }

      @media (max-width: 480px) {
        body {
          padding: 0.5rem 0.25rem;
        }

        .game-container {
          padding: 0.75rem;
          margin: 0.25rem;
        }

        .balance-area {
          padding: 0.75rem;
          min-height: 160px;
          max-height: 180px;
        }

        .alphabet-grid {
          grid-template-columns: repeat(5, 1fr);
          gap: 0.25rem;
        }

        .game-stats {
          grid-template-columns: repeat(4, 1fr);
          gap: 0.3rem;
          padding: 0.5rem;
        }

        .stat {
          padding: 0.3rem;
        }

        .category-selector,
        .difficulty-selector {
          margin-bottom: 1rem;
        }
      }

      @media (min-width: 1200px) {
        .game-container {
          max-width: 900px;
        }

        .alphabet-grid {
          grid-template-columns: repeat(13, 1fr);
          max-width: 700px;
        }
      }

      /* Enhanced animations for better UX */
      @keyframes letterReveal {
        from {
          opacity: 0;
          transform: scale(0.5) rotate(180deg);
        }
        to {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
      }

      .word-display .letter-reveal {
        animation: letterReveal 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      }

      @keyframes scoreIncrease {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.3);
          color: var(--success-color);
        }
        100% {
          transform: scale(1);
        }
      }

      .score-animation {
        animation: scoreIncrease 0.6s ease-out;
      }

      /* Loading state for better UX */
      .loading {
        opacity: 0.7;
        pointer-events: none;
        position: relative;
      }

      .loading::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 20px;
        height: 20px;
        margin: -10px 0 0 -10px;
        border: 2px solid transparent;
        border-top: 2px solid var(--primary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Confetti animation */
      @keyframes confetti-fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }

      /* Improved accessibility */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Focus states for keyboard navigation */
      .letter-btn:focus,
      .btn:focus,
      .difficulty-btn:focus,
      .category-btn:focus {
        outline: 3px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Screen reader only class */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      /* Enhanced hint button */
      .btn-hint {
        background: linear-gradient(
          135deg,
          var(--cyan-color),
          var(--accent-color)
        );
        color: white;
        position: relative;
        overflow: hidden;
      }

      .btn-hint:hover {
        background: linear-gradient(135deg, #0891b2, #059669);
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 20px rgba(6, 182, 212, 0.4);
      }

      .btn-hint:disabled {
        background: var(--bg-tertiary);
        color: var(--text-secondary);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      /* Progress indicator for wrong guesses */
      .progress-bar {
        width: 100%;
        height: 8px;
        background: var(--bg-tertiary);
        border-radius: 4px;
        margin: 1rem 0;
        overflow: hidden;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(
          90deg,
          var(--success-color),
          var(--secondary-color),
          var(--danger-color)
        );
        border-radius: 4px;
        transition: width 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }
    </style>
  </head>
  <body>
    <div
      class="game-container"
      role="main"
      aria-label="BalanceMan word guessing game"
    >
      <header class="game-header">
        <h1>
          <i class="fas fa-balance-scale" aria-hidden="true"></i> BalanceMan
        </h1>
        <p>Help BalanceMan stay balanced by guessing the English word!</p>
        <p
          style="
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
          "
          role="note"
          aria-label="Keyboard shortcuts"
        >
          üí° Use keyboard: A-Z to guess, H for hint, Enter for new game, Esc to
          exit
        </p>
      </header>


    <!-- Google AdSense -->
    <div class="ad-container" style="margin: 2rem auto; max-width: 100%; text-align: center;">
      <ins class="adsbygoogle"
           style="display: block; text-align: center;"
           data-ad-client="ca-pub-2456627863532019"
           data-ad-slot="1718707782"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
      <div
        class="difficulty-selector"
        id="difficultySelector"
        role="radiogroup"
        aria-label="Select difficulty level"
      >
        <h3 id="difficulty-label">Choose Difficulty:</h3>
        <button
          class="difficulty-btn active"
          data-difficulty="easy"
          role="radio"
          aria-checked="true"
          aria-labelledby="difficulty-label"
        >
          Easy (4-6 letters)
        </button>
        <button
          class="difficulty-btn"
          data-difficulty="medium"
          role="radio"
          aria-checked="false"
          aria-labelledby="difficulty-label"
        >
          Medium (7-9 letters)
        </button>
        <button
          class="difficulty-btn"
          data-difficulty="hard"
          role="radio"
          aria-checked="false"
          aria-labelledby="difficulty-label"
        >
          Hard (10+ letters)
        </button>
      </div>

      <div
        class="category-selector"
        id="categorySelector"
        role="radiogroup"
        aria-label="Select word category"
      >
        <h3 id="category-label">Choose Category:</h3>
        <button
          class="category-btn active"
          data-category="general"
          role="radio"
          aria-checked="true"
          aria-labelledby="category-label"
        >
          General
        </button>
        <button
          class="category-btn"
          data-category="animals"
          role="radio"
          aria-checked="false"
          aria-labelledby="category-label"
        >
          Animals
        </button>
        <button
          class="category-btn"
          data-category="food"
          role="radio"
          aria-checked="false"
          aria-labelledby="category-label"
        >
          Food
        </button>
        <button
          class="category-btn"
          data-category="colors"
          role="radio"
          aria-checked="false"
          aria-labelledby="category-label"
        >
          Colors
        </button>
        <button
          class="category-btn"
          data-category="family"
          role="radio"
          aria-checked="false"
          aria-labelledby="category-label"
        >
          Family
        </button>
        <button
          class="category-btn"
          data-category="school"
          role="radio"
          aria-checked="false"
          aria-labelledby="category-label"
        >
          School
        </button>
        <button
          class="category-btn"
          data-category="weather"
          role="radio"
          aria-checked="false"
          aria-labelledby="category-label"
        >
          Weather
        </button>
      </div>

      <div class="balance-area" role="region" aria-label="Game status area">
        <div class="balanceman safe" id="balancemanFigure" aria-hidden="true">
          ‚öñÔ∏è
        </div>
        <div
          class="balance-status"
          id="balanceStatus"
          role="status"
          aria-live="polite"
        >
          BalanceMan is stable!
        </div>
        <div
          class="progress-bar"
          role="progressbar"
          aria-label="Wrong guesses progress"
          aria-valuemin="0"
          aria-valuemax="6"
          aria-valuenow="0"
        >
          <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
        <div
          class="word-display"
          id="wordDisplay"
          role="status"
          aria-live="polite"
          aria-label="Current word progress"
        ></div>
        <div class="word-hint" id="wordHint" role="note"></div>
      </div>

      <div class="game-stats" role="region" aria-label="Game statistics">
        <div class="stat">
          <div
            class="stat-value"
            id="correctGuesses"
            aria-label="Correct guesses"
          >
            0
          </div>
          <div class="stat-label">Correct</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="wrongGuesses" aria-label="Wrong guesses">
            0
          </div>
          <div class="stat-label">Wrong</div>
        </div>
        <div class="stat">
          <div
            class="stat-value"
            id="wordsCompleted"
            aria-label="Words completed"
          >
            0
          </div>
          <div class="stat-label">Words</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="gameScore" aria-label="Current score">
            0
          </div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div
            class="stat-value"
            id="currentStreak"
            aria-label="Current winning streak"
          >
            0
          </div>
          <div class="stat-label">Streak</div>
        </div>
        <div class="stat">
          <div
            class="stat-value"
            id="bestStreak"
            aria-label="Best winning streak"
          >
            0
          </div>
          <div class="stat-label">Best</div>
        </div>
      </div>

      <div
        class="alphabet-grid"
        id="alphabetGrid"
        role="group"
        aria-label="Letter selection buttons"
      ></div>

      <div
        class="game-message"
        id="gameMessage"
        style="display: none"
        role="alert"
        aria-live="assertive"
      ></div>

      <div class="game-controls">
        <button
          class="btn btn-primary"
          id="newGameBtn"
          aria-label="Start a new game"
        >
          <i class="fas fa-play" aria-hidden="true"></i> New Game
        </button>
        <button
          class="btn btn-hint"
          id="hintBtn"
          aria-label="Get a hint for 5 points penalty"
        >
          <i class="fas fa-lightbulb" aria-hidden="true"></i> Get Hint (-5 pts)
        </button>
        <button
          class="btn btn-secondary"
          id="skipWordBtn"
          aria-label="Skip current word"
        >
          <i class="fas fa-forward" aria-hidden="true"></i> Skip Word
        </button>
        <button
          class="btn btn-secondary"
          onclick="window.location.href='../games.html'"
          aria-label="Return to games page"
        >
          <i class="fas fa-arrow-left" aria-hidden="true"></i> Back to Games
        </button>
      </div>
    </div>

    <script>
      class BalanceManGame {
        constructor() {
          this.currentWord = "";
          this.currentHint = "";
          this.currentCategory = "general";
          this.difficulty = "easy";
          this.guessedLetters = new Set();
          this.correctGuesses = 0;
          this.wrongGuesses = 0;
          this.maxWrongGuesses = 6;
          this.wordsCompleted = 0;
          this.score = 0;
          this.hintUsed = false;
          this.currentStreak = 0;
          this.bestStreak = 0;
          this.usedWords = new Set();

          // Load stats from localStorage
          this.loadStats();

          this.wordLists = {
            general: {
              easy: [
                { word: "HAPPY", hint: "Feeling good and cheerful" },
                { word: "HOUSE", hint: "A place where people live" },
                { word: "WATER", hint: "Clear liquid we drink" },
                { word: "MUSIC", hint: "Sounds that make songs" },
                { word: "FRIEND", hint: "Someone you like and trust" },
                { word: "SMILE", hint: "Happy expression on your face" },
                { word: "DANCE", hint: "Move your body to music" },
                { word: "BOOK", hint: "You read this to learn" },
                { word: "PHONE", hint: "Device to call people" },
                { word: "TIME", hint: "Minutes and hours" },
                { word: "LIGHT", hint: "Opposite of dark" },
                { word: "HEART", hint: "Symbol of love" },
                { word: "DREAM", hint: "What you see when you sleep" },
                { word: "STAR", hint: "Shines in the night sky" },
                { word: "TREE", hint: "Tall plant with leaves" },
              ],
              medium: [
                { word: "BEAUTIFUL", hint: "Very pretty or attractive" },
                {
                  word: "COMPUTER",
                  hint: "Electronic device for work and games",
                },
                { word: "TELEPHONE", hint: "Device used to call people" },
                { word: "IMPORTANT", hint: "Something that matters a lot" },
                {
                  word: "LANGUAGE",
                  hint: "System of communication like English",
                },
                { word: "DELICIOUS", hint: "Very tasty food" },
                { word: "DIFFERENT", hint: "Not the same as something else" },
                { word: "EXERCISE", hint: "Physical activity for health" },
                { word: "BIRTHDAY", hint: "Day you were born" },
                { word: "VACATION", hint: "Time off from work or school" },
                { word: "ADVENTURE", hint: "Exciting experience" },
                { word: "MOUNTAIN", hint: "Very tall natural landform" },
              ],
              hard: [
                { word: "UNDERSTANDING", hint: "Knowing what something means" },
                {
                  word: "COMMUNICATION",
                  hint: "Sharing information with others",
                },
                {
                  word: "RESPONSIBILITY",
                  hint: "Being accountable for something",
                },
                { word: "ENCYCLOPEDIA", hint: "Book with lots of information" },
                { word: "PRONUNCIATION", hint: "How to say words correctly" },
                { word: "EXTRAORDINARY", hint: "Very unusual or remarkable" },
                { word: "UNFORGETTABLE", hint: "Impossible to forget" },
              ],
            },
            animals: {
              easy: [
                { word: "CAT", hint: "Pet that says meow" },
                { word: "DOG", hint: "Pet that barks and wags tail" },
                { word: "BIRD", hint: "Animal that flies and has wings" },
                { word: "FISH", hint: "Animal that swims in water" },
                { word: "HORSE", hint: "Large animal people can ride" },
                { word: "MOUSE", hint: "Small animal that cats chase" },
                { word: "LION", hint: "King of the jungle" },
                { word: "BEAR", hint: "Large furry animal" },
                { word: "TIGER", hint: "Orange cat with black stripes" },
                { word: "SNAKE", hint: "Long animal with no legs" },
              ],
              medium: [
                {
                  word: "ELEPHANT",
                  hint: "Very large animal with a long trunk",
                },
                { word: "BUTTERFLY", hint: "Colorful flying insect" },
                { word: "KANGAROO", hint: "Australian animal that hops" },
                {
                  word: "PENGUIN",
                  hint: "Black and white bird that cannot fly",
                },
                { word: "DOLPHIN", hint: "Smart ocean mammal" },
                { word: "GIRAFFE", hint: "Tallest animal with long neck" },
                {
                  word: "MONKEY",
                  hint: "Playful animal that swings from trees",
                },
              ],
              hard: [
                { word: "HIPPOPOTAMUS", hint: "Large African water animal" },
                {
                  word: "CHIMPANZEE",
                  hint: "Intelligent ape similar to humans",
                },
                { word: "RHINOCEROS", hint: "Large animal with horn on nose" },
              ],
            },
            food: {
              easy: [
                { word: "APPLE", hint: "Red or green round fruit" },
                { word: "BREAD", hint: "Food made from flour" },
                { word: "MILK", hint: "White drink from cows" },
                { word: "RICE", hint: "Small white grains people eat" },
                { word: "PIZZA", hint: "Round food with cheese and toppings" },
                { word: "CAKE", hint: "Sweet dessert for birthdays" },
                { word: "CHEESE", hint: "Yellow dairy product" },
                { word: "CARROT", hint: "Orange vegetable rabbits love" },
              ],
              medium: [
                { word: "SANDWICH", hint: "Food between two pieces of bread" },
                { word: "CHOCOLATE", hint: "Sweet brown candy" },
                { word: "HAMBURGER", hint: "Meat in a round bun" },
                { word: "SPAGHETTI", hint: "Long thin pasta" },
                {
                  word: "BROCCOLI",
                  hint: "Green vegetable that looks like a tree",
                },
                { word: "STRAWBERRY", hint: "Red berry with seeds outside" },
              ],
              hard: [
                {
                  word: "WATERMELON",
                  hint: "Large green fruit with red inside",
                },
                {
                  word: "CAULIFLOWER",
                  hint: "White vegetable that looks like a tree",
                },
                { word: "POMEGRANATE", hint: "Red fruit with many seeds" },
              ],
            },
            colors: {
              easy: [
                { word: "RED", hint: "Color of blood and roses" },
                { word: "BLUE", hint: "Color of the sky and ocean" },
                { word: "GREEN", hint: "Color of grass and leaves" },
                { word: "YELLOW", hint: "Color of the sun and bananas" },
                { word: "BLACK", hint: "Darkest color" },
                { word: "WHITE", hint: "Lightest color" },
                { word: "PINK", hint: "Light red color" },
                { word: "BROWN", hint: "Color of wood and chocolate" },
              ],
              medium: [
                { word: "PURPLE", hint: "Mix of red and blue" },
                { word: "ORANGE", hint: "Mix of red and yellow" },
                { word: "SILVER", hint: "Shiny gray color" },
                { word: "GOLDEN", hint: "Color of gold and treasure" },
              ],
              hard: [
                {
                  word: "TURQUOISE",
                  hint: "Blue-green color like tropical water",
                },
                { word: "LAVENDER", hint: "Light purple color" },
              ],
            },
            family: {
              easy: [
                { word: "MOTHER", hint: "Female parent" },
                { word: "FATHER", hint: "Male parent" },
                { word: "SISTER", hint: "Female sibling" },
                { word: "BROTHER", hint: "Male sibling" },
                { word: "BABY", hint: "Very young child" },
                { word: "UNCLE", hint: "Brother of your parent" },
                { word: "AUNT", hint: "Sister of your parent" },
              ],
              medium: [
                { word: "DAUGHTER", hint: "Female child" },
                { word: "GRANDSON", hint: "Son of your child" },
                { word: "COUSIN", hint: "Child of your aunt or uncle" },
                { word: "NEPHEW", hint: "Son of your sibling" },
                { word: "PARENTS", hint: "Mother and father together" },
              ],
              hard: [
                { word: "GRANDMOTHER", hint: "Mother of your parent" },
                { word: "GRANDFATHER", hint: "Father of your parent" },
              ],
            },
            school: {
              easy: [
                { word: "BOOK", hint: "You read this to learn" },
                { word: "PEN", hint: "Tool for writing" },
                { word: "DESK", hint: "Table where students sit" },
                { word: "CHAIR", hint: "Furniture you sit on" },
                { word: "PAPER", hint: "White sheets for writing" },
                { word: "RULER", hint: "Tool to measure and draw lines" },
                { word: "ERASER", hint: "Removes pencil marks" },
              ],
              medium: [
                { word: "TEACHER", hint: "Person who helps you learn" },
                { word: "STUDENT", hint: "Person who goes to school" },
                { word: "HOMEWORK", hint: "Work you do at home" },
                { word: "CLASSROOM", hint: "Room where lessons happen" },
                { word: "BACKPACK", hint: "Bag to carry school supplies" },
                { word: "LIBRARY", hint: "Place with many books" },
              ],
              hard: [
                { word: "CALCULATOR", hint: "Machine that helps with math" },
                {
                  word: "DICTIONARY",
                  hint: "Book that explains word meanings",
                },
                { word: "GRADUATION", hint: "Ceremony when you finish school" },
              ],
            },
            weather: {
              easy: [
                { word: "SUN", hint: "Bright light in the sky" },
                { word: "RAIN", hint: "Water drops from clouds" },
                { word: "SNOW", hint: "White flakes in winter" },
                { word: "WIND", hint: "Moving air" },
                { word: "CLOUD", hint: "White or gray in the sky" },
                { word: "STORM", hint: "Very bad weather" },
                { word: "COLD", hint: "Low temperature" },
              ],
              medium: [
                { word: "RAINBOW", hint: "Colorful arc in the sky after rain" },
                { word: "THUNDER", hint: "Loud sound during storms" },
                { word: "LIGHTNING", hint: "Bright flash in the sky" },
                { word: "HURRICANE", hint: "Very strong circular storm" },
                { word: "TORNADO", hint: "Spinning funnel of wind" },
              ],
              hard: [
                { word: "TEMPERATURE", hint: "How hot or cold it is" },
                { word: "METEOROLOGY", hint: "Science of studying weather" },
              ],
            },
          };

          this.init();
        }

        init() {
          this.createAlphabetGrid();
          this.setupEventListeners();
          this.updateStats();
          this.startNewGame();
        }

        loadStats() {
          try {
            const savedStats = localStorage.getItem("balancemanStats");
            if (savedStats) {
              const stats = JSON.parse(savedStats);
              this.score = stats.score || 0;
              this.wordsCompleted = stats.wordsCompleted || 0;
              this.bestStreak = stats.bestStreak || 0;
            }
          } catch (e) {
            console.warn("Could not load stats from localStorage", e);
          }
        }

        saveStats() {
          try {
            const stats = {
              score: this.score,
              wordsCompleted: this.wordsCompleted,
              bestStreak: this.bestStreak,
              lastPlayed: new Date().toISOString(),
            };
            localStorage.setItem("balancemanStats", JSON.stringify(stats));
          } catch (e) {
            console.warn("Could not save stats to localStorage", e);
          }
        }

        updateStats() {
          this.updateStatWithAnimation("correctGuesses", this.correctGuesses);
          this.updateStatWithAnimation("wrongGuesses", this.wrongGuesses);
          this.updateStatWithAnimation("wordsCompleted", this.wordsCompleted);
          this.updateStatWithAnimation("gameScore", this.score);
          this.updateStatWithAnimation("currentStreak", this.currentStreak);
          this.updateStatWithAnimation("bestStreak", this.bestStreak);
        }

        createAlphabetGrid() {
          const grid = document.getElementById("alphabetGrid");
          const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

          grid.innerHTML = "";
          for (let letter of letters) {
            const button = document.createElement("button");
            button.className = "letter-btn";
            button.textContent = letter;
            button.setAttribute("aria-label", `Letter ${letter}`);
            button.onclick = () => this.guessLetter(letter);
            grid.appendChild(button);
          }
        }

        setupEventListeners() {
          document.getElementById("newGameBtn").onclick = () =>
            this.startNewGame();
          document.getElementById("hintBtn").onclick = () => this.showHint();

          const skipBtn = document.getElementById("skipWordBtn");
          if (skipBtn) {
            skipBtn.onclick = () => this.skipWord();
          }

          // Difficulty selector
          document.querySelectorAll(".difficulty-btn").forEach((btn) => {
            btn.onclick = () => {
              document.querySelectorAll(".difficulty-btn").forEach((b) => {
                b.classList.remove("active");
                b.setAttribute("aria-checked", "false");
              });
              btn.classList.add("active");
              btn.setAttribute("aria-checked", "true");
              this.difficulty = btn.dataset.difficulty;
              this.usedWords.clear(); // Reset used words when changing difficulty
              this.startNewGame();
            };
          });

          // Category selector
          document.querySelectorAll(".category-btn").forEach((btn) => {
            btn.onclick = () => {
              document.querySelectorAll(".category-btn").forEach((b) => {
                b.classList.remove("active");
                b.setAttribute("aria-checked", "false");
              });
              btn.classList.add("active");
              btn.setAttribute("aria-checked", "true");
              this.currentCategory = btn.dataset.category;
              this.usedWords.clear(); // Reset used words when changing category
              this.startNewGame();
            };
          });

          // Keyboard support
          document.addEventListener("keydown", (e) => {
            const letter = e.key.toUpperCase();
            if (
              letter >= "A" &&
              letter <= "Z" &&
              !this.guessedLetters.has(letter)
            ) {
              e.preventDefault();
              const letterBtn = Array.from(
                document.querySelectorAll(".letter-btn")
              ).find((btn) => btn.textContent === letter && !btn.disabled);
              if (letterBtn) {
                this.guessLetter(letter);
              }
            } else if (e.key === "Enter") {
              e.preventDefault();
              if (document.getElementById("newGameBtn").offsetParent !== null) {
                this.startNewGame();
              }
            } else if (e.key === "h" || e.key === "H") {
              e.preventDefault();
              if (!document.getElementById("hintBtn").disabled) {
                this.showHint();
              }
            } else if (e.key === "s" || e.key === "S") {
              e.preventDefault();
              const skipBtn = document.getElementById("skipWordBtn");
              if (skipBtn && !skipBtn.disabled) {
                this.skipWord();
              }
            } else if (e.key === "Escape") {
              e.preventDefault();
              if (confirm("Are you sure you want to exit the game?")) {
                window.location.href = "../games.html";
              }
            }
          });
        }

        startNewGame() {
          this.guessedLetters.clear();
          this.wrongGuesses = 0;
          this.correctGuesses = 0;
          this.hintUsed = false;

          // Get random word from selected category and difficulty
          const wordList =
            this.wordLists[this.currentCategory][this.difficulty];

          // Filter out already used words
          const availableWords = wordList.filter(
            (item) => !this.usedWords.has(item.word)
          );

          // If all words have been used, reset the used words
          if (availableWords.length === 0) {
            this.usedWords.clear();
            this.showMessage(
              "üéâ You completed all words in this category! Starting over...",
              "success"
            );
            setTimeout(() => this.hideMessage(), 2000);
          }

          const wordsToUse =
            availableWords.length > 0 ? availableWords : wordList;
          const randomIndex = Math.floor(Math.random() * wordsToUse.length);
          const selectedWord = wordsToUse[randomIndex];

          this.currentWord = selectedWord.word;
          this.currentHint = selectedWord.hint;
          this.usedWords.add(this.currentWord);

          this.updateDisplay();
          this.resetAlphabetGrid();
          this.updateBalanceMan();
          this.hideMessage();

          // Reset hint button
          const hintBtn = document.getElementById("hintBtn");
          hintBtn.disabled = false;
          hintBtn.innerHTML =
            '<i class="fas fa-lightbulb" aria-hidden="true"></i> Get Hint (-5 pts)';

          // Update progress bar
          const progressBar = document.querySelector(".progress-bar");
          if (progressBar) {
            progressBar.setAttribute("aria-valuenow", "0");
          }
        }

        skipWord() {
          this.currentStreak = 0;
          this.showMessage("‚è≠Ô∏è Word skipped. Streak reset!", "danger");
          this.updateStats();
          setTimeout(() => {
            this.startNewGame();
          }, 1500);
        }

        guessLetter(letter) {
          if (this.guessedLetters.has(letter)) return;

          this.guessedLetters.add(letter);

          const letterBtn = Array.from(
            document.querySelectorAll(".letter-btn")
          ).find((btn) => btn.textContent === letter);

          if (!letterBtn) return;

          letterBtn.disabled = true;
          letterBtn.setAttribute("aria-pressed", "true");

          // Add loading state
          letterBtn.classList.add("loading");

          setTimeout(() => {
            letterBtn.classList.remove("loading");

            if (this.currentWord.includes(letter)) {
              letterBtn.classList.add("correct");
              this.correctGuesses++;
              this.score += 10;
              this.animateScoreIncrease();

              // Play success sound effect (if available)
              this.playSound("correct");

              // Announce to screen readers
              this.announceToScreenReader(
                `Correct! Letter ${letter} is in the word.`
              );

              if (this.isWordComplete()) {
                this.handleWordComplete();
              }
            } else {
              letterBtn.classList.add("incorrect");
              this.wrongGuesses++;

              // Play error sound effect (if available)
              this.playSound("incorrect");

              // Announce to screen readers
              this.announceToScreenReader(
                `Incorrect. Letter ${letter} is not in the word. ${
                  this.maxWrongGuesses - this.wrongGuesses
                } guesses remaining.`
              );

              if (this.wrongGuesses >= this.maxWrongGuesses) {
                this.handleGameOver();
              }
            }

            this.updateDisplay();
            this.updateBalanceMan();
          }, 200);
        }

        announceToScreenReader(message) {
          const announcement = document.createElement("div");
          announcement.setAttribute("role", "status");
          announcement.setAttribute("aria-live", "polite");
          announcement.className = "sr-only";
          announcement.textContent = message;
          document.body.appendChild(announcement);
          setTimeout(() => announcement.remove(), 1000);
        }

        animateScoreIncrease() {
          const scoreElement = document.getElementById("gameScore");
          scoreElement.classList.add("score-animation");
          setTimeout(() => {
            scoreElement.classList.remove("score-animation");
          }, 600);
        }

        playSound(type) {
          // Simple audio feedback using Web Audio API
          try {
            const audioContext = new (window.AudioContext ||
              window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            if (type === "correct") {
              oscillator.frequency.setValueAtTime(
                523.25,
                audioContext.currentTime
              ); // C5
              oscillator.frequency.setValueAtTime(
                659.25,
                audioContext.currentTime + 0.1
              ); // E5
            } else {
              oscillator.frequency.setValueAtTime(
                220,
                audioContext.currentTime
              ); // A3
              oscillator.frequency.setValueAtTime(
                196,
                audioContext.currentTime + 0.1
              ); // G3
            }

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(
              0.01,
              audioContext.currentTime + 0.3
            );

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
          } catch (e) {
            // Audio not supported or blocked
          }
        }

        isWordComplete() {
          return this.currentWord
            .split("")
            .every(
              (letter) => this.guessedLetters.has(letter) || letter === " "
            );
        }

        handleWordComplete() {
          this.wordsCompleted++;
          this.currentStreak++;

          // Update best streak
          if (this.currentStreak > this.bestStreak) {
            this.bestStreak = this.currentStreak;
          }

          const bonusScore = this.hintUsed ? 25 : 50;
          const streakBonus =
            this.currentStreak > 1 ? this.currentStreak * 5 : 0;
          const totalBonus = bonusScore + streakBonus;
          this.score += totalBonus;

          // Save stats
          this.saveStats();

          // Create celebration effect
          this.createCelebrationEffect();

          let message = this.hintUsed
            ? `üéâ Great job! BalanceMan is safe! (+${totalBonus} points)`
            : `üåü Perfect! No hints needed! (+${totalBonus} points)`;

          if (streakBonus > 0) {
            message += ` | üî• ${this.currentStreak} win streak! (+${streakBonus} bonus)`;
          }

          this.showMessage(message, "success");

          // Add confetti animation
          this.showConfetti();

          // Announce to screen readers
          this.announceToScreenReader(
            `Congratulations! You completed the word ${this.currentWord}. ${message}`
          );

          setTimeout(() => {
            this.startNewGame();
          }, 2500);
        }

        createCelebrationEffect() {
          const balanceArea = document.querySelector(".balance-area");
          balanceArea.style.background = "var(--gradient-success)";
          balanceArea.style.transform = "scale(1.02)";

          setTimeout(() => {
            balanceArea.style.transform = "scale(1)";
          }, 300);
        }

        showConfetti() {
          // Simple confetti effect
          const colors = [
            "#ff6b6b",
            "#4ecdc4",
            "#45b7d1",
            "#96ceb4",
            "#ffeaa7",
            "#dda0dd",
          ];

          for (let i = 0; i < 20; i++) {
            setTimeout(() => {
              const confetti = document.createElement("div");
              confetti.style.cssText = `
                position: fixed;
                top: -10px;
                left: ${Math.random() * 100}vw;
                width: 10px;
                height: 10px;
                background: ${
                  colors[Math.floor(Math.random() * colors.length)]
                };
                z-index: 1000;
                border-radius: 50%;
                animation: confetti-fall 3s linear forwards;
                pointer-events: none;
              `;

              document.body.appendChild(confetti);

              setTimeout(() => {
                confetti.remove();
              }, 3000);
            }, i * 100);
          }
        }

        handleGameOver() {
          this.currentStreak = 0;
          this.showMessage(
            `üíî BalanceMan fell! The word was "${this.currentWord}". Streak reset!`,
            "danger"
          );

          // Save stats
          this.saveStats();

          // Announce to screen readers
          this.announceToScreenReader(
            `Game over. The word was ${this.currentWord}. Your streak has been reset.`
          );

          // Disable all letter buttons with animation
          document.querySelectorAll(".letter-btn").forEach((btn, index) => {
            setTimeout(() => {
              btn.disabled = true;
              btn.style.opacity = "0.5";
            }, index * 50);
          });

          // Auto-restart after delay
          setTimeout(() => {
            const shouldRestart = confirm(
              "Would you like to try again with a new word?"
            );
            if (shouldRestart) {
              this.startNewGame();
            } else {
              window.location.href = "../games.html";
            }
          }, 3000);
        }

        updateDisplay() {
          // Update word display with animation
          const display = this.currentWord
            .split("")
            .map((letter, index) => {
              if (this.guessedLetters.has(letter) || letter === " ") {
                return `<span class="letter-reveal" style="animation-delay: ${
                  index * 0.1
                }s">${letter}</span>`;
              }
              return "_";
            })
            .join(" ");

          document.getElementById("wordDisplay").innerHTML = display;

          // Update stats with smooth transitions
          this.updateStats();
        }

        updateStatWithAnimation(elementId, newValue) {
          const element = document.getElementById(elementId);
          const currentValue = parseInt(element.textContent) || 0;

          if (newValue !== currentValue) {
            // Animate number change
            const increment = newValue > currentValue ? 1 : -1;
            const step = () => {
              const current = parseInt(element.textContent) || 0;
              if (
                (increment > 0 && current < newValue) ||
                (increment < 0 && current > newValue)
              ) {
                element.textContent = current + increment;
                setTimeout(step, 50);
              } else {
                element.textContent = newValue;
              }
            };
            step();
          }
        }

        updateBalanceMan() {
          const figure = document.getElementById("balancemanFigure");
          const status = document.getElementById("balanceStatus");
          const balanceArea = document.querySelector(".balance-area");

          const dangerLevel = this.wrongGuesses / this.maxWrongGuesses;
          const progressPercent = dangerLevel * 100;

          // Update progress bar
          const progressFill = document.getElementById("progressFill");
          if (progressFill) {
            progressFill.style.width = `${progressPercent}%`;
          }

          // Remove existing classes
          figure.className = "balanceman";
          balanceArea.classList.remove("danger-bg");

          if (dangerLevel === 0) {
            figure.textContent = "‚öñÔ∏è";
            figure.classList.add("safe");
            status.textContent = "BalanceMan is perfectly balanced! üéØ";
            status.style.color = "var(--success-color)";
          } else if (dangerLevel < 0.33) {
            figure.textContent = "‚öñÔ∏è";
            figure.classList.add("safe");
            status.textContent = "BalanceMan is slightly wobbly... üòÖ";
            status.style.color = "var(--secondary-color)";
          } else if (dangerLevel < 0.67) {
            figure.textContent = "ü§π";
            figure.classList.add("danger");
            status.textContent = "BalanceMan is struggling to balance! üò∞";
            status.style.color = "var(--orange-color)";
            balanceArea.classList.add("danger-bg");
          } else if (dangerLevel < 1) {
            figure.textContent = "ü§∏";
            figure.classList.add("danger");
            status.textContent = "BalanceMan is about to fall! üö®";
            status.style.color = "var(--danger-color)";
            balanceArea.classList.add("danger-bg");
          } else {
            figure.textContent = "ÔøΩ";
            figure.classList.add("danger");
            status.textContent = "BalanceMan has fallen! üíî";
            status.style.color = "var(--danger-color)";
            balanceArea.classList.add("danger-bg");
          }

          // Add shake animation for danger states
          if (dangerLevel >= 0.5) {
            figure.style.animation = "shake 0.5s ease-in-out infinite";
          } else {
            figure.style.animation = "";
          }
        }

        resetAlphabetGrid() {
          document.querySelectorAll(".letter-btn").forEach((btn) => {
            btn.disabled = false;
            btn.classList.remove("correct", "incorrect");
          });
        }

        showHint() {
          if (!this.hintUsed) {
            document.getElementById(
              "wordHint"
            ).textContent = `üí° Hint: ${this.currentHint}`;
            this.hintUsed = true;

            const hintBtn = document.getElementById("hintBtn");
            hintBtn.disabled = true;
            hintBtn.textContent = "Hint Used";
            hintBtn.innerHTML =
              '<i class="fas fa-check" aria-hidden="true"></i> Hint Used';
            hintBtn.setAttribute("aria-label", "Hint has been used");

            this.score = Math.max(0, this.score - 5); // Small penalty for using hint
            this.updateDisplay();
            this.animateScoreDecrease();

            // Announce to screen readers
            this.announceToScreenReader(
              `Hint revealed: ${this.currentHint}. 5 points deducted.`
            );
          }
        }

        animateScoreDecrease() {
          const scoreElement = document.getElementById("gameScore");
          scoreElement.style.color = "var(--danger-color)";
          scoreElement.classList.add("score-animation");
          setTimeout(() => {
            scoreElement.classList.remove("score-animation");
            scoreElement.style.color = "";
          }, 600);
        }

        showMessage(text, type) {
          const message = document.getElementById("gameMessage");
          message.textContent = text;
          message.className = `game-message message-${type}`;
          message.style.display = "block";
        }

        hideMessage() {
          document.getElementById("gameMessage").style.display = "none";
          document.getElementById("wordHint").textContent =
            "Category: " +
            this.currentCategory.charAt(0).toUpperCase() +
            this.currentCategory.slice(1);
        }
      }

      // Initialize game when page loads
      document.addEventListener("DOMContentLoaded", () => {
        new BalanceManGame();
      });
    </script>
    <script src="../js/game-ads.js"></script>
  
    <!-- Google AdSense -->
    <div class="ad-container" style="margin: 2rem auto; max-width: 100%; text-align: center; padding: 0 1rem;">
      <ins class="adsbygoogle"
           style="display: block; text-align: center;"
           data-ad-client="ca-pub-2456627863532019"
           data-ad-slot="1718707782"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

  </body>
</html>
