<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Play 10+ free ESL games online at ESL Fun Online! Interactive vocabulary, grammar, reading & speaking games for all English levels. Start learning through fun today!"
    />
    <meta
      name="keywords"
      content="English learning games, ESL games, vocabulary games, grammar games, educational games, language learning, interactive English, learning activities, online games"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta
      property="og:title"
      content="ESL Fun Online Games | Free ESL Games Online - Interactive Learning"
    />
    <meta
      property="og:description"
      content="Play 10+ free ESL games online at ESL Fun Online! Interactive vocabulary, grammar, reading & speaking games for all English levels. Start learning through fun today!"
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/1.webp"
    />
    <meta
      property="og:url"
      content="https://eslfunonline.com/games/games.html"
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="ESL Fun Online Games | Free ESL Games Online - Interactive Learning"
    />
    <meta
      name="twitter:description"
      content="Play 10+ free ESL games online at ESL Fun Online! Interactive vocabulary, grammar, reading & speaking games for all English levels."
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/1.webp"
    />
    <link rel="canonical" href="https://eslfunonline.com/games/games.html" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <title>
      English Learning Games | ESL Fun Online - Interactive Educational Games
      Hub
    </title>

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "EducationalOrganization",
        "name": "ESL Fun Online - Learning Games Hub",
        "description": "Interactive English learning games to improve vocabulary, grammar, reading, listening and speaking skills for all ages and skill levels",
        "url": "https://eslfunonline.com/games/games.html",
        "logo": "https://eslfunonline.com/images/1.webp",
        "sameAs": [
          "https://www.facebook.com/eslfunonline",
          "https://twitter.com/eslfunonline"
        ],
        "offers": {
          "@type": "Offer",
          "category": "Educational Games",
          "description": "Interactive English learning games and activities",
          "price": "0",
          "priceCurrency": "USD"
        },
        "educationalCredentialAwarded": "Game-Based Learning Certificate",
        "hasCredential": {
          "@type": "EducationalOccupationalCredential",
          "name": "English Learning Games Certificate"
        }
      }
    </script>

    <!-- Enhanced Game Collection Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "ESL Fun Online Games Collection",
        "description": "10+ free ESL games online for vocabulary, grammar, reading, listening, and speaking practice",
        "url": "https://eslfunonline.com/games/games.html",
        "mainEntity": {
          "@type": "ItemList",
          "name": "Free ESL Games Online",
          "description": "Interactive English learning games for all skill levels",
          "numberOfItems": 10,
          "itemListElement": [
            {
              "@type": "Game",
              "name": "Uno Word Challenge",
              "description": "Master card strategy while building vocabulary! Play UNO with English word challenges.",
              "url": "https://eslfunonline.com/games/uno.html",
              "gamePlatform": "Web Browser",
              "genre": "Educational",
              "educationalAlignment": "Vocabulary Building",
              "typicalAgeRange": "13+",
              "contentRating": "Everyone"
            },
            {
              "@type": "Game",
              "name": "Quiz Champion",
              "description": "Test your English knowledge with multiple-choice questions covering grammar, vocabulary, and more.",
              "url": "https://eslfunonline.com/games/quizchamp.html",
              "gamePlatform": "Web Browser",
              "genre": "Educational",
              "educationalAlignment": "Grammar Practice",
              "typicalAgeRange": "13+",
              "contentRating": "Everyone"
            },
            {
              "@type": "Game",
              "name": "BalanceMan",
              "description": "Save the BalanceMan by guessing English words! A hangman-style game with ESL vocabulary.",
              "url": "https://eslfunonline.com/games/balanceman.html",
              "gamePlatform": "Web Browser",
              "genre": "Educational",
              "educationalAlignment": "Vocabulary Recognition",
              "typicalAgeRange": "10+",
              "contentRating": "Everyone"
            }
          ]
        }
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-9G9RD6BHLN");
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <title>
      ESL Fun Online Games | Free ESL Games Online - Interactive Learning
    </title>

    <!-- Favicon and Icons -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../images/logo-optimized.webp"
    />
    <link
      rel="icon"
      type="image/webp"
      sizes="32x32"
      href="../images/logo-optimized.webp"
    />
    <link
      rel="icon"
      type="image/webp"
      sizes="16x16"
      href="../images/logo-optimized.webp"
    />
    <!-- PNG fallbacks -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../images/logo-optimized.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/logo-optimized.png"
    />

    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link
      rel="preload"
      href="../images/hero.webp"
      as="image"
      fetchpriority="high"
    />

    <!-- External Resources -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Load CSS files in standardized order for consistency -->
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/layout-fixes.css" />
    <link rel="stylesheet" href="../css/mobile-footer.css" />

    <style>
      /* CSS Variables for Design System */
      :root {
        --primary-color: #46bbe5;
        --primary-hover: #05425c;
        --primary-light: rgba(79, 70, 229, 0.1);
        --secondary-color: #f59e0b;
        --accent-color: #10b981;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --text-light: #9ca3af;
        --text-muted: #9ca3af;
        --text-inverse: #ffffff;
        --bg-primary: #ffffff;
        --bg-secondary: #f9fafb;
        --bg-tertiary: #f3f4f6;
        --bg-card: #ffffff;
        --border-color: #e5e7eb;
        --border-light: #e5e7eb;
        --border-medium: #d1d5db;
        --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -2px rgb(0 0 0 / 0.1);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1),
          0 4px 6px -4px rgb(0 0 0 / 0.1);
        --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1),
          0 8px 10px -6px rgb(0 0 0 / 0.1);
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        --gradient-hero: linear-gradient(
          135deg,
          #4f46e5 0%,
          #7c3aed 50%,
          #ec4899 100%
        );
        --success: #10b981;
        --success-color: #10b981;
        --error-color: #ef4444;
        --warning-color: #f59e0b;
        --info: #06b6d4;
        --radius: 0.5rem;
        --radius-sm: 0.25rem;
        --radius-lg: 0.75rem;
        --radius-xl: 1rem;
        --transition: all 0.3s ease;
        --transition-slow: all 0.4s ease;
      }

      /* Dark Mode Variables */
      .dark-mode {
        --text-primary: #f9fafb;
        --text-secondary: #d1d5db;
        --text-light: #9ca3af;
        --text-muted: #9ca3af;
        --bg-primary: #111827;
        --bg-secondary: #1f2937;
        --bg-tertiary: #374151;
        --bg-card: #1f2937;
        --border-color: #374151;
        --border-light: #374151;
        --border-medium: #4b5563;
      }

      /* Smooth scrolling for the whole page */
      html {
        scroll-behavior: smooth;
      }

      /* Add some CSS animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      @keyframes shimmer {
        0% {
          background-position: -200px 0;
        }
        100% {
          background-position: 200px 0;
        }
      }

      .animate-fade-in-up {
        animation: fadeInUp 0.6s ease-out forwards;
      }

      .animate-pulse {
        animation: pulse 2s infinite;
      }

      /* Hero Section */
      .hero {
        position: relative;
        overflow: hidden;
        background: linear-gradient(135deg, #66c5ea3e 0%, #4b72a287 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 0 !important;
      }

      .hero-bg {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
        pointer-events: none;
        opacity: 0.7;
      }

      .hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(24, 40, 72, 0.9) 0%,
          rgba(70, 187, 229, 0.8) 50%,
          rgba(16, 185, 129, 0.85) 100%
        );
        z-index: 1;
      }

      .hero-content {
        position: relative;
        z-index: 2;
        color: white;
        text-align: center;
        max-width: 900px;
        padding: 2rem;
      }

      .hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--accent-color)
        );
        color: white;
        padding: 1rem 2rem;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 700;
        margin-bottom: 2rem;
        backdrop-filter: blur(20px);
        border: 2px solid rgba(70, 187, 229, 0.4);
        box-shadow: 0 8px 32px rgba(70, 187, 229, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        animation: pulse 2s ease-in-out infinite;
      }

      .hero-badge i {
        font-size: 1.2rem;
        animation: sparkle 2.5s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 8px 32px rgba(70, 187, 229, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 12px 40px rgba(70, 187, 229, 0.6),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
      }

      @keyframes sparkle {
        0%,
        100% {
          transform: rotate(0deg) scale(1);
        }
        25% {
          transform: rotate(-10deg) scale(1.1);
        }
        75% {
          transform: rotate(10deg) scale(1.1);
        }
      }

      .hero-title {
        font-family: "Poppins", sans-serif;
        font-size: clamp(2rem, 5vw, 3.5rem);
        font-weight: 800;
        margin-bottom: 1rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        color: white;
      }

      .hero-subtitle {
        font-size: 1.125rem;
        opacity: 0.95;
        max-width: 600px;
        margin: 0 auto 2rem;
        color: white;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }

      .hero-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1.5rem;
        margin-top: 3rem;
        justify-content: center;
      }

      .stat-item {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 2rem 1.5rem;
        text-align: center;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .stat-item::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: rotate(45deg);
        transition: all 0.5s;
        opacity: 0;
      }

      .stat-item:hover::before {
        opacity: 1;
        animation: shimmer 1.5s ease-in-out;
      }

      .stat-item:hover {
        transform: translateY(-5px) scale(1.02);
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.3);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      }

      .stat-icon {
        width: 50px;
        height: 50px;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--accent-color)
        );
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        box-shadow: 0 8px 20px rgba(70, 187, 229, 0.3);
      }

      .stat-icon i {
        font-size: 1.2rem;
        color: white;
      }

      .stat-number {
        display: block;
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: white;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
        color: rgba(255, 255, 255, 0.8);
        font-weight: 500;
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      /* Main Content */
      .main-content {
        padding: 3rem 0;
        background: var(--bg-secondary);
        min-height: calc(100vh - 400px);
      }

      /* Quick Filters */
      .quick-filters {
        background: var(--bg-card);
        border-radius: var(--radius-lg);
        padding: 1.5rem;
        margin-bottom: 2rem;
        box-shadow: var(--shadow);
        border: 1px solid var(--border-light);
      }

      .quick-filters h3 {
        font-family: "Poppins", sans-serif;
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: var(--text-primary);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .filter-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
      }

      .filter-btn {
        background: var(--bg-tertiary);
        border: 2px solid var(--border-light);
        color: var(--text-secondary);
        padding: 0.625rem 1rem;
        border-radius: var(--radius-xl);
        cursor: pointer;
        font-size: 0.875rem;
        font-weight: 500;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        white-space: nowrap;
      }

      .filter-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
        background: var(--primary-light);
        transform: translateY(-1px);
      }

      .filter-btn.active {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: var(--text-inverse);
        box-shadow: var(--shadow);
      }

      .filter-btn i {
        font-size: 0.875rem;
      }

      /* Search Controls Container */
      .search-controls {
        display: flex;
        gap: 1rem;
        align-items: center;
        flex-wrap: wrap;
        justify-content: space-between;
      }

      /* Search Bar */
      .search-container {
        position: relative;
        flex: 1;
        max-width: 400px;
        min-width: 250px;
      }

      .search-input {
        width: 100%;
        padding: 0.875rem 3rem 0.875rem 3rem;
        border: 2px solid var(--border-light);
        border-radius: var(--radius);
        background: var(--bg-primary);
        color: var(--text-primary);
        font-size: 0.875rem;
        transition: var(--transition);
      }

      .search-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
      }

      .search-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
        pointer-events: none;
        transition: var(--transition);
      }

      .search-input:focus + .search-icon {
        color: var(--primary-color);
      }

      .clear-search {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: var(--text-muted);
        cursor: pointer;
        padding: 0.25rem;
        border-radius: 50%;
        transition: var(--transition);
      }

      .clear-search:hover {
        color: var(--error-color);
        background: rgba(239, 68, 68, 0.1);
      }

      /* Sort Container */
      .sort-container {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .sort-label {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-secondary);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        white-space: nowrap;
      }

      .sort-select {
        padding: 0.625rem 0.875rem;
        border: 2px solid var(--border-light);
        border-radius: var(--radius);
        background: var(--bg-primary);
        color: var(--text-primary);
        font-size: 0.875rem;
        cursor: pointer;
        transition: var(--transition);
        min-width: 120px;
      }

      .sort-select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
      }

      /* Active Filters Display */
      .active-filters {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid var(--border-light);
      }

      .active-filter {
        background: var(--primary-color);
        color: var(--text-inverse);
        padding: 0.375rem 0.75rem;
        border-radius: var(--radius-xl);
        font-size: 0.75rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        animation: slideIn 0.2s ease-out;
      }

      .remove-filter {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: var(--text-inverse);
        cursor: pointer;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        transition: var(--transition);
      }

      .remove-filter:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-10px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Games Grid - Enhanced Layout */
      .games-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
        gap: 2.5rem;
        padding: 0;
        margin: 0;
      }

      /* Card Load Animation */
      @keyframes cardFadeIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .game-card {
        animation: cardFadeIn 0.6s ease-out forwards;
      }

      .game-card:nth-child(1) {
        animation-delay: 0.1s;
      }
      .game-card:nth-child(2) {
        animation-delay: 0.2s;
      }
      .game-card:nth-child(3) {
        animation-delay: 0.3s;
      }
      .game-card:nth-child(4) {
        animation-delay: 0.4s;
      }
      .game-card:nth-child(5) {
        animation-delay: 0.5s;
      }
      .game-card:nth-child(6) {
        animation-delay: 0.6s;
      }

      /* Enhanced Game Card Styles */
      .game-card {
        background: var(--bg-card);
        border: 2px solid transparent;
        border-radius: 20px;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12),
          0 4px 16px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        display: flex;
        flex-direction: column;
        height: 380px;
        position: relative;
        backdrop-filter: blur(10px);
        will-change: transform, box-shadow;
        background: linear-gradient(
          145deg,
          var(--bg-card),
          rgba(255, 255, 255, 0.98)
        );
      }

      .game-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(70, 187, 229, 0.05) 0%,
          rgba(16, 185, 129, 0.05) 50%,
          rgba(245, 158, 11, 0.05) 100%
        );
        border-radius: 20px;
        z-index: 0;
        opacity: 0;
        transition: opacity 0.4s ease;
        pointer-events: none;
      }

      .game-card:hover {
        transform: translateY(-12px) scale(1.03);
        box-shadow: 0 25px 50px rgba(70, 187, 229, 0.25),
          0 12px 35px rgba(0, 0, 0, 0.15), 0 0 0 2px rgba(70, 187, 229, 0.2),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        border-color: rgba(70, 187, 229, 0.3);
      }

      .game-card:hover::before {
        opacity: 1;
      }

      .game-card:active {
        transform: translateY(-4px) scale(1.01);
        transition: all 0.1s ease;
      }

      .game-image-container {
        position: relative;
        height: 220px;
        overflow: hidden;
        background: linear-gradient(
          135deg,
          var(--primary-color) 0%,
          var(--secondary-color) 100%
        );
        flex-shrink: 0;
        z-index: 2;
        border-radius: 16px 16px 0 0;
      }

      .game-image-container::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          to bottom,
          rgba(0, 0, 0, 0) 0%,
          rgba(0, 0, 0, 0.05) 50%,
          rgba(0, 0, 0, 0.15) 100%
        );
        z-index: 3;
        opacity: 0;
        transition: opacity 0.4s ease;
      }

      .game-card:hover .game-image-container::after {
        opacity: 1;
      }

      .game-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        filter: brightness(1.05) contrast(1.1);
      }

      .game-card:hover .game-image {
        transform: scale(1.1) rotate(1deg);
        filter: brightness(1.15) contrast(1.2);
      }

      .game-fallback-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 3rem;
        color: white;
        opacity: 0.9;
      }

      .favorite-btn {
        position: absolute;
        top: 18px;
        right: 18px;
        background: rgba(255, 255, 255, 0.95);
        border: none;
        color: #666;
        padding: 12px;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 20;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(15px);
        border: 2px solid rgba(255, 255, 255, 0.8);
      }

      .favorite-btn:hover {
        background: var(--primary-color);
        color: white;
        transform: scale(1.2) rotate(-5deg);
        box-shadow: 0 6px 25px rgba(70, 187, 229, 0.4);
        border-color: var(--primary-color);
      }

      .favorite-btn.active {
        background: linear-gradient(135deg, #e74c3c, #ff6b6b);
        color: white;
        transform: scale(1.15);
        box-shadow: 0 6px 25px rgba(231, 76, 60, 0.4);
        border-color: #e74c3c;
        animation: heartbeat 0.6s ease-in-out;
      }

      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1.15);
        }
        50% {
          transform: scale(1.25);
        }
      }

      .game-content {
        padding: 24px;
        flex: 1;
        display: flex;
        flex-direction: column;
        z-index: 5;
        background: var(--bg-card);
        position: relative;
        border-radius: 0 0 20px 20px;
      }

      .game-title {
        font-size: 1.3rem;
        font-weight: 700;
        margin: 0 0 12px 0;
        color: var(--text-primary);
        line-height: 1.2;
        letter-spacing: -0.02em;
        transition: color 0.3s ease;
        background: linear-gradient(
          135deg,
          var(--text-primary),
          var(--primary-color)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .game-card:hover .game-title {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .game-description {
        color: var(--text-secondary);
        font-size: 0.95rem;
        line-height: 1.5;
        margin: 0 0 auto 0;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        line-clamp: 2;
        -webkit-box-orient: vertical;
        font-weight: 400;
      }

      .game-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid var(--border-light);
        position: relative;
        z-index: 10;
      }

      .game-skill {
        background: linear-gradient(
          135deg,
          rgba(70, 187, 229, 0.15),
          rgba(16, 185, 129, 0.15)
        );
        color: var(--primary-color);
        padding: 8px 16px;
        border-radius: 25px;
        font-size: 0.85rem;
        font-weight: 700;
        text-transform: capitalize;
        border: 2px solid rgba(70, 187, 229, 0.3);
        position: relative;
        z-index: 10;
        transition: all 0.3s ease;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .game-card:hover .game-skill {
        background: linear-gradient(
          135deg,
          rgba(70, 187, 229, 0.25),
          rgba(16, 185, 129, 0.25)
        );
        border-color: rgba(70, 187, 229, 0.5);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(70, 187, 229, 0.2);
      }

      .btn-play {
        background: linear-gradient(
          135deg,
          var(--primary-color) 0%,
          var(--secondary-color) 100%
        );
        color: white !important;
        border: none;
        padding: 14px 28px;
        border-radius: 30px;
        font-size: 0.95rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        box-shadow: 0 6px 20px rgba(70, 187, 229, 0.3);
        position: relative;
        z-index: 15;
        overflow: hidden;
        text-decoration: none;
        min-width: 110px;
        white-space: nowrap;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .btn-play::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.6s;
      }

      .btn-play:hover {
        background: linear-gradient(
          135deg,
          var(--primary-hover) 0%,
          #059669 100%
        );
        transform: translateY(-3px) scale(1.06);
        box-shadow: 0 12px 30px rgba(70, 187, 229, 0.5);
        color: white !important;
      }

      .btn-play:hover::before {
        left: 100%;
      }

      .btn-play:active {
        transform: translateY(0) scale(0.98);
        transition: transform 0.1s;
      }

      .btn-play:focus {
        outline: 3px solid rgba(70, 187, 229, 0.5);
        outline-offset: 2px;
      }

      /* Notification System */
      .notification {
        position: fixed;
        top: 100px;
        right: 1rem;
        background: var(--bg-card);
        border: 1px solid var(--border-light);
        border-radius: var(--radius);
        padding: 1rem 1.5rem;
        box-shadow: var(--shadow-lg);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        max-width: 350px;
        opacity: 0;
        transform: translateX(100%);
        transition: var(--transition);
      }

      .notification.show {
        opacity: 1;
        transform: translateX(0);
      }

      .notification.success {
        border-left: 4px solid var(--success-color);
      }

      .notification.info {
        border-left: 4px solid var(--primary-color);
      }

      .notification.error {
        border-left: 4px solid var(--error-color);
      }

      .notification-icon {
        font-size: 1.25rem;
      }

      .notification.success .notification-icon {
        color: var(--success-color);
      }

      .notification.info .notification-icon {
        color: var(--primary-color);
      }

      .notification.error .notification-icon {
        color: var(--error-color);
      }

      /* Game Modal */
      .game-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: var(--transition);
        padding: 1rem;
      }

      .game-modal.show {
        opacity: 1;
        visibility: visible;
      }

      .modal-content {
        background: var(--bg-card);
        border-radius: var(--radius-lg);
        max-width: 600px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: var(--shadow-xl);
        transform: scale(0.9) translateY(-20px);
        transition: var(--transition);
      }

      .game-modal.show .modal-content {
        transform: scale(1) translateY(0);
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem;
        border-bottom: 1px solid var(--border-light);
      }

      .modal-header h3 {
        font-family: "Poppins", sans-serif;
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-primary);
        margin: 0;
      }

      .modal-close {
        background: none;
        border: none;
        color: var(--text-muted);
        font-size: 1.25rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 50%;
        transition: var(--transition);
      }

      .modal-close:hover {
        background: var(--bg-tertiary);
        color: var(--text-primary);
      }

      .modal-body {
        padding: 1.5rem;
      }

      .modal-game-image {
        width: 100%;
        height: 200px;
        border-radius: var(--radius);
        overflow: hidden;
        margin-bottom: 1.5rem;
        background: linear-gradient(
          135deg,
          var(--primary-color) 0%,
          var(--secondary-color) 100%
        );
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-game-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .modal-fallback-icon {
        font-size: 4rem;
        color: rgba(255, 255, 255, 0.8);
      }

      .modal-description {
        font-size: 1rem;
        line-height: 1.6;
        color: var(--text-secondary);
        margin-bottom: 1.5rem;
      }

      .modal-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .modal-stat {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-secondary);
        font-size: 0.875rem;
      }

      .modal-stat i {
        color: var(--primary-color);
        width: 16px;
      }

      .modal-tags {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        margin-bottom: 1.5rem;
      }

      .modal-tag {
        background: var(--primary-color);
        color: var(--text-inverse);
        padding: 0.375rem 0.75rem;
        border-radius: var(--radius-xl);
        font-size: 0.75rem;
        font-weight: 500;
      }

      .modal-devices h4 {
        font-size: 1rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.75rem;
      }

      .device-list {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .device-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--bg-tertiary);
        padding: 0.5rem 1rem;
        border-radius: var(--radius);
        color: var(--text-secondary);
        font-size: 0.875rem;
      }

      .device-item i {
        color: var(--primary-color);
      }

      .modal-actions {
        display: flex;
        gap: 1rem;
        padding: 1.5rem;
        border-top: 1px solid var(--border-light);
      }

      .btn-modal-play {
        flex: 1;
        background: var(--primary-color);
        color: var(--text-inverse);
        border: none;
        padding: 1rem 1.5rem;
        border-radius: var(--radius);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        font-size: 1rem;
      }

      .btn-modal-play:hover {
        background: var(--primary-hover);
        transform: translateY(-2px);
      }

      .btn-modal-favorite {
        background: var(--bg-tertiary);
        border: 2px solid var(--border-light);
        color: var(--text-secondary);
        padding: 1rem 1.5rem;
        border-radius: var(--radius);
        cursor: pointer;
        transition: var(--transition);
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .btn-modal-favorite:hover {
        border-color: var(--error-color);
        color: var(--error-color);
      }

      .btn-modal-favorite.active {
        background: rgba(255, 107, 107, 0.1);
        border-color: #ff6b6b;
        color: #ff6b6b;
      }

      /* Skill Type Specific Colors */
      .game-card[data-skill="vocabulary"] .game-image-container {
        background: linear-gradient(
          135deg,
          var(--secondary-color) 0%,
          #059669 100%
        );
      }

      .game-card[data-skill="grammar"] .game-image-container {
        background: linear-gradient(
          135deg,
          var(--accent-color) 0%,
          #d97706 100%
        );
      }

      .game-card[data-skill="reading"] .game-image-container {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
      }

      .game-card[data-skill="listening"] .game-image-container {
        background: linear-gradient(135deg, var(--info) 0%, #0891b2 100%);
      }

      .game-card[data-skill="speaking"] .game-image-container {
        background: linear-gradient(
          135deg,
          var(--primary-color) 0%,
          #4338ca 100%
        );
      }

      .game-card[data-skill="coding"] .game-image-container {
        background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
      }

      /* No Results State */
      .no-results {
        text-align: center;
        padding: 4rem 2rem;
        color: var(--text-secondary);
        background: var(--bg-card);
        border-radius: var(--radius-lg);
        border: 2px dashed var(--border-medium);
        box-shadow: var(--shadow-sm);
      }

      .no-results i {
        font-size: 3rem;
        margin-bottom: 1rem;
        opacity: 0.4;
        color: var(--primary-color);
      }

      .no-results h3 {
        font-size: 1.25rem;
        margin-bottom: 0.5rem;
        color: var(--text-primary);
      }

      .no-results p {
        max-width: 400px;
        margin: 0 auto;
      }

      /* Mobile Responsiveness - Enhanced */
      @media (max-width: 768px) {
        .hero {
          min-height: calc(100vh - 70px);
          padding: 2rem 0;
        }

        .hero-content {
          padding: 1.5rem;
          max-width: 100%;
        }

        .hero-title {
          font-size: 2rem;
        }

        .hero-subtitle {
          font-size: 1rem;
        }

        .hero-badge {
          padding: 0.75rem 1.5rem;
          font-size: 0.9rem;
          margin-bottom: 1.5rem;
        }

        .hero-stats {
          grid-template-columns: repeat(2, 1fr);
          gap: 1rem;
          margin-top: 2rem;
        }

        .stat-item {
          padding: 1.5rem 1rem;
        }

        .stat-icon {
          width: 40px;
          height: 40px;
          margin-bottom: 0.75rem;
        }

        .stat-icon i {
          font-size: 1rem;
        }

        .stat-number {
          font-size: 1.5rem;
        }

        .stat-label {
          font-size: 0.8rem;
        }

        .games-grid {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .game-card {
          height: 360px;
          margin: 0 0.5rem;
        }

        .game-card:hover {
          transform: translateY(-6px) scale(1.02);
        }

        .game-image-container {
          height: 200px;
        }

        .game-content {
          padding: 20px;
        }

        .game-title {
          font-size: 1.15rem;
        }

        .game-description {
          font-size: 0.9rem;
          -webkit-line-clamp: 2;
          line-clamp: 2;
        }

        .btn-play {
          padding: 12px 20px;
          font-size: 0.9rem;
          min-width: 100px;
        }

        .favorite-btn {
          width: 40px;
          height: 40px;
          top: 15px;
          right: 15px;
          padding: 10px;
        }

        .game-footer {
          gap: 1rem;
          flex-wrap: wrap;
        }

        .game-skill {
          padding: 4px 10px;
          font-size: 0.75rem;
        }

        .search-controls {
          flex-direction: column;
          gap: 1rem;
        }

        .filter-buttons {
          justify-content: center;
          gap: 0.5rem;
          flex-wrap: wrap;
        }

        .filter-btn {
          font-size: 0.8rem;
          padding: 0.5rem 0.75rem;
        }

        .game-ad-container {
          width: 95%;
          margin: 0 10px;
          max-height: 70vh;
        }
      }

      /* Tablet Responsiveness */
      @media (min-width: 769px) and (max-width: 1024px) {
        .games-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 2rem;
        }

        .game-card {
          height: 370px;
        }

        .game-card:hover {
          transform: translateY(-8px) scale(1.025);
        }
      }

      /* Desktop */
      @media (min-width: 1025px) {
        .games-grid {
          grid-template-columns: repeat(3, 1fr);
          gap: 2rem;
        }
      }

      /* Small Mobile */
      @media (max-width: 480px) {
        .hero h1 {
          font-size: 1.75rem;
        }

        .quick-stats {
          grid-template-columns: repeat(2, 1fr);
          gap: 0.75rem;
        }

        .game-image-container {
          height: 180px;
        }

        .game-content {
          padding: 1rem;
        }
      }

      /* Print styles */
      @media print {
        .hero,
        .quick-filters,
        .game-actions,
        .notification,
        .game-modal {
          display: none;
        }

        .game-card {
          break-inside: avoid;
          box-shadow: none;
          border: 1px solid #ddd;
        }

        .games-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      /* Reduced motion */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }

        .game-card:hover {
          transform: none;
        }
      }

      /* High contrast mode */
      @media (prefers-contrast: high) {
        :root {
          --border-light: #000000;
          --border-medium: #000000;
          --bg-tertiary: #ffffff;
        }

        .game-card {
          border: 2px solid #000000;
        }

        .filter-btn {
          border: 2px solid #000000;
        }
      }

      /* Touch interactions */
      .game-card.touch-active {
        transform: translateY(-4px) scale(0.98);
        transition: transform 0.1s ease;
      }

      /* Focus styles for better accessibility */
      .filter-btn:focus,
      .btn-play:focus,
      .btn-info:focus,
      .btn-share:focus,
      .favorite-btn:focus,
      .theme-toggle:focus,
      .search-input:focus,
      .sort-select:focus,
      .clear-search:focus,
      .game-card:focus {
        outline: 3px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Ensure buttons are always clickable */
      .btn-play,
      .favorite-btn {
        pointer-events: auto !important;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
      }

      /* Dark mode specific fixes */
      .dark-mode .btn-play {
        box-shadow: 0 4px 15px rgba(70, 187, 229, 0.5);
      }

      .dark-mode .favorite-btn {
        background: rgba(255, 255, 255, 0.9);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
      }

      .dark-mode .game-skill {
        background: rgba(70, 187, 229, 0.2);
        border-color: rgba(70, 187, 229, 0.3);
      }

      /* Screen reader only content */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      /* Ad Settings Modal */
      .ad-settings {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        margin: 1.5rem 0;
      }

      .setting-item {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .setting-label {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-weight: 500;
        color: var(--text-primary);
        cursor: pointer;
      }

      .setting-label input[type="checkbox"] {
        width: 18px;
        height: 18px;
        accent-color: var(--primary-color);
      }

      .setting-label select {
        padding: 0.5rem;
        border: 1px solid var(--border-light);
        border-radius: var(--radius);
        background: var(--bg-primary);
        color: var(--text-primary);
        cursor: pointer;
      }

      .setting-item small {
        color: var(--text-secondary);
        font-size: 0.85rem;
        margin-left: 2rem;
      }

      /* Skip to content link */
      .skip-to-content {
        position: absolute;
        top: -40px;
        left: 6px;
        background: var(--primary-color);
        color: white;
        padding: 8px;
        text-decoration: none;
        border-radius: 4px;
        z-index: 1001;
        font-weight: 600;
      }

      .skip-to-content:focus {
        top: 6px;
      }
    </style>

    <!-- Breadcrumb Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://eslfunonline.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Games",
            "item": "https://eslfunonline.com/games/"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Games",
            "item": "https://eslfunonline.com/games/games.html"
          }
        ]
      }
    </script>
  </head>

  <body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-content">Skip to main content</a>

    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- Header & Navigation -->
    <header>
      <div class="container">
        <nav class="navbar">
          <a href="../index.html" class="logo-container">
            <img
              src="../images/1.png"
              alt="ESL Fun Online Logo"
              class="logo-image"
              loading="eager"
              decoding="async"
              width="40"
              height="40"
            />
            <span class="logo-text">ESL Fun Online</span>
          </a>

          <ul
            class="nav-links"
            id="navLinks"
            role="menubar"
            aria-label="Main navigation"
          >
            <li class="nav-item" role="none">
              <a href="../index.html" class="nav-link" role="menuitem">
                <i class="fas fa-home"></i>
                Home
              </a>
            </li>
            <li class="nav-item" role="none">
              <a
                href="#"
                class="nav-link"
                role="menuitem"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-book"></i>
                English
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown" role="menu" aria-label="English submenu">
                <a href="../english/grammar.html" class="dropdown-item">
                  <i class="fas fa-spell-check"></i>
                  Grammar Guides
                </a>
                <a href="../english/vocabguide.html" class="dropdown-item">
                  <i class="fas fa-book-open"></i>
                  Vocabulary Building
                </a>
                <a href="../english/writingf.html" class="dropdown-item">
                  <i class="fas fa-pen"></i>
                  Writing for Success
                </a>
                <a href="../english/business.html" class="dropdown-item">
                  <i class="fas fa-briefcase"></i>
                  Business English
                </a>
                <a href="../english/test.html" class="dropdown-item">
                  <i class="fas fa-graduation-cap"></i>
                  Test Preparation
                </a>
              </div>
            </li>
            <li class="nav-item" role="none">
              <a
                href="#"
                class="nav-link"
                role="menuitem"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-code"></i>
                Coding
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown" role="menu" aria-label="Coding submenu">
                <a href="../coding/computerbasics.html" class="dropdown-item">
                  <i class="fas fa-desktop"></i>
                  Computer Basics
                </a>
                <a href="../coding/ai.html" class="dropdown-item">
                  <i class="fas fa-robot"></i>
                  AI Basics
                </a>
                <a href="../coding/codingresources.html" class="dropdown-item">
                  <i class="fas fa-terminal"></i>
                  Coding Resources
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-music"></i>
                Music
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="../music/fundamentals.html" class="dropdown-item">
                  <i class="fas fa-music"></i>
                  Music Fundamentals
                </a>
                <a href="../music/guitar.html" class="dropdown-item">
                  <i class="fas fa-guitar"></i>
                  Guitar
                </a>
                <a href="../music/bass.html" class="dropdown-item">
                  <i class="fas fa-bass-clef"></i>
                  Bass
                </a>
              </div>
            </li>
            <li class="nav-item current" role="none">
              <a href="../games/games.html" class="nav-link" role="menuitem">
                <i class="fas fa-dice"></i>
                Games
              </a>
            </li>
            <li class="nav-item" role="none">
              <a href="../tools/tools.html" class="nav-link" role="menuitem">
                <i class="fas fa-tools"></i>
                Toolkit
              </a>
            </li>
            <li class="nav-item" role="none">
              <a href="../blog/blog.html" class="nav-link" role="menuitem">
                <i class="fas fa-book-open"></i>
                Blog
              </a>
            </li>
          </ul>

          <div class="controls">
            <button
              class="control-btn theme-toggle"
              id="themeToggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
            <a
              class="control-btn admin-toggle"
              id="adminToggle"
              aria-label="Admin"
              href="../login.html"
            >
              <i class="fas fa-user-shield"></i>
            </a>
          </div>
          <button
            class="control-btn mobile-toggle"
            id="mobileToggle"
            aria-label="Toggle mobile menu"
          >
            <i class="fas fa-bars"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- AdSense Placement - Header Banner -->
    <div style="text-align: center; margin: 1rem 0; padding: 0.5rem">
      <ins
        class="adsbygoogle"
        style="display: block"
        data-ad-client="ca-pub-2456627863532019"
        data-ad-slot="1718707782"
        data-ad-format="auto"
        data-full-width-responsive="true"
      ></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <!-- Hero Section -->
    <section class="hero hero-section">
      <!-- WebP Hero Background -->
      <img
        src="../images/hero.webp"
        alt="ESL Fun Online Games Background"
        class="hero-bg"
        loading="eager"
        fetchpriority="high"
        width="1920"
        height="1080"
        decoding="async"
        style="aspect-ratio: 16/9; background-color: #f3f4f6"
      />

      <div class="container">
        <div class="hero-content">
          <div class="hero-badge">
            <i class="fas fa-gamepad"></i>
            <span>Interactive Learning Games</span>
          </div>

          <h1 class="hero-title">🎮 ESL Fun Online Games</h1>
          <p class="hero-subtitle">
            Discover 10+ free ESL games online that make learning English
            exciting and effective. Play vocabulary, grammar, reading,
            listening, and speaking activities designed for all skill levels.
          </p>

          <div class="hero-stats quick-stats">
            <div class="stat-item stat">
              <div class="stat-icon"><i class="fas fa-gamepad"></i></div>
              <span class="stat-number" id="totalGames" data-target="10"
                >10+</span
              >
              <span class="stat-label">Games Available</span>
            </div>
            <div class="stat-item stat">
              <div class="stat-icon"><i class="fas fa-brain"></i></div>
              <span class="stat-number">5</span>
              <span class="stat-label">Skill Areas</span>
            </div>
            <div class="stat-item stat">
              <div class="stat-icon"><i class="fas fa-users"></i></div>
              <span class="stat-number" id="totalPlays" data-target="20000"
                >20K+</span
              >
              <span class="stat-label">Total Plays</span>
            </div>
            <div class="stat-item stat">
              <div class="stat-icon"><i class="fas fa-heart"></i></div>
              <span class="stat-number">100%</span>
              <span class="stat-label">Free to Play</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
      <div class="container">
        <!-- Quick Filters -->
        <section class="quick-filters">
          <h3><i class="fas fa-filter"></i> Find Your Perfect Game</h3>

          <div class="filter-buttons">
            <!-- Device Compatibility Filters -->
            <button class="filter-btn" data-filter="device" data-value="mobile">
              <i class="fas fa-mobile-alt"></i> Mobile Friendly
            </button>
            <button class="filter-btn" data-filter="device" data-value="tablet">
              <i class="fas fa-tablet-alt"></i> iPad Friendly
            </button>
            <button
              class="filter-btn"
              data-filter="device"
              data-value="desktop"
            >
              <i class="fas fa-desktop"></i> Desktop Only
            </button>

            <!-- Skill Area Filters -->
            <button
              class="filter-btn"
              data-filter="skill"
              data-value="vocabulary"
            >
              <i class="fas fa-font"></i> Vocabulary
            </button>
            <button class="filter-btn" data-filter="skill" data-value="grammar">
              <i class="fas fa-language"></i> Grammar
            </button>
            <button class="filter-btn" data-filter="skill" data-value="reading">
              <i class="fas fa-book"></i> Reading
            </button>
            <button
              class="filter-btn"
              data-filter="skill"
              data-value="listening"
            >
              <i class="fas fa-headphones"></i> Listening
            </button>
            <button
              class="filter-btn"
              data-filter="skill"
              data-value="speaking"
            >
              <i class="fas fa-microphone"></i> Speaking
            </button>
            <button class="filter-btn" data-filter="skill" data-value="coding">
              <i class="fas fa-code"></i> Coding
            </button>

            <!-- Difficulty Filters -->
            <button
              class="filter-btn"
              data-filter="difficulty"
              data-value="beginner"
            >
              <i class="fas fa-seedling"></i> Beginner
            </button>
            <button
              class="filter-btn"
              data-filter="difficulty"
              data-value="intermediate"
            >
              <i class="fas fa-chart-line"></i> Intermediate
            </button>
            <button
              class="filter-btn"
              data-filter="difficulty"
              data-value="advanced"
            >
              <i class="fas fa-trophy"></i> Advanced
            </button>
          </div>

          <!-- Search Bar & Sort Options -->
          <div class="search-controls">
            <div class="search-container">
              <i class="fas fa-search search-icon"></i>
              <input
                type="text"
                class="search-input"
                id="searchInput"
                placeholder="Search games by name or description..."
                aria-label="Search games"
              />
              <button
                class="clear-search"
                id="clearSearch"
                style="display: none"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>

            <div class="sort-container">
              <label for="sortSelect" class="sort-label">
                <i class="fas fa-sort"></i> Sort by:
              </label>
              <select class="sort-select" id="sortSelect">
                <option value="default">Default</option>
                <option value="title">Title A-Z</option>
                <option value="title-desc">Title Z-A</option>
                <option value="difficulty">Difficulty</option>
                <option value="skill">Skill Type</option>
                <option value="rating">Popularity</option>
              </select>
            </div>
          </div>

          <!-- Active Filters Display -->
          <div class="active-filters" id="activeFilters" style="display: none">
            <!-- Active filters will be populated by JavaScript -->
          </div>
        </section>

        <!-- Games Grid -->
        <section class="games-grid" id="gamesGrid">
          <!-- Games will be populated by JavaScript -->
        </section>

        <!-- No Results State -->
        <div class="no-results" id="noResults" style="display: none">
          <i class="fas fa-search"></i>
          <h3>No Games Found</h3>
          <p>
            Try adjusting your filters or search terms to find the perfect game
            for you.
          </p>
        </div>
      </div>
    </main>

    <!-- How to Use ESL Games Section -->
    <section
      class="how-to-use-section"
      style="padding: 4rem 0; background: var(--bg-secondary)"
    >
      <div class="container">
        <div
          class="section-header"
          style="text-align: center; margin-bottom: 3rem"
        >
          <h2
            style="
              font-family: 'Poppins', sans-serif;
              font-size: 2.2rem;
              font-weight: 700;
              color: var(--text-primary);
              margin-bottom: 1rem;
            "
          >
            How to Get the Most from ESL Fun Online Games
          </h2>
          <p
            style="
              font-size: 1.1rem;
              color: var(--text-secondary);
              max-width: 700px;
              margin: 0 auto;
            "
          >
            Maximize your English learning with these proven strategies for
            using our free ESL games effectively
          </p>
        </div>

        <div
          class="tips-grid"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
          "
        >
          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(
                  135deg,
                  var(--primary-color),
                  var(--secondary-color)
                );
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-target"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Start with Your Level
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Use our difficulty filters to find games that match your current
              English level. Begin with beginner games if you're new to English,
              then gradually progress to intermediate and advanced challenges as
              your skills improve.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(
                  135deg,
                  var(--accent-color),
                  var(--success-color)
                );
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-clock"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Practice Daily
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Consistency is key to language learning success. Play ESL games
              for just 15-20 minutes daily rather than long sessions once a
              week. Regular practice helps reinforce new vocabulary and grammar
              patterns in your long-term memory.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #8b5cf6, #ec4899);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-brain"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Focus on Weak Areas
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Identify your challenging areas (vocabulary, grammar, listening,
              etc.) and spend extra time on those skill-specific games. Our
              filter system makes it easy to target exactly what you need to
              improve most.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #06b6d4, var(--info));
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-redo"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Repeat Games
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Don't hesitate to replay games multiple times. Repetition helps
              cement learning and improves your reaction time. You'll often
              notice improvement and catch details you missed the first time
              through.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #f59e0b, #f97316);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-book"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Take Notes
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Keep a notebook or digital document to jot down new words,
              phrases, or grammar rules you learn from the games. Review these
              notes regularly to reinforce your learning outside of game time.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #10b981, #059669);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-users"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Combine with Real Practice
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Use games as a fun supplement to traditional learning methods.
              Practice speaking the words you learn in games, use new vocabulary
              in conversations, and apply grammar rules in your writing for
              comprehensive skill development.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Google AdSense - Bottom Content Ad (Centered) -->
    <div
      style="
        text-align: center;
        margin: 3rem 0;
        padding: 1rem;
        background: var(--bg-secondary);
        border-radius: 12px;
      "
    >
      <ins
        class="adsbygoogle"
        style="display: block; margin: 0 auto"
        data-ad-client="ca-pub-2456627863532019"
        data-ad-slot="1718707782"
        data-ad-format="auto"
        data-full-width-responsive="true"
      ></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <!-- Google AdSense - Premium Native Ad Unit -->
    <div
      style="
        text-align: center;
        margin: 3rem 0;
        padding: 1rem;
        background: var(--bg-secondary);
        border-radius: 12px;
      "
    >
      <ins
        class="adsbygoogle"
        style="display: block; margin: 0 auto"
        data-ad-format="autorelaxed"
        data-ad-client="ca-pub-2456627863532019"
        data-ad-slot="9876543210"
        data-matched-content-ui-type="image_stacked"
        data-matched-content-rows-num="2,2"
        data-matched-content-columns-num="1,3"
        data-full-width-responsive="true"
      ></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <!-- Additional Google AdSense - Pre-Footer Ad -->
    <div
      style="
        text-align: center;
        margin: 2rem auto;
        padding: 1.5rem;
        max-width: 1200px;
      "
    >
      <ins
        class="adsbygoogle"
        style="display: block; margin: 0 auto"
        data-ad-client="ca-pub-2456627863532019"
        data-ad-slot="1718707782"
        data-ad-format="rectangle"
        data-full-width-responsive="true"
      ></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <script>
      // Game data with additional metadata - Updated with correct game files
      const games = [
        {
          id: 1,
          title: "Uno Word Challenge",
          description:
            "Master card strategy while building vocabulary! Play UNO with English word challenges and expand your language skills through fun gameplay.",
          skill: "vocabulary",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/game1.png",
          link: "uno.html",
          icon: "fas fa-cards-blank",
          rating: 4.8,
          plays: 2847,
          duration: "15-20 min",
          tags: ["cards", "strategy", "vocabulary", "multiplayer"],
          featured: true,
        },
        {
          id: 2,
          title: "Quiz Champion",
          description:
            "Test your English knowledge with multiple-choice questions covering grammar, vocabulary, and more. Compete for the highest score!",
          skill: "grammar",
          difficulty: "intermediate",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/game2.png",
          link: "quizchamp.html",
          icon: "fas fa-trophy",
          rating: 4.6,
          plays: 3214,
          duration: "10-15 min",
          tags: ["quiz", "multiple-choice", "competition", "knowledge"],
          featured: true,
        },
        {
          id: 3,
          title: "Who Wants To Be A Fluent English Speaker",
          description:
            "Answer challenging English questions to become a fluent speaker! Test your knowledge with this exciting quiz-style game.",
          skill: "vocabulary",
          difficulty: "intermediate",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/game3.png",
          link: "whowants.html",
          icon: "fas fa-puzzle-piece",
          rating: 4.4,
          plays: 2687,
          duration: "20-30 min",
          tags: ["word-puzzle", "spelling", "brain-teaser", "timed"],
          featured: true,
        },
        {
          id: 4,
          title: "Snakes and Ladders ESL",
          description:
            "Classic board game with an ESL twist! Answer English questions to climb ladders and avoid snakes in this educational adventure.",
          skill: "grammar",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/game4.png",
          link: "snakeslad.html",
          icon: "fas fa-dice",
          rating: 4.5,
          plays: 4156,
          duration: "15-25 min",
          tags: ["classic", "board-game", "questions", "family-friendly"],
          featured: true,
        },
        {
          id: 5,
          title: "BalanceMan",
          description:
            "Save the BalanceMan by guessing English words! A hangman-style game with ESL vocabulary that makes learning fun and engaging.",
          skill: "vocabulary",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/game5.png",
          link: "balanceman.html",
          icon: "fas fa-balance-scale",
          rating: 4.7,
          plays: 1892,
          duration: "10-15 min",
          tags: ["hangman", "guessing", "alphabet", "rescue"],
          featured: true,
        },
        {
          id: 6,
          title: "Slingshot Grammar Challenge",
          description:
            "Test your aim and grammar skills! Launch correct answers to hit targets in this exciting physics-based learning game.",
          skill: "grammar",
          difficulty: "intermediate",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/game6.png",
          link: "slingshot.html",
          icon: "fas fa-bullseye",
          rating: 4.3,
          plays: 1567,
          duration: "15-20 min",
          tags: ["physics", "shooting", "grammar", "targeting"],
          featured: false,
        },
        {
          id: 7,
          title: "Memory Match English",
          description:
            "Enhance your memory and vocabulary simultaneously! Flip cards to find matching English words and their definitions.",
          skill: "vocabulary",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "", // Use fallback icon
          link: "memory-match.html",
          icon: "fas fa-brain",
          rating: 4.2,
          plays: 1234,
          duration: "10-15 min",
          tags: ["memory", "matching", "vocabulary", "cards"],
          featured: false,
        },
        {
          id: 8,
          title: "Picture Description Challenge",
          description:
            "Describe pictures using proper English! Improve your speaking and writing skills with visual prompts and interactive feedback.",
          skill: "speaking",
          difficulty: "intermediate",
          devices: ["mobile", "tablet", "desktop"],
          image: "", // Use fallback icon
          link: "picture-description.html",
          icon: "fas fa-image",
          rating: 4.1,
          plays: 987,
          duration: "15-20 min",
          tags: ["speaking", "description", "vocabulary", "visual"],
          featured: false,
        },
        {
          id: 9,
          title: "Story Builder",
          description:
            "Create amazing stories while learning English grammar! Build sentences and narratives with guided prompts and instant feedback.",
          skill: "reading",
          difficulty: "intermediate",
          devices: ["mobile", "tablet", "desktop"],
          image: "", // Use fallback icon
          link: "story-builder.html",
          icon: "fas fa-book-open",
          rating: 4.0,
          plays: 876,
          duration: "20-30 min",
          tags: ["storytelling", "creative", "grammar", "writing"],
          featured: false,
        },
        {
          id: 10,
          title: "Twenty Questions ESL",
          description:
            "Guess the mystery word in 20 questions or less! Practice asking questions and vocabulary recognition in this classic game.",
          skill: "listening",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "", // Use fallback icon
          link: "twenty-questions.html",
          icon: "fas fa-question-circle",
          rating: 4.4,
          plays: 1654,
          duration: "10-20 min",
          tags: ["questioning", "deduction", "vocabulary", "classic"],
          featured: false,
        },
      ];

      // State management
      let activeFilters = {
        device: [],
        skill: [],
        difficulty: [],
      };
      let searchTerm = "";
      let filteredGames = [...games];
      let currentSort = "default";
      let favorites = JSON.parse(localStorage.getItem("gameFavorites") || "[]");

      // DOM elements
      const gamesGrid = document.getElementById("gamesGrid");
      const noResults = document.getElementById("noResults");
      const searchInput = document.getElementById("searchInput");
      const clearSearch = document.getElementById("clearSearch");
      const sortSelect = document.getElementById("sortSelect");
      const filterButtons = document.querySelectorAll(".filter-btn");
      const activeFiltersContainer = document.getElementById("activeFilters");
      const themeToggle = document.getElementById("themeToggle");

      // Initialize the page
      document.addEventListener("DOMContentLoaded", function () {
        updateQuickStats();
        renderGames(games);
        setupEventListeners();
        loadTheme();
        showWelcomeMessage();
        initializeProgressiveEnhancements();
      });

      // Progressive enhancements for better UX
      function initializeProgressiveEnhancements() {
        // Add loading states for better perceived performance
        setupIntersectionObserver();

        // Preload critical game resources
        preloadCriticalResources();

        // Setup service worker for offline functionality (if needed)
        registerServiceWorker();

        // Initialize performance monitoring
        setupPerformanceMonitoring();
      }

      // Intersection Observer for lazy loading and animations
      function setupIntersectionObserver() {
        if ("IntersectionObserver" in window) {
          const observerOptions = {
            root: null,
            rootMargin: "10px",
            threshold: 0.1,
          };

          const gameCardObserver = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("animate-fade-in-up");
                // Lazy load images if needed
                const img = entry.target.querySelector("img[data-src]");
                if (img) {
                  img.src = img.dataset.src;
                  img.removeAttribute("data-src");
                }
                gameCardObserver.unobserve(entry.target);
              }
            });
          }, observerOptions);

          // Observe all game cards
          setTimeout(() => {
            document.querySelectorAll(".game-card").forEach((card) => {
              gameCardObserver.observe(card);
            });
          }, 100);
        }
      }

      // Preload critical resources
      function preloadCriticalResources() {
        const criticalImages = [
          "../images/game1.png", // UNO
          "../images/game2.png", // Quiz Champion
          "../images/game5.png", // BalanceMan
        ];

        criticalImages.forEach((src) => {
          const link = document.createElement("link");
          link.rel = "preload";
          link.as = "image";
          link.href = src;
          document.head.appendChild(link);
        });
      }

      // Register service worker for offline support
      function registerServiceWorker() {
        if ("serviceWorker" in navigator) {
          navigator.serviceWorker.register("/sw.js").catch(() => {
            // Service worker registration failed, continue without offline support
          });
        }
      }

      // Performance monitoring
      function setupPerformanceMonitoring() {
        // Monitor Core Web Vitals
        if ("PerformanceObserver" in window) {
          try {
            // Largest Contentful Paint
            new PerformanceObserver((entryList) => {
              const entries = entryList.getEntries();
              const lastEntry = entries[entries.length - 1];
              console.log("LCP:", lastEntry.startTime);
            }).observe({ entryTypes: ["largest-contentful-paint"] });

            // First Input Delay
            new PerformanceObserver((entryList) => {
              const entries = entryList.getEntries();
              entries.forEach((entry) => {
                console.log("FID:", entry.processingStart - entry.startTime);
              });
            }).observe({ entryTypes: ["first-input"] });

            // Cumulative Layout Shift
            new PerformanceObserver((entryList) => {
              let cumulativeScore = 0;
              entryList.getEntries().forEach((entry) => {
                if (!entry.hadRecentInput) {
                  cumulativeScore += entry.value;
                }
              });
              console.log("CLS:", cumulativeScore);
            }).observe({ entryTypes: ["layout-shift"] });
          } catch (error) {
            // Performance monitoring failed, continue without it
          }
        }
      }

      // Update quick stats with real data
      function updateQuickStats() {
        const totalGames = games.length;
        const totalPlays = games.reduce((sum, game) => sum + game.plays, 0);

        document.getElementById("totalGames").textContent = totalGames;
        document.getElementById("totalPlays").textContent =
          formatNumber(totalPlays);
      }

      // Show welcome message for new users
      function showWelcomeMessage() {
        const hasVisited = localStorage.getItem("hasVisitedGames");
        if (!hasVisited) {
          setTimeout(() => {
            showNotification(
              "Welcome to our games collection! Use filters to find your perfect game.",
              "info"
            );
            localStorage.setItem("hasVisitedGames", "true");
          }, 1000);
        }
      }

      // Event listeners setup
      function setupEventListeners() {
        // Filter buttons
        filterButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const filterType = this.dataset.filter;
            const filterValue = this.dataset.value;
            toggleFilter(filterType, filterValue, this);
          });
        });

        // Search input
        searchInput.addEventListener("input", function () {
          searchTerm = this.value.toLowerCase();
          toggleClearSearch();
          applyFiltersAndSearch();
        });

        // Clear search
        clearSearch.addEventListener("click", function () {
          searchInput.value = "";
          searchTerm = "";
          toggleClearSearch();
          applyFiltersAndSearch();
          searchInput.focus();
        });

        // Sort select
        sortSelect.addEventListener("change", function () {
          currentSort = this.value;
          applyFiltersAndSearch();
        });

        // Theme toggle
        themeToggle.addEventListener("click", toggleTheme);

        // Keyboard accessibility
        document.addEventListener("keydown", function (e) {
          if (
            e.key === "/" &&
            !e.ctrlKey &&
            !e.metaKey &&
            e.target !== searchInput
          ) {
            e.preventDefault();
            searchInput.focus();
          }
          if (e.key === "Escape") {
            if (searchTerm) {
              clearSearch.click();
            } else {
              // Close any open modals
              const openModal = document.querySelector(".game-modal.show");
              if (openModal) {
                closeModal(openModal);
              }
            }
          }
        });

        // Add loading animation on page change
        document.querySelectorAll('a[href*=".html"]').forEach((link) => {
          link.addEventListener("click", function () {
            if (this.hostname === window.location.hostname) {
              document.body.style.opacity = "0.7";
              document.body.style.pointerEvents = "none";
            }
          });
        });

        // Enhanced mobile touch interactions
        setupMobileTouchInteractions();

        // Enhanced accessibility features
        setupAccessibilityFeatures();

        // Performance: Intersection Observer for animations
        if ("IntersectionObserver" in window) {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.style.animationPlayState = "running";
              }
            });
          });

          // Observe game cards for animation
          setTimeout(() => {
            document.querySelectorAll(".game-card").forEach((card) => {
              observer.observe(card);
            });
          }, 100);
        }
      }

      // Toggle clear search button visibility
      function toggleClearSearch() {
        clearSearch.style.display = searchTerm.length > 0 ? "block" : "none";
      }

      // Toggle filter
      function toggleFilter(type, value, buttonElement) {
        const index = activeFilters[type].indexOf(value);

        if (index > -1) {
          activeFilters[type].splice(index, 1);
          buttonElement.classList.remove("active");
        } else {
          activeFilters[type].push(value);
          buttonElement.classList.add("active");
        }

        applyFiltersAndSearch();
        updateActiveFiltersDisplay();
      }

      // Apply filters and search
      function applyFiltersAndSearch() {
        filteredGames = games.filter((game) => {
          // Device filter
          const deviceMatch =
            activeFilters.device.length === 0 ||
            activeFilters.device.some((device) =>
              game.devices.includes(device)
            );

          // Skill filter
          const skillMatch =
            activeFilters.skill.length === 0 ||
            activeFilters.skill.includes(game.skill);

          // Difficulty filter
          const difficultyMatch =
            activeFilters.difficulty.length === 0 ||
            activeFilters.difficulty.includes(game.difficulty);

          // Search filter
          const searchMatch =
            searchTerm === "" ||
            game.title.toLowerCase().includes(searchTerm) ||
            game.description.toLowerCase().includes(searchTerm) ||
            game.skill.toLowerCase().includes(searchTerm) ||
            game.tags.some((tag) => tag.toLowerCase().includes(searchTerm));

          return deviceMatch && skillMatch && difficultyMatch && searchMatch;
        });

        // Apply sorting
        sortGames();
        renderGames(filteredGames);
      }

      // Sort games based on selected criteria
      function sortGames() {
        switch (currentSort) {
          case "title":
            filteredGames.sort((a, b) => a.title.localeCompare(b.title));
            break;
          case "title-desc":
            filteredGames.sort((a, b) => b.title.localeCompare(a.title));
            break;
          case "difficulty":
            const difficultyOrder = {
              beginner: 1,
              intermediate: 2,
              advanced: 3,
            };
            filteredGames.sort(
              (a, b) =>
                difficultyOrder[a.difficulty] - difficultyOrder[b.difficulty]
            );
            break;
          case "skill":
            filteredGames.sort((a, b) => a.skill.localeCompare(b.skill));
            break;
          case "rating":
            filteredGames.sort((a, b) => b.rating - a.rating);
            break;
          default:
            // Default sort: featured games first, then by plays
            filteredGames.sort((a, b) => {
              if (a.featured && !b.featured) return -1;
              if (!a.featured && b.featured) return 1;
              return b.plays - a.plays;
            });
        }
      }

      // Update active filters display
      function updateActiveFiltersDisplay() {
        const allActiveFilters = [
          ...activeFilters.device,
          ...activeFilters.skill,
          ...activeFilters.difficulty,
        ];

        if (allActiveFilters.length === 0) {
          activeFiltersContainer.style.display = "none";
          return;
        }

        activeFiltersContainer.style.display = "flex";
        activeFiltersContainer.innerHTML = allActiveFilters
          .map(
            (filter) => `
          <div class="active-filter">
            ${filter}
            <button class="remove-filter" onclick="removeFilter('${filter}')">
              <i class="fas fa-times"></i>
            </button>
          </div>
        `
          )
          .join("");
      }

      // Remove filter
      function removeFilter(filterValue) {
        // Find and remove from active filters
        Object.keys(activeFilters).forEach((type) => {
          const index = activeFilters[type].indexOf(filterValue);
          if (index > -1) {
            activeFilters[type].splice(index, 1);
            // Update button state
            const button = document.querySelector(
              `[data-filter="${type}"][data-value="${filterValue}"]`
            );
            if (button) button.classList.remove("active");
          }
        });

        applyFiltersAndSearch();
        updateActiveFiltersDisplay();
      }

      // Render games
      function renderGames(gamesToRender) {
        if (gamesToRender.length === 0) {
          gamesGrid.style.display = "none";
          noResults.style.display = "block";
          return;
        }

        gamesGrid.style.display = "grid";
        noResults.style.display = "none";

        gamesGrid.innerHTML = gamesToRender
          .map((game, index) => {
            const isFavorite = favorites.includes(game.id);

            return `
              <div class="game-card" data-skill="${
                game.skill
              }" onclick="handleCardClick(event, '${game.link}')"
                <div class="game-image-container">
                  ${
                    game.image
                      ? `<img src="${game.image}" alt="${game.title}" class="game-image" loading="lazy">`
                      : `<i class="${game.icon} game-fallback-icon"></i>`
                  }
                  <button class="favorite-btn ${isFavorite ? "active" : ""}" 
                          onclick="event.stopPropagation(); event.preventDefault(); toggleFavorite(${
                            game.id
                          })"
                          type="button"
                          aria-label="${
                            isFavorite
                              ? "Remove from favorites"
                              : "Add to favorites"
                          }">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="game-content">
                  <h3 class="game-title">${game.title}</h3>
                  <p class="game-description">${game.description}</p>
                  <div class="game-footer">
                    <span class="game-skill">${game.skill}</span>
                    <button class="btn-play" 
                            onclick="event.stopPropagation(); event.preventDefault(); playGame('${
                              game.link
                            }');"
                            type="button"
                            aria-label="Play ${game.title}">
                      <i class="fas fa-play"></i>
                      Play
                    </button>
                  </div>
                </div>
              </div>
            `;
          })
          .join("");
      }

      // Generate star rating
      function generateStarRating(rating) {
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 >= 0.5;
        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);

        let stars = "";
        for (let i = 0; i < fullStars; i++) {
          stars += '<i class="fas fa-star"></i>';
        }
        if (hasHalfStar) {
          stars += '<i class="fas fa-star-half-alt"></i>';
        }
        for (let i = 0; i < emptyStars; i++) {
          stars += '<i class="far fa-star"></i>';
        }
        return stars;
      }

      // Format number for display
      function formatNumber(num) {
        if (num >= 1000) {
          return (num / 1000).toFixed(1) + "k";
        }
        return num.toString();
      }

      // Handle card click (avoid button conflicts)
      function handleCardClick(event, gameLink) {
        // Don't navigate if clicking on buttons
        if (event.target.closest("button")) {
          return;
        }

        // Navigate to game
        playGame(gameLink);
      }

      // Toggle favorite
      function toggleFavorite(gameId) {
        const index = favorites.indexOf(gameId);
        if (index > -1) {
          favorites.splice(index, 1);
        } else {
          favorites.push(gameId);
        }
        localStorage.setItem("gameFavorites", JSON.stringify(favorites));

        // Update the favorite button appearance
        const favoriteBtn = document.querySelector(
          `[onclick*="toggleFavorite(${gameId})"]`
        );
        if (favoriteBtn) {
          favoriteBtn.classList.toggle("active");
        }

        // Show feedback
        showNotification(
          favorites.includes(gameId)
            ? "Added to favorites!"
            : "Removed from favorites",
          favorites.includes(gameId) ? "success" : "info"
        );
      }

      // Track game play
      function trackGamePlay(gameId) {
        // Update play count (in a real app, this would be server-side)
        const game = games.find((g) => g.id === gameId);
        if (game) {
          game.plays += 1;
          localStorage.setItem(`game-${gameId}-plays`, game.plays);

          // Track with analytics
          if (window.gameAnalytics) {
            window.gameAnalytics.trackGameLaunch(game.title, "games_page");
          }
        }
      }

      // Helper functions
      function getDeviceIcon(device) {
        const icons = {
          mobile: "mobile-alt",
          tablet: "tablet-alt",
          desktop: "desktop",
        };
        return icons[device] || "device";
      }

      function getSkillIcon(skill) {
        const icons = {
          vocabulary: "font",
          grammar: "language",
          reading: "book",
          listening: "headphones",
          speaking: "microphone",
          coding: "code",
        };
        return icons[skill] || "gamepad";
      }

      // Game actions
      function playGame(link) {
        // Show enhanced ad with user consent
        showEnhancedGameAd(link);
      }

      function showEnhancedGameAd(gameLink) {
        // Create enhanced ad overlay with better user experience
        const adOverlay = document.createElement("div");
        adOverlay.className = "game-ad-overlay";
        adOverlay.innerHTML = `
          <div class="game-ad-container">
            <div class="ad-header">
              <h3><i class="fas fa-gamepad"></i> Get Ready to Play!</h3>
              <p class="ad-subtext">Your game is loading - enjoy this quick message from our sponsors</p>
              <button class="close-ad-btn" onclick="closeGameAd()" aria-label="Close advertisement">&times;</button>
            </div>
            <div class="ad-content">
              <!-- Enhanced Google AdSense Ad Unit -->
              <div class="ad-slot-container">
                <ins class="adsbygoogle enhanced-game-ad"
                  style="display:block; width: 100%; height: 300px;"
                  data-ad-format="auto"
                  data-ad-client="ca-pub-2456627863532019"
                  data-ad-slot="7208398685"
                  data-full-width-responsive="true"></ins>
              </div>
              
              <!-- Backup content if ad doesn't load -->
              <div class="ad-fallback" style="display: none;">
                <div class="promotional-content">
                  <h4><i class="fas fa-star"></i> While you wait...</h4>
                  <p>🎯 Tip: Practice English daily for best results!</p>
                  <p>🚀 Check out our other learning tools and resources</p>
                  <div class="quick-links">
                    <a href="../tools/tools.html" class="quick-link-btn">
                      <i class="fas fa-tools"></i> Learning Tools
                    </a>
                    <a href="../english/grammar.html" class="quick-link-btn">
                      <i class="fas fa-book"></i> Grammar Guide
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="ad-footer">
              <div class="countdown-container">
                <p>Starting game in <span class="countdown-timer">5</span> seconds...</p>
                <div class="progress-bar">
                  <div class="progress-fill"></div>
                </div>
              </div>
              <button class="skip-ad-btn" onclick="navigateToGame('${gameLink}')" disabled>
                <i class="fas fa-forward"></i> Skip & Play Now
              </button>
            </div>
          </div>
        `;

        document.body.appendChild(adOverlay);

        // Enhanced styles for better ad experience
        if (!document.getElementById("enhanced-game-ad-styles")) {
          const styles = document.createElement("style");
          styles.id = "enhanced-game-ad-styles";
          styles.textContent = `
            .game-ad-overlay {
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: rgba(0, 0, 0, 0.85);
              z-index: 10000;
              display: flex;
              align-items: center;
              justify-content: center;
              backdrop-filter: blur(8px);
              animation: fadeIn 0.4s ease;
            }
            
            .game-ad-container {
              background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
              border-radius: 20px;
              padding: 0;
              max-width: 600px;
              width: 95%;
              max-height: 85vh;
              overflow: hidden;
              box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2);
              animation: slideInScale 0.5s cubic-bezier(0.4, 0, 0.2, 1);
              position: relative;
            }
            
            .ad-header {
              background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
              color: white;
              padding: 24px;
              text-align: center;
              position: relative;
            }
            
            .ad-header h3 {
              margin: 0 0 8px 0;
              font-size: 1.4rem;
              font-weight: 700;
            }
            
            .ad-subtext {
              margin: 0;
              opacity: 0.9;
              font-size: 0.95rem;
            }
            
            .close-ad-btn {
              position: absolute;
              top: 16px;
              right: 16px;
              background: rgba(255, 255, 255, 0.2);
              border: none;
              color: white;
              font-size: 20px;
              cursor: pointer;
              padding: 8px;
              border-radius: 50%;
              width: 36px;
              height: 36px;
              display: flex;
              align-items: center;
              justify-content: center;
              transition: all 0.3s ease;
              backdrop-filter: blur(10px);
            }
            
            .close-ad-btn:hover {
              background: rgba(255, 255, 255, 0.3);
              transform: scale(1.1);
            }
            
            .ad-content {
              padding: 24px;
              min-height: 320px;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            
            .ad-slot-container {
              width: 100%;
              text-align: center;
              background: #f8fafc;
              border-radius: 12px;
              padding: 20px;
              border: 2px dashed #e2e8f0;
            }
            
            .enhanced-game-ad {
              border-radius: 8px;
              overflow: hidden;
            }
            
            .ad-fallback {
              text-align: center;
              padding: 20px;
            }
            
            .promotional-content h4 {
              color: var(--primary-color);
              margin-bottom: 16px;
              font-size: 1.2rem;
            }
            
            .promotional-content p {
              margin: 8px 0;
              color: var(--text-secondary);
              font-size: 1rem;
            }
            
            .quick-links {
              display: flex;
              gap: 12px;
              justify-content: center;
              margin-top: 20px;
              flex-wrap: wrap;
            }
            
            .quick-link-btn {
              background: var(--primary-color);
              color: white;
              text-decoration: none;
              padding: 10px 16px;
              border-radius: 25px;
              font-size: 0.9rem;
              font-weight: 500;
              transition: all 0.3s ease;
              display: flex;
              align-items: center;
              gap: 6px;
            }
            
            .quick-link-btn:hover {
              background: var(--primary-hover);
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(70, 187, 229, 0.3);
            }
            
            .ad-footer {
              background: #f8fafc;
              padding: 20px 24px;
              border-top: 1px solid #e2e8f0;
              display: flex;
              justify-content: space-between;
              align-items: center;
              flex-wrap: wrap;
              gap: 16px;
            }
            
            .countdown-container {
              flex: 1;
            }
            
            .countdown-container p {
              margin: 0 0 8px 0;
              color: var(--text-secondary);
              font-weight: 500;
            }
            
            .countdown-timer {
              color: var(--primary-color);
              font-weight: 700;
              font-size: 1.1rem;
            }
            
            .progress-bar {
              width: 100%;
              height: 6px;
              background: #e2e8f0;
              border-radius: 3px;
              overflow: hidden;
            }
            
            .progress-fill {
              height: 100%;
              background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
              border-radius: 3px;
              transition: width 0.1s linear;
              width: 0%;
            }
            
            .skip-ad-btn {
              background: var(--primary-color);
              color: white;
              border: none;
              padding: 12px 20px;
              border-radius: 25px;
              font-weight: 600;
              cursor: pointer;
              transition: all 0.3s ease;
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.9rem;
            }
            
            .skip-ad-btn:disabled {
              background: #94a3b8;
              cursor: not-allowed;
              opacity: 0.7;
            }
            
            .skip-ad-btn:not(:disabled):hover {
              background: var(--primary-hover);
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(70, 187, 229, 0.3);
            }
            
            @keyframes fadeIn {
              from { opacity: 0; }
              to { opacity: 1; }
            }
            
            @keyframes slideInScale {
              from { 
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8) translateY(30px);
              }
              to { 
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) translateY(0);
              }
            }
            
            @keyframes fadeOut {
              from { opacity: 1; }
              to { opacity: 0; }
            }
            
            /* Mobile responsive adjustments */
            @media (max-width: 768px) {
              .game-ad-container {
                width: 95%;
                max-height: 90vh;
              }
              
              .ad-header {
                padding: 20px 16px;
              }
              
              .ad-header h3 {
                font-size: 1.2rem;
              }
              
              .ad-content {
                padding: 16px;
                min-height: 280px;
              }
              
              .ad-footer {
                flex-direction: column;
                gap: 12px;
                padding: 16px;
              }
              
              .quick-links {
                flex-direction: column;
                width: 100%;
              }
              
              .quick-link-btn {
                justify-content: center;
              }
            }
          `;
          document.head.appendChild(styles);
        }

        // Initialize enhanced ad functionality
        initializeEnhancedAd(gameLink);

        // Load the ad
        if (window.adsbygoogle) {
          try {
            (adsbygoogle = window.adsbygoogle || []).push({});
          } catch (error) {
            console.log("AdSense loading issue:", error);
            showAdFallback();
          }
        } else {
          showAdFallback();
        }

        // Show overlay with animation
        setTimeout(() => {
          adOverlay.classList.add("show");
        }, 10);
      }

      function initializeEnhancedAd(gameLink) {
        let countdown = 5;
        const timerElement = document.querySelector(".countdown-timer");
        const progressFill = document.querySelector(".progress-fill");
        const skipBtn = document.querySelector(".skip-ad-btn");

        // Update countdown and progress
        const countdownInterval = setInterval(() => {
          countdown--;
          if (timerElement) timerElement.textContent = countdown;
          if (progressFill)
            progressFill.style.width = ((5 - countdown) / 5) * 100 + "%";

          if (countdown <= 0) {
            clearInterval(countdownInterval);
            if (skipBtn) {
              skipBtn.disabled = false;
              skipBtn.innerHTML = '<i class="fas fa-play"></i> Play Game Now!';
            }
            // Auto-navigate after countdown
            setTimeout(() => {
              navigateToGame(gameLink);
            }, 1000);
          } else if (countdown <= 2) {
            // Enable skip button early
            if (skipBtn) {
              skipBtn.disabled = false;
              skipBtn.innerHTML =
                '<i class="fas fa-forward"></i> Skip & Play Now';
            }
          }
        }, 1000);

        // Track ad interaction for analytics
        if (window.gtag) {
          gtag("event", "ad_impression", {
            game_link: gameLink,
            ad_type: "interstitial",
          });
        }
      }

      function showAdFallback() {
        const adSlot = document.querySelector(".ad-slot-container");
        const fallback = document.querySelector(".ad-fallback");

        if (adSlot && fallback) {
          adSlot.style.display = "none";
          fallback.style.display = "block";
        }
      }

      function navigateToGame(gameLink) {
        // Track game launch
        if (window.gtag) {
          gtag("event", "game_launch", {
            game_link: gameLink,
            source: "games_page",
          });
        }

        // Close ad and navigate
        closeGameAd();

        setTimeout(() => {
          window.location.href = gameLink;
        }, 300);
      }

      function showGameAd() {
        // Legacy function - redirect to enhanced version
        const gameLink = arguments[0] || "games.html";
        showEnhancedGameAd(gameLink);
      }

      function closeGameAd() {
        const overlay = document.querySelector(".game-ad-overlay");
        if (overlay) {
          overlay.style.animation = "fadeOut 0.3s ease";
          setTimeout(() => {
            overlay.remove();
          }, 300);
        }
      }

      function showGameInfo(gameId) {
        const game = games.find((g) => g.id == gameId);
        if (game) {
          const modal = createGameModal(game);
          document.body.appendChild(modal);
          setTimeout(() => modal.classList.add("show"), 10);
        }
      }

      function shareGame(gameId) {
        const game = games.find((g) => g.id == gameId);
        if (game && navigator.share) {
          navigator
            .share({
              title: game.title,
              text: game.description,
              url: window.location.origin + "/" + game.link,
            })
            .catch(console.error);
        } else {
          // Fallback: copy to clipboard
          const gameUrl = window.location.origin + "/" + game.link;
          navigator.clipboard
            .writeText(gameUrl)
            .then(() => {
              showNotification("Game link copied to clipboard!", "success");
            })
            .catch(() => {
              showNotification("Could not copy link", "error");
            });
        }
      }

      // Create game modal
      function createGameModal(game) {
        const modal = document.createElement("div");
        modal.className = "game-modal";
        modal.innerHTML = `
          <div class="modal-content">
            <div class="modal-header">
              <h3>${game.title}</h3>
              <button class="modal-close" onclick="closeModal(this)">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="modal-body">
              <div class="modal-game-image">
                ${
                  game.image
                    ? `<img src="${game.image}" alt="${game.title}" loading="lazy">`
                    : `<div class="modal-fallback-icon"><i class="${game.icon}"></i></div>`
                }
              </div>
              <div class="modal-info">
                <p class="modal-description">${game.description}</p>
                <div class="modal-stats">
                  <div class="modal-stat">
                    <i class="fas fa-${getSkillIcon(game.skill)}"></i>
                    <span>Skill: ${game.skill}</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-signal"></i>
                    <span>Difficulty: ${game.difficulty}</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-clock"></i>
                    <span>Duration: ${game.duration}</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-star"></i>
                    <span>Rating: ${game.rating}/5</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-play-circle"></i>
                    <span>Plays: ${formatNumber(game.plays)}</span>
                  </div>
                </div>
                <div class="modal-tags">
                  ${game.tags
                    .map((tag) => `<span class="modal-tag">${tag}</span>`)
                    .join("")}
                </div>
                <div class="modal-devices">
                  <h4>Available on:</h4>
                  <div class="device-list">
                    ${game.devices
                      .map(
                        (device) => `
                      <div class="device-item">
                        <i class="fas fa-${getDeviceIcon(device)}"></i>
                        <span>${device}</span>
                      </div>
                    `
                      )
                      .join("")}
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-actions">
              <button class="btn-modal-play" onclick="playGame('${
                game.link
              }'); closeModal(this);">
                <i class="fas fa-play"></i>
                Play Now
              </button>
              <button onclick="toggleFavorite(${game.id}); closeModal(this)" 
                      class="btn-modal-favorite ${
                        favorites.includes(game.id) ? "active" : ""
                      }">
                <i class="fas fa-heart"></i>
                ${
                  favorites.includes(game.id)
                    ? "Remove from Favorites"
                    : "Add to Favorites"
                }
              </button>
            </div>
          </div>
        `;

        modal.addEventListener("click", (e) => {
          if (e.target === modal) closeModal(modal);
        });

        return modal;
      }

      function closeModal(element) {
        const modal = element.closest(".game-modal");
        if (modal) {
          modal.classList.remove("show");
          setTimeout(() => modal.remove(), 300);
        }
      }

      // Notification system
      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.className = `notification ${type}`;

        const iconMap = {
          success: "fa-check-circle",
          error: "fa-exclamation-circle",
          info: "fa-info-circle",
        };

        notification.innerHTML = `
          <i class="fas ${iconMap[type]} notification-icon"></i>
          <span>${message}</span>
        `;

        document.body.appendChild(notification);

        setTimeout(() => notification.classList.add("show"), 10);
        setTimeout(() => {
          notification.classList.remove("show");
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }

      // Theme management
      function toggleTheme() {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");

        // Update theme toggle icon
        const icon = themeToggle.querySelector("i");
        icon.className = isDark ? "fas fa-sun" : "fas fa-moon";

        // Save preference
        localStorage.setItem("darkMode", isDark);
      }

      function loadTheme() {
        const savedTheme = localStorage.getItem("darkMode");
        if (savedTheme === "true") {
          document.body.classList.add("dark-mode");
          const icon = themeToggle.querySelector("i");
          icon.className = "fas fa-sun";
        }
      }

      // Enhanced mobile touch interactions
      function setupMobileTouchInteractions() {
        // Add touch feedback for game cards
        document.addEventListener(
          "touchstart",
          function (e) {
            if (e.target.closest(".game-card")) {
              e.target.closest(".game-card").classList.add("touch-active");
            }
          },
          { passive: true }
        );

        document.addEventListener(
          "touchend",
          function (e) {
            if (e.target.closest(".game-card")) {
              e.target.closest(".game-card").classList.remove("touch-active");
            }
          },
          { passive: true }
        );

        // Prevent double-tap zoom on buttons
        let lastTouchEnd = 0;
        document.addEventListener(
          "touchend",
          function (e) {
            const now = new Date().getTime();
            if (now - lastTouchEnd <= 300) {
              e.preventDefault();
            }
            lastTouchEnd = now;
          },
          false
        );

        // Add swipe gestures for mobile navigation
        let touchStartX = null;
        let touchStartY = null;

        document.addEventListener(
          "touchstart",
          function (e) {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
          },
          { passive: true }
        );

        document.addEventListener(
          "touchmove",
          function (e) {
            if (!touchStartX || !touchStartY) return;

            const touchEndX = e.touches[0].clientX;
            const touchEndY = e.touches[0].clientY;
            const diffX = touchStartX - touchEndX;
            const diffY = touchStartY - touchEndY;

            // Prevent scrolling when swiping horizontally on filter buttons
            if (
              Math.abs(diffX) > Math.abs(diffY) &&
              e.target.closest(".filter-buttons")
            ) {
              e.preventDefault();
            }
          },
          { passive: false }
        );
      }

      // Enhanced accessibility features
      function setupAccessibilityFeatures() {
        // Add keyboard navigation for game cards
        document.querySelectorAll(".game-card").forEach((card, index) => {
          card.setAttribute("tabindex", "0");
          card.setAttribute("role", "button");
          card.setAttribute(
            "aria-label",
            `Play ${card.querySelector(".game-title")?.textContent || "game"}`
          );

          card.addEventListener("keydown", function (e) {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              card.click();
            }
          });
        });

        // Add screen reader announcements for filter changes
        const announcer = document.createElement("div");
        announcer.setAttribute("aria-live", "polite");
        announcer.setAttribute("aria-atomic", "true");
        announcer.className = "sr-only";
        document.body.appendChild(announcer);

        // Announce filter changes
        const originalApplyFilters = applyFiltersAndSearch;
        window.applyFiltersAndSearch = function () {
          originalApplyFilters();
          const gameCount = document.querySelectorAll(".game-card").length;
          announcer.textContent = `Showing ${gameCount} games`;
        };

        // Add focus management for modals
        document.addEventListener("keydown", function (e) {
          const modal = document.querySelector(".game-modal.show");
          if (modal && e.key === "Tab") {
            const focusableElements = modal.querySelectorAll(
              'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstElement = focusableElements[0];
            const lastElement = focusableElements[focusableElements.length - 1];

            if (e.shiftKey && document.activeElement === firstElement) {
              e.preventDefault();
              lastElement.focus();
            } else if (!e.shiftKey && document.activeElement === lastElement) {
              e.preventDefault();
              firstElement.focus();
            }
          }
        });

        // Add skip links for better navigation
        const skipLink = document.querySelector(".skip-to-content");
        if (skipLink) {
          skipLink.addEventListener("click", function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) {
              target.focus();
              target.scrollIntoView({ behavior: "smooth" });
            }
          });
        }

        // Announce page load completion
        setTimeout(() => {
          announcer.textContent = `Games page loaded with ${games.length} games available`;
        }, 1000);
      }
    </script>

    <!-- FAQ Section with Schema -->
    <section
      class="faq-section"
      style="
        padding: 4rem 0;
        background: var(--bg-primary);
        border-top: 1px solid var(--border-light);
      "
    >
      <div class="container">
        <div
          class="section-header"
          style="text-align: center; margin-bottom: 3rem"
        >
          <h2
            style="
              font-family: 'Poppins', sans-serif;
              font-size: 2.5rem;
              font-weight: 700;
              color: var(--text-primary);
              margin-bottom: 1rem;
            "
          >
            Frequently Asked Questions
          </h2>
          <p
            style="
              font-size: 1.2rem;
              color: var(--text-secondary);
              max-width: 600px;
              margin: 0 auto;
            "
          >
            Everything you need to know about our free ESL games online
          </p>
        </div>

        <div class="faq-container" style="max-width: 900px; margin: 0 auto">
          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i class="fas fa-gamepad" style="color: var(--primary-color)"></i>
              How many ESL games are available for free?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              We offer 10+ completely free ESL games online, including
              vocabulary challenges, grammar practice, reading comprehension,
              listening exercises, and speaking activities. All games are
              designed for different English proficiency levels from beginner to
              advanced, and you can play them instantly without any registration
              or downloads required.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i
                class="fas fa-mobile-alt"
                style="color: var(--primary-color)"
              ></i>
              Can I play ESL games on my phone or tablet?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Yes! All our ESL games are optimized for mobile devices, tablets,
              and desktop computers. You can play on any device with an internet
              browser - iPhone, iPad, Android phones, tablets, or computers. The
              games automatically adjust to your screen size for the best
              learning experience on any device.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i
                class="fas fa-graduation-cap"
                style="color: var(--primary-color)"
              ></i>
              What English skills do these games help improve?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Our ESL games target all major English language skills: vocabulary
              building, grammar practice, reading comprehension, listening
              skills, and speaking confidence. Each game focuses on specific
              learning objectives while making the learning process fun and
              engaging. Games range from beginner-friendly word challenges to
              advanced grammar and conversation practice.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i class="fas fa-clock" style="color: var(--primary-color)"></i>
              How long does each ESL game take to play?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Most ESL games take between 10-30 minutes to complete, making them
              perfect for quick learning sessions during breaks or focused
              practice time. You can play games multiple times to reinforce
              learning, and progress is often saved so you can continue where
              you left off. The flexible timing makes it easy to fit English
              practice into any schedule.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i class="fas fa-users" style="color: var(--primary-color)"></i>
              Are these games suitable for all English levels?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Absolutely! Our ESL games are designed for learners at all levels
              - from complete beginners to advanced English speakers. You can
              filter games by difficulty level (beginner, intermediate,
              advanced) to find the perfect match for your current skills. Many
              games also adapt automatically to provide appropriate challenges
              as you improve.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Schema Markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How many ESL games are available for free?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "We offer 10+ completely free ESL games online, including vocabulary challenges, grammar practice, reading comprehension, listening exercises, and speaking activities. All games are designed for different English proficiency levels from beginner to advanced, and you can play them instantly without any registration or downloads required."
            }
          },
          {
            "@type": "Question",
            "name": "Can I play ESL games on my phone or tablet?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! All our ESL games are optimized for mobile devices, tablets, and desktop computers. You can play on any device with an internet browser - iPhone, iPad, Android phones, tablets, or computers. The games automatically adjust to your screen size for the best learning experience on any device."
            }
          },
          {
            "@type": "Question",
            "name": "What English skills do these games help improve?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Our ESL games target all major English language skills: vocabulary building, grammar practice, reading comprehension, listening skills, and speaking confidence. Each game focuses on specific learning objectives while making the learning process fun and engaging. Games range from beginner-friendly word challenges to advanced grammar and conversation practice."
            }
          },
          {
            "@type": "Question",
            "name": "How long does each ESL game take to play?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Most ESL games take between 10-30 minutes to complete, making them perfect for quick learning sessions during breaks or focused practice time. You can play games multiple times to reinforce learning, and progress is often saved so you can continue where you left off. The flexible timing makes it easy to fit English practice into any schedule."
            }
          },
          {
            "@type": "Question",
            "name": "Are these games suitable for all English levels?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Absolutely! Our ESL games are designed for learners at all levels - from complete beginners to advanced English speakers. You can filter games by difficulty level (beginner, intermediate, advanced) to find the perfect match for your current skills. Many games also adapt automatically to provide appropriate challenges as you improve."
            }
          }
        ]
      }
    </script>

    <!-- Enhanced Professional Footer -->
    <footer>
      <!-- Newsletter Section -->
      <div class="footer-newsletter">
        <div class="container">
          <div class="newsletter-content">
            <div class="newsletter-text">
              <h3><i class="fas fa-paper-plane"></i> Stay Updated</h3>
              <p>Get learning tips delivered to your inbox</p>
            </div>
            <div class="newsletter-form">
              <input
                type="email"
                placeholder="Enter email"
                id="newsletterEmail"
              />
              <button
                type="button"
                class="btn-newsletter"
                onclick="subscribeNewsletter()"
              >
                <i class="fas fa-arrow-right"></i>
                Subscribe
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="footer-content">
          <!-- Brand Section -->
          <div class="footer-section footer-brand">
            <div class="brand-header">
              <picture>
                <source
                  srcset="../images/logo-optimized.webp"
                  type="image/webp"
                />
                <img
                  src="../images/logo-optimized.png"
                  alt="ESL Fun Online"
                  class="footer-logo"
                  loading="lazy"
                  decoding="async"
                  width="40"
                  height="40"
                />
              </picture>
              <h3>ESL Fun Online</h3>
            </div>
            <p>
              Transform your English and coding skills with our premium
              interactive resources.
            </p>
          </div>

          <!-- English Learning Section -->
          <div class="footer-section">
            <h3><i class="fas fa-graduation-cap"></i> English</h3>
            <ul>
              <li>
                <a href="../english/grammar.html"
                  ><i class="fas fa-spell-check"></i><span>Grammar</span></a
                >
              </li>
              <li>
                <a href="../english/vocabguide.html"
                  ><i class="fas fa-book-open"></i><span>Vocabulary</span></a
                >
              </li>
              <li>
                <a href="../english/business.html"
                  ><i class="fas fa-handshake"></i><span>Business</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Programming Section -->
          <div class="footer-section">
            <h3><i class="fas fa-code"></i> Coding</h3>
            <ul>
              <li>
                <a href="../coding/computerbasics.html"
                  ><i class="fas fa-desktop"></i><span>Basics</span></a
                >
              </li>
              <li>
                <a href="../coding/ai.html"
                  ><i class="fas fa-robot"></i><span>AI</span></a
                >
              </li>
              <li>
                <a href="../coding/codingresources.html"
                  ><i class="fas fa-terminal"></i><span>Resources</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Quick Links Section -->
          <div class="footer-section">
            <h3><i class="fas fa-link"></i> Quick Links</h3>
            <ul>
              <li>
                <a href="lessons.html"
                  ><i class="fas fa-chalkboard-teacher"></i
                  ><span>Lessons</span></a
                >
              </li>
              <li>
                <a href="../games/games.html"
                  ><i class="fas fa-gamepad"></i><span>Games</span></a
                >
              </li>
              <li>
                <a href="../tools/tools.html"
                  ><i class="fas fa-tools"></i><span>Tools</span></a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="footer-bottom-center">
            <div class="footer-links">
              <a href="privacy.html"
                ><i class="fas fa-shield-alt"></i>Privacy</a
              >
              <a href="terms.html"><i class="fas fa-file-contract"></i>Terms</a>
              <a href="cookies.html"
                ><i class="fas fa-cookie-bite"></i>Cookies</a
              >
            </div>
          </div>

          <div class="footer-bottom-left">
            <p>
              &copy; 2025 <strong>ESL Fun Online</strong>. All rights reserved.
            </p>
            <p class="footer-subtitle">Empowering learners worldwide</p>
          </div>

          <div class="footer-bottom-right">
            <div class="footer-badges">
              <div class="badge">
                <i class="fas fa-award"></i><span>Certified</span>
              </div>
              <div class="badge">
                <i class="fas fa-lock"></i><span>Secure</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Main JavaScript -->
    <script src="../js/navigation.js"></script>
  </body>
</html>
