<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta name="google-adsense-account" content="ca-pub-2456627863532019" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Play 12+ free ESL games online at ESL Fun Online! Interactive vocabulary, grammar, reading & speaking games for all English levels. Start learning through fun today!"
    />
    <meta
      name="keywords"
      content="English learning games, ESL games, vocabulary games, grammar games, educational games, language learning, interactive English, learning activities, online games"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta
      property="og:title"
      content="ESL Fun Online Games | Free ESL Games Online - Interactive Learning"
    />
    <meta
      property="og:description"
      content="Play 12+ free ESL games online at ESL Fun Online! Interactive vocabulary, grammar, reading & speaking games for all English levels. Start learning through fun today!"
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/1.webp"
    />
    <meta
      property="og:url"
      content="https://eslfunonline.com/games/games.html"
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="ESL Fun Online Games | Free ESL Games Online - Interactive Learning"
    />
    <meta
      name="twitter:description"
      content="Play 12+ free ESL games online at ESL Fun Online! Interactive vocabulary, grammar, reading & speaking games for all English levels."
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/1.webp"
    />
    <link rel="canonical" href="https://eslfunonline.com/games/games.html" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <title>
      English Learning Games | ESL Fun Online - Interactive Educational Games
      Hub
    </title>

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "EducationalOrganization",
        "name": "ESL Fun Online - Learning Games Hub",
        "description": "Interactive English learning games to improve vocabulary, grammar, reading, listening and speaking skills for all ages and skill levels",
        "url": "https://eslfunonline.com/games/games.html",
        "logo": "https://eslfunonline.com/images/1.webp",
        "sameAs": [
          "https://www.facebook.com/eslfunonline",
          "https://twitter.com/eslfunonline"
        ],
        "offers": {
          "@type": "Offer",
          "category": "Educational Games",
          "description": "Interactive English learning games and activities",
          "price": "0",
          "priceCurrency": "USD"
        },
        "educationalCredentialAwarded": "Game-Based Learning Certificate",
        "hasCredential": {
          "@type": "EducationalOccupationalCredential",
          "name": "English Learning Games Certificate"
        }
      }
    </script>

    <!-- Enhanced Game Collection Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "ESL Fun Online Games Collection",
        "description": "12+ free ESL games online for vocabulary, grammar, reading, listening, and speaking practice",
        "url": "https://eslfunonline.com/games/games.html",
        "mainEntity": {
          "@type": "ItemList",
          "name": "Free ESL Games Online",
          "description": "Interactive English learning games for all skill levels",
          "numberOfItems": 12,
          "itemListElement": [
            {
              "@type": "Game",
              "name": "Uno Word Challenge",
              "description": "Master card strategy while building vocabulary! Play UNO with English word challenges.",
              "url": "https://eslfunonline.com/games/uno.html",
              "gamePlatform": "Web Browser",
              "genre": "Educational",
              "educationalAlignment": "Vocabulary Building",
              "typicalAgeRange": "13+",
              "contentRating": "Everyone"
            },
            {
              "@type": "Game",
              "name": "Quiz Champion",
              "description": "Test your English knowledge with multiple-choice questions covering grammar, vocabulary, and more.",
              "url": "https://eslfunonline.com/games/quizchamp.html",
              "gamePlatform": "Web Browser",
              "genre": "Educational",
              "educationalAlignment": "Grammar Practice",
              "typicalAgeRange": "13+",
              "contentRating": "Everyone"
            },
            {
              "@type": "Game",
              "name": "BalanceMan",
              "description": "Save the BalanceMan by guessing English words! A hangman-style game with ESL vocabulary.",
              "url": "https://eslfunonline.com/games/balanceman.html",
              "gamePlatform": "Web Browser",
              "genre": "Educational",
              "educationalAlignment": "Vocabulary Recognition",
              "typicalAgeRange": "10+",
              "contentRating": "Everyone"
            }
          ]
        }
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-9G9RD6BHLN");
    </script>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <title>
      ESL Fun Online Games | Free ESL Games Online - Interactive Learning
    </title>

    <!-- Favicon and Icons - Optimized for Google Search -->
    <link rel="icon" href="../favicon.ico" sizes="any" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../images/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="48x48"
      href="../images/favicon-48x48.png"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/1.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="../images/favicon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="../images/favicon-512x512.png"
    />

    <!-- PNG fallbacks -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../images/logo-optimized.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/logo-optimized.png"
    />

    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link
      rel="preload"
      href="../images/hero.webp"
      as="image"
      fetchpriority="high"
    />

    <!-- External Resources -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Load CSS files in standardized order for consistency -->
    <!-- Breadcrumb Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://eslfunonline.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Games",
            "item": "https://eslfunonline.com/games/"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Games",
            "item": "https://eslfunonline.com/games/games.html"
          }
        ]
      }
    </script>
                  <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/main.css?v=1763019900" />
    <link rel="stylesheet" href="../css/header.css?v=1763019900" />
    <link rel="stylesheet" href="../css/hero-unified.css?v=1763019900" />
    <link rel="stylesheet" href="../css/index-page.css?v=1763019900" />
    <link rel="stylesheet" href="../css/games-page.css?v=1763019900" />
    <link rel="stylesheet" href="../css/mobile-optimized.css?v=1763019900" />
    <link rel="stylesheet" href="../css/mobile-menu.css?v=1763019900" />
    <link rel="stylesheet" href="../css/layout-fixes.css?v=1763019900" />
    </head>

  <body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-content">Skip to main content</a>

    <!-- Scroll Progress Indicator -->
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress" id="scrollProgress"></div>
    <!-- Header & Navigation -->
    <header>
      <div class="container">
        <nav class="navbar">
          <a href="../index.html" class="logo-container">
            <img
              src="../images/1.png"
              alt="ESL Fun Online Logo"
              class="logo-image"
              width="40"
              height="40"
            />
            <span class="logo-text">ESL Fun Online</span>
          </a>

          <ul
            class="nav-links"
            id="navLinks"
            role="menubar"
            aria-label="Main navigation"
          >
            <li class="nav-item" role="none">
              <a href="../index.html" class="nav-link" role="menuitem">
                <i class="fas fa-home"></i>
                Home
              </a>
            </li>
            <li class="nav-item" role="none">
              <a
                href="#"
                class="nav-link"
                role="menuitem"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-book"></i>
                English
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown" role="menu" aria-label="English submenu">
                <a href="../english/grammar.html" class="dropdown-item">
                  <i class="fas fa-spell-check"></i>
                  Grammar Guides
                </a>
                <a href="../english/vocabguide.html" class="dropdown-item">
                  <i class="fas fa-book-open"></i>
                  Vocabulary Building
                </a>
                <a href="../english/worksheets.html" class="dropdown-item">
                  <i class="fas fa-file-alt"></i>
                  Worksheets
                </a>
                <a href="../english/writingf.html" class="dropdown-item">
                  <i class="fas fa-pen"></i>
                  Writing for Success
                </a>
                <a href="../english/business.html" class="dropdown-item">
                  <i class="fas fa-briefcase"></i>
                  Business English
                </a>
                <a href="../english/test.html" class="dropdown-item">
                  <i class="fas fa-graduation-cap"></i>
                  Test Preparation
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-code"></i>
                Coding
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="../coding/computerbasics.html" class="dropdown-item">
                  <i class="fas fa-desktop"></i>
                  Computer Basics
                </a>
                <a href="../coding/ai.html" class="dropdown-item">
                  <i class="fas fa-robot"></i>
                  AI Basics
                </a>
                <a href="../coding/codingresources.html" class="dropdown-item">
                  <i class="fas fa-code"></i>
                  Coding Basics
                </a>
              </div>
            </li>

            <li class="nav-item">
              <a href="../games/games.html" class="nav-link">
                <i class="fas fa-dice"></i>
                Games
              </a>
            </li>
            <li class="nav-item">
              <a href="../tools/tools.html" class="nav-link">
                <i class="fas fa-tools"></i>
                Toolkit
              </a>
            </li>
            <li class="nav-item">
              <a href="../blog/blog.html" class="nav-link">
                <i class="fas fa-book-open"></i>
                Blog
              </a>
            </li>
          </ul>

          <div class="controls">
            <button
              class="control-btn theme-toggle"
              id="themeToggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
            <a
              class="control-btn admin-toggle"
              id="adminToggle"
              aria-label="Admin"
              href="../login.html"
            >
              <i class="fas fa-user-shield"></i>
            </a>
          </div>
          <button
            class="control-btn mobile-toggle"
            id="mobileToggle"
            aria-label="Toggle mobile menu"
          >
            <i class="fas fa-bars"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- Immediate Mobile Menu Script - Inline for guaranteed execution -->
    <script>
      (function () {
        "use strict";

        function initMobileMenu() {
          const mobileToggle = document.getElementById("mobileToggle");
          const navLinks = document.getElementById("navLinks");
          const body = document.body;

          if (!mobileToggle || !navLinks) {
            console.warn("Mobile menu elements not found");
            return;
          }

          console.log("Immediate mobile menu initialized");

          let isMenuOpen = false;

          function toggleMenu(e) {
            if (e && e.preventDefault) e.preventDefault();
            if (e && e.stopPropagation) e.stopPropagation();

            isMenuOpen = !isMenuOpen;
            const icon = mobileToggle.querySelector("i");

            if (isMenuOpen) {
              navLinks.classList.add("active");
              body.classList.add("mobile-menu-open");
              body.style.overflow = "hidden";
              if (icon) icon.className = "fas fa-times";
              console.log("Menu opened");
            } else {
              navLinks.classList.remove("active");
              body.classList.remove("mobile-menu-open");
              body.style.overflow = "";
              if (icon) icon.className = "fas fa-bars";
              console.log("Menu closed");

              // Close all dropdowns
              document.querySelectorAll(".nav-item").forEach((item) => {
                item.classList.remove("mobile-open", "mobile-dropdown-open");
                const chevron = item.querySelector(".fa-chevron-down");
                if (chevron) chevron.style.transform = "rotate(0deg)";
              });
            }
          }

          // Simple unified handler - works for both touch and click
          let lastToggleTime = 0;

          function handleToggleClick(e) {
            const now = Date.now();
            // Prevent double-firing within 300ms
            if (now - lastToggleTime < 300) {
              console.log("Toggle ignored - too fast");
              return;
            }
            lastToggleTime = now;

            e.preventDefault();
            e.stopPropagation();
            console.log("Hamburger clicked/tapped");
            toggleMenu(e);
          }

          mobileToggle.addEventListener("click", handleToggleClick);
          mobileToggle.addEventListener("touchend", handleToggleClick);

          // Handle dropdown toggles on mobile
          document.querySelectorAll(".nav-item").forEach((item) => {
            const link = item.querySelector(".nav-link");
            const dropdown = item.querySelector(".dropdown");
            const chevron = link?.querySelector(".fa-chevron-down");

            // Only add special handling for links WITH dropdowns
            if (link && dropdown && chevron) {
              // Simple unified dropdown handler
              let lastDropdownToggle = 0;

              function handleDropdownClick(e) {
                if (window.innerWidth > 768) return; // Only on mobile

                // Don't interfere with dropdown item clicks
                if (
                  e.target.closest(".dropdown-item") ||
                  e.target.closest(".dropdown a")
                ) {
                  console.log("Dropdown item clicked - allowing navigation");
                  return; // Let the link work normally
                }

                const now = Date.now();
                // Prevent double-firing within 300ms
                if (now - lastDropdownToggle < 300) {
                  console.log("Dropdown toggle ignored - too fast");
                  return;
                }
                lastDropdownToggle = now;

                e.preventDefault();
                e.stopPropagation();

                const isOpen = item.classList.contains("mobile-open");
                console.log(
                  "Dropdown clicked:",
                  isOpen ? "closing" : "opening"
                );

                // Close other dropdowns
                document.querySelectorAll(".nav-item").forEach((otherItem) => {
                  if (otherItem !== item) {
                    otherItem.classList.remove(
                      "mobile-open",
                      "mobile-dropdown-open"
                    );
                    const otherChevron =
                      otherItem.querySelector(".fa-chevron-down");
                    if (otherChevron)
                      otherChevron.style.transform = "rotate(0deg)";
                  }
                });

                // Toggle current dropdown
                if (isOpen) {
                  item.classList.remove("mobile-open", "mobile-dropdown-open");
                  chevron.style.transform = "rotate(0deg)";
                  link.setAttribute("aria-expanded", "false");
                } else {
                  item.classList.add("mobile-open", "mobile-dropdown-open");
                  chevron.style.transform = "rotate(180deg)";
                  link.setAttribute("aria-expanded", "true");
                }
              }

              // Remove href="#" behavior on mobile
              if (link.getAttribute("href") === "#") {
                link.style.cursor = "pointer";
              }

              // Attach handlers for both click and touch
              link.addEventListener("click", handleDropdownClick);
              link.addEventListener("touchend", handleDropdownClick);
            }
          });

          // Close menu when clicking outside
          document.addEventListener("click", function (e) {
            if (window.innerWidth <= 768 && isMenuOpen) {
              if (
                !mobileToggle.contains(e.target) &&
                !navLinks.contains(e.target)
              ) {
                toggleMenu(null);
              }
            }
          });

          // Close menu on escape key
          document.addEventListener("keydown", function (e) {
            if (e.key === "Escape" && isMenuOpen) {
              toggleMenu(null);
              mobileToggle.focus();
            }
          });

          // Close menu on window resize to desktop
          window.addEventListener("resize", function () {
            if (window.innerWidth > 768 && isMenuOpen) {
              toggleMenu(null);
            }
          });

          // Close menu after dropdown link click
          document.querySelectorAll(".dropdown a").forEach((link) => {
            link.addEventListener("click", function () {
              if (window.innerWidth <= 768 && isMenuOpen) {
                setTimeout(() => {
                  toggleMenu(null);
                }, 100);
              }
            });
          });
        }

        // Initialize immediately if DOM is ready, otherwise wait
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", initMobileMenu);
        } else {
          initMobileMenu();
        }
      })();
    </script>

    <!-- Additional Mobile Dropdown Fixes -->
    

    <!-- Hero Section -->
    <section class="hero hero-section">
      <!-- WebP Hero Background -->
      <img
        src="../images/hero.webp"
        alt="ESL Fun Online Games Background"
        class="hero-bg"
        loading="eager"
        fetchpriority="high"
        width="1920"
        height="1080"
        decoding="async"
        style="aspect-ratio: 16/9; background-color: #f3f4f6"
      />

      <div class="container">
        <div class="hero-content">
          <div class="hero-badge">
            <i class="fas fa-gamepad"></i>
            <span>Interactive Learning Games</span>
          </div>

          <h1 class="hero-title">üéÆ ESL Fun Online Games</h1>
          <p class="hero-subtitle">
            Discover 12+ free ESL games online that make learning English
            exciting and effective. Play vocabulary, grammar, reading,
            listening, and speaking activities designed for all skill levels.
          </p>

          <div class="hero-stats quick-stats">
            <div class="stat-item stat">
              <div class="stat-icon"><i class="fas fa-gamepad"></i></div>
              <span class="stat-number" id="totalGames" data-target="12"
                >12+</span
              >
              <span class="stat-label">Games Available</span>
            </div>
            <div class="stat-item stat">
              <div class="stat-icon"><i class="fas fa-brain"></i></div>
              <span class="stat-number">5</span>
              <span class="stat-label">Skill Areas</span>
            </div>
            <div class="stat-item stat">
              <div class="stat-icon"><i class="fas fa-heart"></i></div>
              <span class="stat-number">100%</span>
              <span class="stat-label">Free to Play</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Value Proposition Section -->
    <section
      style="
        padding: 4rem 0;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      "
    >
      <div style="max-width: 1200px; margin: 0 auto; padding: 0 2rem">
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            text-align: center;
          "
        >
          <div
            style="
              background: white;
              padding: 2rem;
              border-radius: 16px;
              box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            "
          >
            <div style="font-size: 3rem; margin-bottom: 1rem">üéØ</div>
            <h3
              style="
                font-size: 1.5rem;
                font-weight: 700;
                color: #2c3e50;
                margin-bottom: 0.75rem;
              "
            >
              Interactive Learning
            </h3>
            <p style="color: #5a6c7d; line-height: 1.6">
              Engage with dynamic exercises and real-time feedback
            </p>
          </div>
          <div
            style="
              background: white;
              padding: 2rem;
              border-radius: 16px;
              box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            "
          >
            <div style="font-size: 3rem; margin-bottom: 1rem">‚ö°</div>
            <h3
              style="
                font-size: 1.5rem;
                font-weight: 700;
                color: #2c3e50;
                margin-bottom: 0.75rem;
              "
            >
              Quick Results
            </h3>
            <p style="color: #5a6c7d; line-height: 1.6">
              See improvement in your skills within days
            </p>
          </div>
          <div
            style="
              background: white;
              padding: 2rem;
              border-radius: 16px;
              box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            "
          >
            <div style="font-size: 3rem; margin-bottom: 1rem">üéì</div>
            <h3
              style="
                font-size: 1.5rem;
                font-weight: 700;
                color: #2c3e50;
                margin-bottom: 0.75rem;
              "
            >
              Expert Content
            </h3>
            <p style="color: #5a6c7d; line-height: 1.6">
              Curated by experienced educators and professionals
            </p>
          </div>
          <div
            style="
              background: white;
              padding: 2rem;
              border-radius: 16px;
              box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            "
          >
            <div style="font-size: 3rem; margin-bottom: 1rem">üåç</div>
            <h3
              style="
                font-size: 1.5rem;
                font-weight: 700;
                color: #2c3e50;
                margin-bottom: 0.75rem;
              "
            >
              Learn Anywhere
            </h3>
            <p style="color: #5a6c7d; line-height: 1.6">
              Access from any device, anytime, anywhere
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
      <div class="container">
        <!-- Quick Filters -->
        <section class="quick-filters">
          <h3><i class="fas fa-filter"></i> Find Your Perfect Game</h3>

          <div class="filter-buttons">
            <!-- Device Compatibility Filters -->
            <button class="filter-btn" data-filter="device" data-value="mobile">
              <i class="fas fa-mobile-alt"></i> Mobile Friendly
            </button>
            <button class="filter-btn" data-filter="device" data-value="tablet">
              <i class="fas fa-tablet-alt"></i> iPad Friendly
            </button>
            <button
              class="filter-btn"
              data-filter="device"
              data-value="desktop"
            >
              <i class="fas fa-desktop"></i> Desktop Only
            </button>

            <!-- Skill Area Filters -->
            <button
              class="filter-btn"
              data-filter="skill"
              data-value="vocabulary"
            >
              <i class="fas fa-font"></i> Vocabulary
            </button>
            <button class="filter-btn" data-filter="skill" data-value="grammar">
              <i class="fas fa-language"></i> Grammar
            </button>
            <button class="filter-btn" data-filter="skill" data-value="reading">
              <i class="fas fa-book"></i> Reading
            </button>
            <button
              class="filter-btn"
              data-filter="skill"
              data-value="listening"
            >
              <i class="fas fa-headphones"></i> Listening
            </button>
            <button
              class="filter-btn"
              data-filter="skill"
              data-value="speaking"
            >
              <i class="fas fa-microphone"></i> Speaking
            </button>
            <button class="filter-btn" data-filter="skill" data-value="coding">
              <i class="fas fa-code"></i> Coding
            </button>

            <!-- Difficulty Filters -->
            <button
              class="filter-btn"
              data-filter="difficulty"
              data-value="beginner"
            >
              <i class="fas fa-seedling"></i> Beginner
            </button>
            <button
              class="filter-btn"
              data-filter="difficulty"
              data-value="intermediate"
            >
              <i class="fas fa-chart-line"></i> Intermediate
            </button>
            <button
              class="filter-btn"
              data-filter="difficulty"
              data-value="advanced"
            >
              <i class="fas fa-trophy"></i> Advanced
            </button>
          </div>

          <!-- Search Bar & Sort Options -->
          <div class="search-controls">
            <div class="search-container">
              <i class="fas fa-search search-icon"></i>
              <input
                type="text"
                class="search-input"
                id="searchInput"
                placeholder="Search games by name or description..."
                aria-label="Search games"
              />
              <button
                class="clear-search"
                id="clearSearch"
                style="display: none"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>

            <div class="sort-container">
              <label for="sortSelect" class="sort-label">
                <i class="fas fa-sort"></i> Sort by:
              </label>
              <select class="sort-select" id="sortSelect">
                <option value="default">Default</option>
                <option value="title">Title A-Z</option>
                <option value="title-desc">Title Z-A</option>
                <option value="difficulty">Difficulty</option>
                <option value="skill">Skill Type</option>
                <option value="rating">Popularity</option>
              </select>
            </div>
          </div>

          <!-- AdSense Placement - After Search -->
          <!-- Active Filters Display -->
          <div class="active-filters" id="activeFilters" style="display: none">
            <!-- Active filters will be populated by JavaScript -->
          </div>
        </section>

        <!-- Games Grid -->
        <section class="games-grid" id="gamesGrid">
          <!-- Games will be populated by JavaScript -->
        </section>

        <!-- No Results State -->
        <div class="no-results" id="noResults" style="display: none">
          <i class="fas fa-search"></i>
          <h3>No Games Found</h3>
          <p>
            Try adjusting your filters or search terms to find the perfect game
            for you.
          </p>
        </div>
      </div>
    </main>

    <!-- How to Use ESL Games Section -->
    <section
      class="how-to-use-section"
      style="padding: 4rem 0; background: var(--bg-secondary)"
    >
      <div class="container">
        <div
          class="section-header"
          style="text-align: center; margin-bottom: 3rem"
        >
          <h2
            style="
              font-family: 'Poppins', sans-serif;
              font-size: 2.2rem;
              font-weight: 700;
              color: var(--text-primary);
              margin-bottom: 1rem;
            "
          >
            How to Get the Most from ESL Fun Online Games
          </h2>
          <p
            style="
              font-size: 1.1rem;
              color: var(--text-secondary);
              max-width: 700px;
              margin: 0 auto;
            "
          >
            Maximize your English learning with these proven strategies for
            using our free ESL games effectively
          </p>
        </div>

        <div
          class="tips-grid"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
          "
        >
          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(
                  135deg,
                  var(--primary-color),
                  var(--secondary-color)
                );
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-target"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Start with Your Level
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Use our difficulty filters to find games that match your current
              English level. Begin with beginner games if you're new to English,
              then gradually progress to intermediate and advanced challenges as
              your skills improve.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(
                  135deg,
                  var(--accent-color),
                  var(--success-color)
                );
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-clock"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Practice Daily
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Consistency is key to language learning success. Play ESL games
              for just 15-20 minutes daily rather than long sessions once a
              week. Regular practice helps reinforce new vocabulary and grammar
              patterns in your long-term memory.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #8b5cf6, #ec4899);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-brain"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Focus on Weak Areas
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Identify your challenging areas (vocabulary, grammar, listening,
              etc.) and spend extra time on those skill-specific games. Our
              filter system makes it easy to target exactly what you need to
              improve most.
            </p>
          </div>

          <div
            class="tip-card"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <div
              class="tip-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #06b6d4, var(--info));
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 1.5rem;
              "
            >
              <i
                class="fas fa-redo"
                style="font-size: 1.5rem; color: white"
              ></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
              "
            >
              Repeat Games
            </h3>
            <p style="color: var(--text-secondary); line-height: 1.6">
              Don't hesitate to replay games multiple times. Repetition helps
              cement learning and improves your reaction time. You'll often
              notice improvement and catch details you missed the first time
              through.
            </p>
          </div>
        </div>
      </div>
    </section>

    <script>
      // Game data with additional metadata - Updated with correct game files
      const games = [
        {
          id: 1,
          title: "Uno Word Challenge",
          description:
            "Master card strategy while building vocabulary! Play UNO with English word challenges and expand your language skills through fun gameplay.",
          skill: "vocabulary",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/image.png",
          link: "uno.html",
          icon: "fas fa-cards-blank",
          rating: 4.8,
          plays: 2847,
          duration: "15-20 min",
          tags: ["cards", "strategy", "vocabulary", "multiplayer"],
          featured: true,
        },
        {
          id: 2,
          title: "Quiz Champion",
          description:
            "Test your English knowledge with multiple-choice questions covering grammar, vocabulary, and more. Compete for the highest score!",
          skill: "grammar",
          difficulty: "intermediate",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/image copy 2.png",
          link: "quizchamp.html",
          icon: "fas fa-trophy",
          rating: 4.6,
          plays: 3214,
          duration: "10-15 min",
          tags: ["quiz", "multiple-choice", "competition", "knowledge"],
          featured: true,
        },
        {
          id: 3,
          title: "Who Wants To Be A Fluent English Speaker",
          description:
            "Answer challenging English questions to become a fluent speaker! Test your knowledge with this exciting quiz-style game.",
          skill: "vocabulary",
          difficulty: "intermediate",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/image copy 3.png",
          link: "whowants.html",
          icon: "fas fa-puzzle-piece",
          rating: 4.4,
          plays: 2687,
          duration: "20-30 min",
          tags: ["word-puzzle", "spelling", "brain-teaser", "timed"],
          featured: true,
        },
        {
          id: 4,
          title: "Snakes and Ladders ESL",
          description:
            "Classic board game with an ESL twist! Answer English questions to climb ladders and avoid snakes in this educational adventure.",
          skill: "grammar",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/image copy 7.png",
          link: "snakeslad.html",
          icon: "fas fa-dice",
          rating: 4.5,
          plays: 4156,
          duration: "15-25 min",
          tags: ["classic", "board-game", "questions", "family-friendly"],
          featured: true,
        },
        {
          id: 5,
          title: "BalanceMan",
          description:
            "Save the BalanceMan by guessing English words! A hangman-style game with ESL vocabulary that makes learning fun and engaging.",
          skill: "vocabulary",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/image copy 8.png",
          link: "balanceman.html",
          icon: "fas fa-balance-scale",
          rating: 4.7,
          plays: 1892,
          duration: "10-15 min",
          tags: ["hangman", "guessing", "alphabet", "rescue"],
          featured: true,
        },
        {
          id: 11,
          title: "Floating Market Maze",
          description:
            "Navigate your boat through a vibrant floating market! Collect exotic foods, avoid dangerous obstacles, and explore a colorful maze with dynamic weather and day/night cycles.",
          skill: "vocabulary",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/image copy 6.png",
          link: "floatingmarket.html",
          rating: 4.9,
          plays: 3842,
          duration: "15-30 min",
          tags: ["adventure", "collection", "maze", "exploration", "arcade"],
          featured: true,
        },
        {
          id: 12,
          title: "Colour Magic",
          description:
            "Express your creativity with Colour Magic! Choose from multiple pictures and bring them to life with vibrant colors. Features undo/redo, custom colors, and save functionality - perfect for all ages!",
          skill: "vocabulary",
          difficulty: "beginner",
          devices: ["mobile", "tablet", "desktop"],
          image: "../images/image copy 5.png",
          link: "colourmagic.html",
          rating: 4.7,
          plays: 2156,
          duration: "10-30 min",
          tags: ["creative", "art", "coloring", "relaxing", "educational"],
          featured: true,
        },
      ];

      // State management
      let activeFilters = {
        device: [],
        skill: [],
        difficulty: [],
      };
      let searchTerm = "";
      let filteredGames = [...games];
      let currentSort = "default";
      let favorites = JSON.parse(localStorage.getItem("gameFavorites") || "[]");

      // DOM elements - will be initialized after DOM loads
      let gamesGrid,
        noResults,
        searchInput,
        clearSearch,
        sortSelect,
        filterButtons,
        activeFiltersContainer,
        themeToggle;

      // Initialize the page
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize DOM elements
        gamesGrid = document.getElementById("gamesGrid");
        noResults = document.getElementById("noResults");
        searchInput = document.getElementById("searchInput");
        clearSearch = document.getElementById("clearSearch");
        sortSelect = document.getElementById("sortSelect");
        filterButtons = document.querySelectorAll(".filter-btn");
        activeFiltersContainer = document.getElementById("activeFilters");
        themeToggle = document.getElementById("themeToggle");

        updateQuickStats();
        renderGames(games);
        setupEventListeners();
        loadTheme();
        showWelcomeMessage();
        initializeProgressiveEnhancements();
      });

      // Progressive enhancements for better UX
      function initializeProgressiveEnhancements() {
        // Add loading states for better perceived performance
        setupIntersectionObserver();

        // Preload critical game resources
        preloadCriticalResources();

        // Setup service worker for offline functionality (if needed)
        registerServiceWorker();

        // Initialize performance monitoring
        setupPerformanceMonitoring();
      }

      // Intersection Observer for lazy loading and animations
      function setupIntersectionObserver() {
        if ("IntersectionObserver" in window) {
          const observerOptions = {
            root: null,
            rootMargin: "10px",
            threshold: 0.1,
          };

          const gameCardObserver = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("animate-fade-in-up");
                // Lazy load images if needed
                const img = entry.target.querySelector("img[data-src]");
                if (img) {
                  img.src = img.dataset.src;
                  img.removeAttribute("data-src");
                }
                gameCardObserver.unobserve(entry.target);
              }
            });
          }, observerOptions);

          // Observe all game cards
          setTimeout(() => {
            document.querySelectorAll(".game-card").forEach((card) => {
              gameCardObserver.observe(card);
            });
          }, 100);
        }
      }

      // Preload critical resources
      function preloadCriticalResources() {
        const criticalImages = [
          "../images/game1.png", // UNO
          "../images/game2.png", // Quiz Champion
          "../images/game5.png", // BalanceMan
        ];

        criticalImages.forEach((src) => {
          const link = document.createElement("link");
          link.rel = "preload";
          link.as = "image";
          link.href = src;
          document.head.appendChild(link);
        });
      }

      // Register service worker for offline support
      function registerServiceWorker() {
        if ("serviceWorker" in navigator) {
          navigator.serviceWorker.register("/sw.js").catch(() => {
            // Service worker registration failed, continue without offline support
          });
        }
      }

      // Performance monitoring
      function setupPerformanceMonitoring() {
        // Monitor Core Web Vitals
        if ("PerformanceObserver" in window) {
          try {
            // Largest Contentful Paint
            new PerformanceObserver((entryList) => {
              const entries = entryList.getEntries();
              const lastEntry = entries[entries.length - 1];
              console.log("LCP:", lastEntry.startTime);
            }).observe({ entryTypes: ["largest-contentful-paint"] });

            // First Input Delay
            new PerformanceObserver((entryList) => {
              const entries = entryList.getEntries();
              entries.forEach((entry) => {
                console.log("FID:", entry.processingStart - entry.startTime);
              });
            }).observe({ entryTypes: ["first-input"] });

            // Cumulative Layout Shift
            new PerformanceObserver((entryList) => {
              let cumulativeScore = 0;
              entryList.getEntries().forEach((entry) => {
                if (!entry.hadRecentInput) {
                  cumulativeScore += entry.value;
                }
              });
              console.log("CLS:", cumulativeScore);
            }).observe({ entryTypes: ["layout-shift"] });
          } catch (error) {
            // Performance monitoring failed, continue without it
          }
        }
      }

      // Update quick stats with real data
      function updateQuickStats() {
        const totalGames = games.length;
        const totalGamesElement = document.getElementById("totalGames");

        if (totalGamesElement) {
          totalGamesElement.textContent = totalGames;
        }
      }

      // Show welcome message for new users
      function showWelcomeMessage() {
        const hasVisited = localStorage.getItem("hasVisitedGames");
        if (!hasVisited) {
          setTimeout(() => {
            showNotification(
              "Welcome to our games collection! Use filters to find your perfect game.",
              "info"
            );
            localStorage.setItem("hasVisitedGames", "true");
          }, 1000);
        }
      }

      // Event listeners setup
      function setupEventListeners() {
        // Filter buttons
        filterButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const filterType = this.dataset.filter;
            const filterValue = this.dataset.value;
            toggleFilter(filterType, filterValue, this);
          });
        });

        // Search input
        searchInput.addEventListener("input", function () {
          searchTerm = this.value.toLowerCase();
          toggleClearSearch();
          applyFiltersAndSearch();
        });

        // Clear search
        clearSearch.addEventListener("click", function () {
          searchInput.value = "";
          searchTerm = "";
          toggleClearSearch();
          applyFiltersAndSearch();
          searchInput.focus();
        });

        // Sort select
        sortSelect.addEventListener("change", function () {
          currentSort = this.value;
          applyFiltersAndSearch();
        });

        // Theme toggle
        themeToggle.addEventListener("click", toggleTheme);

        // Keyboard accessibility
        document.addEventListener("keydown", function (e) {
          if (
            e.key === "/" &&
            !e.ctrlKey &&
            !e.metaKey &&
            e.target !== searchInput
          ) {
            e.preventDefault();
            searchInput.focus();
          }
          if (e.key === "Escape") {
            if (searchTerm) {
              clearSearch.click();
            } else {
              // Close any open modals
              const openModal = document.querySelector(".game-modal.show");
              if (openModal) {
                closeModal(openModal);
              }
            }
          }
        });

        // Add loading animation on page change
        document.querySelectorAll('a[href*=".html"]').forEach((link) => {
          link.addEventListener("click", function () {
            if (this.hostname === window.location.hostname) {
              document.body.style.opacity = "0.7";
              document.body.style.pointerEvents = "none";
            }
          });
        });

        // Enhanced mobile touch interactions
        setupMobileTouchInteractions();

        // Enhanced accessibility features
        setupAccessibilityFeatures();

        // Performance: Intersection Observer for animations
        if ("IntersectionObserver" in window) {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.style.animationPlayState = "running";
              }
            });
          });

          // Observe game cards for animation
          setTimeout(() => {
            document.querySelectorAll(".game-card").forEach((card) => {
              observer.observe(card);
            });
          }, 100);
        }
      }

      // Toggle clear search button visibility
      function toggleClearSearch() {
        clearSearch.style.display = searchTerm.length > 0 ? "block" : "none";
      }

      // Toggle filter
      function toggleFilter(type, value, buttonElement) {
        const index = activeFilters[type].indexOf(value);

        if (index > -1) {
          activeFilters[type].splice(index, 1);
          buttonElement.classList.remove("active");
        } else {
          activeFilters[type].push(value);
          buttonElement.classList.add("active");
        }

        applyFiltersAndSearch();
        updateActiveFiltersDisplay();
      }

      // Apply filters and search
      function applyFiltersAndSearch() {
        filteredGames = games.filter((game) => {
          // Device filter
          const deviceMatch =
            activeFilters.device.length === 0 ||
            activeFilters.device.some((device) =>
              game.devices.includes(device)
            );

          // Skill filter
          const skillMatch =
            activeFilters.skill.length === 0 ||
            activeFilters.skill.includes(game.skill);

          // Difficulty filter
          const difficultyMatch =
            activeFilters.difficulty.length === 0 ||
            activeFilters.difficulty.includes(game.difficulty);

          // Search filter
          const searchMatch =
            searchTerm === "" ||
            game.title.toLowerCase().includes(searchTerm) ||
            game.description.toLowerCase().includes(searchTerm) ||
            game.skill.toLowerCase().includes(searchTerm) ||
            game.tags.some((tag) => tag.toLowerCase().includes(searchTerm));

          return deviceMatch && skillMatch && difficultyMatch && searchMatch;
        });

        // Apply sorting
        sortGames();
        renderGames(filteredGames);
      }

      // Sort games based on selected criteria
      function sortGames() {
        switch (currentSort) {
          case "title":
            filteredGames.sort((a, b) => a.title.localeCompare(b.title));
            break;
          case "title-desc":
            filteredGames.sort((a, b) => b.title.localeCompare(a.title));
            break;
          case "difficulty":
            const difficultyOrder = {
              beginner: 1,
              intermediate: 2,
              advanced: 3,
            };
            filteredGames.sort(
              (a, b) =>
                difficultyOrder[a.difficulty] - difficultyOrder[b.difficulty]
            );
            break;
          case "skill":
            filteredGames.sort((a, b) => a.skill.localeCompare(b.skill));
            break;
          case "rating":
            filteredGames.sort((a, b) => b.rating - a.rating);
            break;
          default:
            // Default sort: featured games first, then by plays
            filteredGames.sort((a, b) => {
              if (a.featured && !b.featured) return -1;
              if (!a.featured && b.featured) return 1;
              return b.plays - a.plays;
            });
        }
      }

      // Update active filters display
      function updateActiveFiltersDisplay() {
        const allActiveFilters = [
          ...activeFilters.device,
          ...activeFilters.skill,
          ...activeFilters.difficulty,
        ];

        if (allActiveFilters.length === 0) {
          activeFiltersContainer.style.display = "none";
          return;
        }

        activeFiltersContainer.style.display = "flex";
        activeFiltersContainer.innerHTML = allActiveFilters
          .map(
            (filter) => `
          <div class="active-filter">
            ${filter}
            <button class="remove-filter" onclick="removeFilter('${filter}')">
              <i class="fas fa-times"></i>
            </button>
          </div>
        `
          )
          .join("");
      }

      // Remove filter
      function removeFilter(filterValue) {
        // Find and remove from active filters
        Object.keys(activeFilters).forEach((type) => {
          const index = activeFilters[type].indexOf(filterValue);
          if (index > -1) {
            activeFilters[type].splice(index, 1);
            // Update button state
            const button = document.querySelector(
              `[data-filter="${type}"][data-value="${filterValue}"]`
            );
            if (button) button.classList.remove("active");
          }
        });

        applyFiltersAndSearch();
        updateActiveFiltersDisplay();
      }

      // Render games
      function renderGames(gamesToRender) {
        if (!gamesGrid) {
          console.error("gamesGrid element not found!");
          return;
        }

        if (gamesToRender.length === 0) {
          gamesGrid.style.display = "none";
          if (noResults) noResults.style.display = "block";
          return;
        }

        gamesGrid.style.display = "grid";
        if (noResults) noResults.style.display = "none";

        let html = "";

        console.log("About to render", gamesToRender.length, "games");

        // Render each game
        gamesToRender.forEach((game, index) => {
          // Add ESL Escape Room as 5th card (after first 4 games)
          if (index === 4) {
            html += `
              <div class="game-card" data-skill="vocabulary" onclick="handleCardClick(event, 'escape.html')">
                <div class="game-image-container">
                  <img src="../images/image copy 10.png" alt="ESL Escape Room" class="game-image" loading="lazy">
                </div>
                <button class="favorite-btn ${
                  favorites.includes("escape") ? "active" : ""
                }" 
                        onclick="toggleFavorite(event, 'escape')" 
                        aria-label="Add to favorites">
                  <i class="${
                    favorites.includes("escape") ? "fas" : "far"
                  } fa-heart"></i>
                </button>
                <div class="game-content">
                  <h3 class="game-title">ESL Escape Room</h3>
                  <p class="game-description">Solve English puzzles to escape the library! Test your vocabulary, grammar, and problem-solving skills in this exciting escape room adventure.</p>
                  <div class="game-footer">
                    <span class="game-skill">vocabulary</span>
                    <a href="escape.html" class="btn-play" onclick="event.stopPropagation()">
                      <i class="fas fa-play"></i>
                      Play
                    </a>
                  </div>
                </div>
              </div>
            `;
          }

          // Add game card
          html += `
            <div class="game-card" data-skill="${
              game.skill
            }" onclick="handleCardClick(event, '${game.link}')">
              <div class="game-image-container">
                ${
                  game.image
                    ? `<img src="${game.image}" alt="${game.title}" class="game-image" loading="lazy">`
                    : `<i class="${game.icon} game-fallback-icon"></i>`
                }
              </div>
              <div class="game-content">
                <h3 class="game-title">${game.title}</h3>
                <p class="game-description">${game.description}</p>
                <div class="game-footer">
                  <span class="game-skill">${game.skill}</span>
                </div>
              </div>
            </div>
          `;
        });

        console.log("Generated HTML length:", html.length);
        console.log("First 200 chars:", html.substring(0, 200));
        gamesGrid.innerHTML = html;
        console.log(
          "Set innerHTML, children count:",
          gamesGrid.children.length
        );

        // Initialize the ad after rendering
        setTimeout(() => {
          try {
            (adsbygoogle = window.adsbygoogle || []).push({});
          } catch (e) {
            console.log("AdSense error:", e);
          }
        }, 100);
      }

      // Generate star rating
      function generateStarRating(rating) {
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 >= 0.5;
        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);

        let stars = "";
        for (let i = 0; i < fullStars; i++) {
          stars += '<i class="fas fa-star"></i>';
        }
        if (hasHalfStar) {
          stars += '<i class="fas fa-star-half-alt"></i>';
        }
        for (let i = 0; i < emptyStars; i++) {
          stars += '<i class="far fa-star"></i>';
        }
        return stars;
      }

      // Format number for display
      function formatNumber(num) {
        if (num >= 1000) {
          return (num / 1000).toFixed(1) + "k";
        }
        return num.toString();
      }

      // Handle card click
      function handleCardClick(event, gameLink) {
        // Navigate to game
        playGame(gameLink);
      }

      // Toggle favorite
      function toggleFavorite(gameId) {
        const index = favorites.indexOf(gameId);
        if (index > -1) {
          favorites.splice(index, 1);
        } else {
          favorites.push(gameId);
        }
        localStorage.setItem("gameFavorites", JSON.stringify(favorites));

        // Update the favorite button appearance
        const favoriteBtn = document.querySelector(
          `[onclick*="toggleFavorite(${gameId})"]`
        );
        if (favoriteBtn) {
          favoriteBtn.classList.toggle("active");
        }

        // Show feedback
        showNotification(
          favorites.includes(gameId)
            ? "Added to favorites!"
            : "Removed from favorites",
          favorites.includes(gameId) ? "success" : "info"
        );
      }

      // Track game play
      function trackGamePlay(gameId) {
        // Update play count (in a real app, this would be server-side)
        const game = games.find((g) => g.id === gameId);
        if (game) {
          game.plays += 1;
          localStorage.setItem(`game-${gameId}-plays`, game.plays);

          // Track with analytics
          if (window.gameAnalytics) {
            window.gameAnalytics.trackGameLaunch(game.title, "games_page");
          }
        }
      }

      // Helper functions
      function getDeviceIcon(device) {
        const icons = {
          mobile: "mobile-alt",
          tablet: "tablet-alt",
          desktop: "desktop",
        };
        return icons[device] || "device";
      }

      function getSkillIcon(skill) {
        const icons = {
          vocabulary: "font",
          grammar: "language",
          reading: "book",
          listening: "headphones",
          speaking: "microphone",
          coding: "code",
        };
        return icons[skill] || "gamepad";
      }

      // Game actions
      function playGame(link) {
        // Navigate directly to game (ads removed)
        window.location.href = link;
      }

      function showGameInfo(gameId) {
        const game = games.find((g) => g.id == gameId);
        if (game) {
          const modal = createGameModal(game);
          document.body.appendChild(modal);
          setTimeout(() => modal.classList.add("show"), 10);
        }
      }

      function shareGame(gameId) {
        const game = games.find((g) => g.id == gameId);
        if (game && navigator.share) {
          navigator
            .share({
              title: game.title,
              text: game.description,
              url: window.location.origin + "/" + game.link,
            })
            .catch(console.error);
        } else {
          // Fallback: copy to clipboard
          const gameUrl = window.location.origin + "/" + game.link;
          navigator.clipboard
            .writeText(gameUrl)
            .then(() => {
              showNotification("Game link copied to clipboard!", "success");
            })
            .catch(() => {
              showNotification("Could not copy link", "error");
            });
        }
      }

      // Create game modal
      function createGameModal(game) {
        const modal = document.createElement("div");
        modal.className = "game-modal";
        modal.innerHTML = `
          <div class="modal-content">
            <div class="modal-header">
              <h3>${game.title}</h3>
              <button class="modal-close" onclick="closeModal(this)">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="modal-body">
              <div class="modal-game-image">
                ${
                  game.image
                    ? `<img src="${game.image}" alt="${game.title}" loading="lazy">`
                    : `<div class="modal-fallback-icon"><i class="${game.icon}"></i></div>`
                }
              </div>
              <div class="modal-info">
                <p class="modal-description">${game.description}</p>
                <div class="modal-stats">
                  <div class="modal-stat">
                    <i class="fas fa-${getSkillIcon(game.skill)}"></i>
                    <span>Skill: ${game.skill}</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-signal"></i>
                    <span>Difficulty: ${game.difficulty}</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-clock"></i>
                    <span>Duration: ${game.duration}</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-star"></i>
                    <span>Rating: ${game.rating}/5</span>
                  </div>
                  <div class="modal-stat">
                    <i class="fas fa-play-circle"></i>
                    <span>Plays: ${formatNumber(game.plays)}</span>
                  </div>
                </div>
                <div class="modal-tags">
                  ${game.tags
                    .map((tag) => `<span class="modal-tag">${tag}</span>`)
                    .join("")}
                </div>
                <div class="modal-devices">
                  <h4>Available on:</h4>
                  <div class="device-list">
                    ${game.devices
                      .map(
                        (device) => `
                      <div class="device-item">
                        <i class="fas fa-${getDeviceIcon(device)}"></i>
                        <span>${device}</span>
                      </div>
                    `
                      )
                      .join("")}
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-actions">
              <button class="btn-modal-play" onclick="playGame('${
                game.link
              }'); closeModal(this);">
                <i class="fas fa-play"></i>
                Play Now
              </button>
              <button onclick="toggleFavorite(${game.id}); closeModal(this)" 
                      class="btn-modal-favorite ${
                        favorites.includes(game.id) ? "active" : ""
                      }">
                <i class="fas fa-heart"></i>
                ${
                  favorites.includes(game.id)
                    ? "Remove from Favorites"
                    : "Add to Favorites"
                }
              </button>
            </div>
          </div>
        `;

        modal.addEventListener("click", (e) => {
          if (e.target === modal) closeModal(modal);
        });

        return modal;
      }

      function closeModal(element) {
        const modal = element.closest(".game-modal");
        if (modal) {
          modal.classList.remove("show");
          setTimeout(() => modal.remove(), 300);
        }
      }

      // Notification system
      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.className = `notification ${type}`;

        const iconMap = {
          success: "fa-check-circle",
          error: "fa-exclamation-circle",
          info: "fa-info-circle",
        };

        notification.innerHTML = `
          <i class="fas ${iconMap[type]} notification-icon"></i>
          <span>${message}</span>
        `;

        document.body.appendChild(notification);

        setTimeout(() => notification.classList.add("show"), 10);
        setTimeout(() => {
          notification.classList.remove("show");
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }

      // Theme management
      function toggleTheme() {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");

        // Update theme toggle icon
        const icon = themeToggle.querySelector("i");
        icon.className = isDark ? "fas fa-sun" : "fas fa-moon";

        // Save preference
        localStorage.setItem("darkMode", isDark);
      }

      function loadTheme() {
        const savedTheme = localStorage.getItem("darkMode");
        if (savedTheme === "true") {
          document.body.classList.add("dark-mode");
          const icon = themeToggle.querySelector("i");
          icon.className = "fas fa-sun";
        }
      }

      // Enhanced mobile touch interactions
      function setupMobileTouchInteractions() {
        // Add touch feedback for game cards
        document.addEventListener(
          "touchstart",
          function (e) {
            if (e.target.closest(".game-card")) {
              e.target.closest(".game-card").classList.add("touch-active");
            }
          },
          { passive: true }
        );

        document.addEventListener(
          "touchend",
          function (e) {
            if (e.target.closest(".game-card")) {
              e.target.closest(".game-card").classList.remove("touch-active");
            }
          },
          { passive: true }
        );

        // Prevent double-tap zoom on buttons
        let lastTouchEnd = 0;
        document.addEventListener(
          "touchend",
          function (e) {
            const now = new Date().getTime();
            if (now - lastTouchEnd <= 300) {
              e.preventDefault();
            }
            lastTouchEnd = now;
          },
          false
        );

        // Add swipe gestures for mobile navigation
        let touchStartX = null;
        let touchStartY = null;

        document.addEventListener(
          "touchstart",
          function (e) {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
          },
          { passive: true }
        );

        document.addEventListener(
          "touchmove",
          function (e) {
            if (!touchStartX || !touchStartY) return;

            const touchEndX = e.touches[0].clientX;
            const touchEndY = e.touches[0].clientY;
            const diffX = touchStartX - touchEndX;
            const diffY = touchStartY - touchEndY;

            // Prevent scrolling when swiping horizontally on filter buttons
            if (
              Math.abs(diffX) > Math.abs(diffY) &&
              e.target.closest(".filter-buttons")
            ) {
              e.preventDefault();
            }
          },
          { passive: false }
        );
      }

      // Enhanced accessibility features
      function setupAccessibilityFeatures() {
        // Add keyboard navigation for game cards
        document.querySelectorAll(".game-card").forEach((card, index) => {
          card.setAttribute("tabindex", "0");
          card.setAttribute("role", "button");
          card.setAttribute(
            "aria-label",
            `Play ${card.querySelector(".game-title")?.textContent || "game"}`
          );

          card.addEventListener("keydown", function (e) {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              card.click();
            }
          });
        });

        // Add screen reader announcements for filter changes
        const announcer = document.createElement("div");
        announcer.setAttribute("aria-live", "polite");
        announcer.setAttribute("aria-atomic", "true");
        announcer.className = "sr-only";
        document.body.appendChild(announcer);

        // Announce filter changes
        const originalApplyFilters = applyFiltersAndSearch;
        window.applyFiltersAndSearch = function () {
          originalApplyFilters();
          const gameCount = document.querySelectorAll(".game-card").length;
          announcer.textContent = `Showing ${gameCount} games`;
        };

        // Add focus management for modals
        document.addEventListener("keydown", function (e) {
          const modal = document.querySelector(".game-modal.show");
          if (modal && e.key === "Tab") {
            const focusableElements = modal.querySelectorAll(
              'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstElement = focusableElements[0];
            const lastElement = focusableElements[focusableElements.length - 1];

            if (e.shiftKey && document.activeElement === firstElement) {
              e.preventDefault();
              lastElement.focus();
            } else if (!e.shiftKey && document.activeElement === lastElement) {
              e.preventDefault();
              firstElement.focus();
            }
          }
        });

        // Add skip links for better navigation
        const skipLink = document.querySelector(".skip-to-content");
        if (skipLink) {
          skipLink.addEventListener("click", function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) {
              target.focus();
              target.scrollIntoView({ behavior: "smooth" });
            }
          });
        }

        // Announce page load completion
        setTimeout(() => {
          announcer.textContent = `Games page loaded with ${games.length} games available`;
        }, 1000);
      }
    </script>

    <!-- FAQ Section with Schema -->
    <section
      class="faq-section"
      style="
        padding: 4rem 0;
        background: var(--bg-primary);
        border-top: 1px solid var(--border-light);
      "
    >
      <div class="container">
        <div
          class="section-header"
          style="text-align: center; margin-bottom: 3rem"
        >
          <h2
            style="
              font-family: 'Poppins', sans-serif;
              font-size: 2.5rem;
              font-weight: 700;
              color: var(--text-primary);
              margin-bottom: 1rem;
            "
          >
            Frequently Asked Questions
          </h2>
          <p
            style="
              font-size: 1.2rem;
              color: var(--text-secondary);
              max-width: 600px;
              margin: 0 auto;
            "
          >
            Everything you need to know about our free ESL games online
          </p>
        </div>

        <div class="faq-container" style="max-width: 900px; margin: 0 auto">
          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i class="fas fa-gamepad" style="color: var(--primary-color)"></i>
              How many ESL games are available for free?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              We offer 10+ completely free ESL games online, including
              vocabulary challenges, grammar practice, reading comprehension,
              listening exercises, and speaking activities. All games are
              designed for different English proficiency levels from beginner to
              advanced, and you can play them instantly without any registration
              or downloads required.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i
                class="fas fa-mobile-alt"
                style="color: var(--primary-color)"
              ></i>
              Can I play ESL games on my phone or tablet?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Yes! All our ESL games are optimized for mobile devices, tablets,
              and desktop computers. You can play on any device with an internet
              browser - iPhone, iPad, Android phones, tablets, or computers. The
              games automatically adjust to your screen size for the best
              learning experience on any device.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i
                class="fas fa-graduation-cap"
                style="color: var(--primary-color)"
              ></i>
              What English skills do these games help improve?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Our ESL games target all major English language skills: vocabulary
              building, grammar practice, reading comprehension, listening
              skills, and speaking confidence. Each game focuses on specific
              learning objectives while making the learning process fun and
              engaging. Games range from beginner-friendly word challenges to
              advanced grammar and conversation practice.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i class="fas fa-clock" style="color: var(--primary-color)"></i>
              How long does each ESL game take to play?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Most ESL games take between 10-30 minutes to complete, making them
              perfect for quick learning sessions during breaks or focused
              practice time. You can play games multiple times to reinforce
              learning, and progress is often saved so you can continue where
              you left off. The flexible timing makes it easy to fit English
              practice into any schedule.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-card);
              border: 2px solid var(--border-light);
              border-radius: var(--radius-lg);
              padding: 2.5rem;
              margin-bottom: 2rem;
              box-shadow: var(--shadow-sm);
              transition: var(--transition);
            "
          >
            <h3
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i class="fas fa-users" style="color: var(--primary-color)"></i>
              Are these games suitable for all English levels?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.7;
                font-size: 1.1rem;
              "
            >
              Absolutely! Our ESL games are designed for learners at all levels
              - from complete beginners to advanced English speakers. You can
              filter games by difficulty level (beginner, intermediate,
              advanced) to find the perfect match for your current skills. Many
              games also adapt automatically to provide appropriate challenges
              as you improve.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Schema Markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How many ESL games are available for free?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "We offer 10+ completely free ESL games online, including vocabulary challenges, grammar practice, reading comprehension, listening exercises, and speaking activities. All games are designed for different English proficiency levels from beginner to advanced, and you can play them instantly without any registration or downloads required."
            }
          },
          {
            "@type": "Question",
            "name": "Can I play ESL games on my phone or tablet?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! All our ESL games are optimized for mobile devices, tablets, and desktop computers. You can play on any device with an internet browser - iPhone, iPad, Android phones, tablets, or computers. The games automatically adjust to your screen size for the best learning experience on any device."
            }
          },
          {
            "@type": "Question",
            "name": "What English skills do these games help improve?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Our ESL games target all major English language skills: vocabulary building, grammar practice, reading comprehension, listening skills, and speaking confidence. Each game focuses on specific learning objectives while making the learning process fun and engaging. Games range from beginner-friendly word challenges to advanced grammar and conversation practice."
            }
          },
          {
            "@type": "Question",
            "name": "How long does each ESL game take to play?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Most ESL games take between 10-30 minutes to complete, making them perfect for quick learning sessions during breaks or focused practice time. You can play games multiple times to reinforce learning, and progress is often saved so you can continue where you left off. The flexible timing makes it easy to fit English practice into any schedule."
            }
          },
          {
            "@type": "Question",
            "name": "Are these games suitable for all English levels?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Absolutely! Our ESL games are designed for learners at all levels - from complete beginners to advanced English speakers. You can filter games by difficulty level (beginner, intermediate, advanced) to find the perfect match for your current skills. Many games also adapt automatically to provide appropriate challenges as you improve."
            }
          }
        ]
      }
    </script>

    <!-- Enhanced Professional Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <!-- Brand Section -->
          <div class="footer-section footer-brand">
            <div class="brand-header">
              <picture>
                <source
                  srcset="../images/logo-optimized.webp"
                  type="image/webp"
                />
                <img
                  src="../images/logo-optimized.png"
                  alt="ESL Fun Online"
                  class="footer-logo"
                  loading="lazy"
                  decoding="async"
                  width="40"
                  height="40"
                />
              </picture>
              <h3>ESL Fun Online</h3>
            </div>
            <p>
              Transform your English and coding skills with our premium
              interactive resources.
            </p>
          </div>

          <!-- English Learning Section -->
          <div class="footer-section">
            <h3><i class="fas fa-graduation-cap"></i> English</h3>
            <ul>
              <li>
                <a href="../english/grammar.html"
                  ><i class="fas fa-spell-check"></i><span>Grammar</span></a
                >
              </li>
              <li>
                <a href="../english/vocabguide.html"
                  ><i class="fas fa-book-open"></i><span>Vocabulary</span></a
                >
              </li>
              <li>
                <a href="../english/business.html"
                  ><i class="fas fa-handshake"></i><span>Business</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Programming Section -->
          <div class="footer-section">
            <h3><i class="fas fa-code"></i> Coding</h3>
            <ul>
              <li>
                <a href="../coding/computerbasics.html"
                  ><i class="fas fa-desktop"></i><span>Basics</span></a
                >
              </li>
              <li>
                <a href="../coding/ai.html"
                  ><i class="fas fa-robot"></i><span>AI</span></a
                >
              </li>
              <li>
                <a href="../coding/codingresources.html"
                  ><i class="fas fa-terminal"></i><span>Resources</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Quick Links Section -->
          <div class="footer-section">
            <h3><i class="fas fa-link"></i> Quick Links</h3>
            <ul>
              <li>
                <a href="lessons.html"
                  ><i class="fas fa-chalkboard-teacher"></i
                  ><span>Lessons</span></a
                >
              </li>
              <li>
                <a href="../games/games.html"
                  ><i class="fas fa-gamepad"></i><span>Games</span></a
                >
              </li>
              <li>
                <a href="../tools/tools.html"
                  ><i class="fas fa-tools"></i><span>Tools</span></a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="footer-bottom-center">
            <div class="footer-links">
              <a href="privacy.html"
                ><i class="fas fa-shield-alt"></i>Privacy</a
              >
              <a href="terms.html"><i class="fas fa-file-contract"></i>Terms</a>
              <a href="cookies.html"
                ><i class="fas fa-cookie-bite"></i>Cookies</a
              >
            </div>
          </div>

          <div class="footer-bottom-left">
            <p>
              &copy; 2025 <strong>ESL Fun Online</strong>. All rights reserved.
            </p>
            <p class="footer-subtitle">Empowering learners worldwide</p>
          </div>

          <div class="footer-bottom-right">
            <div class="footer-badges">
              <div class="badge">
                <i class="fas fa-award"></i><span>Certified</span>
              </div>
              <div class="badge">
                <i class="fas fa-lock"></i><span>Secure</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Mobile Menu Script -->
    <script src="../js/mobile-menu.js"></script>

    <!-- Main JavaScript -->
    <script src="../js/navigation.js"></script>
  </body>
</html>
