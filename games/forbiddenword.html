<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta name="google-adsense-account" content="ca-pub-2456627863532019" />
    <title>The Forbidden Word - ESL Taboo Game | ESL Fun Online</title>

    <!-- Canonical URL -->
    <link
      rel="canonical"
      href="https://eslfunonline.com/games/forbiddenword.html"
    />

    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://pagead2.googlesyndication.com" />
    <link rel="preconnect" href="https://www.googletagmanager.com" />

    <!-- AdSense -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>

    <!-- Favicon and Icons -->
    <link rel="icon" href="../favicon.ico" sizes="any" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../images/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/favicon-32x32.png"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/1.png" />

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Play The Forbidden Word - an ESL Taboo-style game! Describe target words without using forbidden terms. 75+ word cards across 3 difficulty levels. Build vocabulary, paraphrasing, and communication skills."
    />
    <meta
      name="keywords"
      content="ESL taboo game, forbidden word game, vocabulary building game, paraphrasing practice, ESL speaking game, word description game, communication skills, English learning game"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#667eea" />

    <!-- Open Graph -->
    <meta
      property="og:title"
      content="The Forbidden Word - ESL Taboo Game | ESL Fun Online"
    />
    <meta
      property="og:description"
      content="Challenge your vocabulary and communication skills! Describe target words without using forbidden terms in this fast-paced ESL word game with 75+ cards."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://eslfunonline.com/games/forbiddenword.html"
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/forbiddenword-og.png"
    />
    <meta property="og:site_name" content="ESL Fun Online" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="The Forbidden Word - ESL Taboo Game" />
    <meta
      name="twitter:description"
      content="Describe words without using forbidden terms! 75+ word cards across 3 difficulty levels for ESL learners."
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/forbiddenword-og.png"
    />

    <!-- Structured Data - VideoGame Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "VideoGame",
        "name": "The Forbidden Word - ESL Taboo Game",
        "description": "Describe words without using forbidden terms! Challenge your vocabulary and communication skills in this fast-paced word game that builds paraphrasing abilities. Features 75+ word cards across 3 difficulty levels.",
        "url": "https://eslfunonline.com/games/forbiddenword.html",
        "image": "https://eslfunonline.com/images/forbiddenword-og.png",
        "author": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "url": "https://eslfunonline.com"
        },
        "publisher": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "url": "https://eslfunonline.com"
        },
        "genre": ["Educational", "Word Game", "Party Game"],
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "operatingSystem": "Any",
        "playMode": "MultiPlayer",
        "numberOfPlayers": {
          "@type": "QuantitativeValue",
          "minValue": 2,
          "maxValue": 10
        },
        "educationalUse": [
          "Vocabulary Building",
          "Speaking Practice",
          "Paraphrasing Skills"
        ],
        "learningResourceType": "Interactive Game",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "isFamilyFriendly": true
      }
    </script>

    <!-- Structured Data - BreadcrumbList -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://eslfunonline.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Games",
            "item": "https://eslfunonline.com/games.html"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "The Forbidden Word",
            "item": "https://eslfunonline.com/games/forbiddenword.html"
          }
        ]
      }
    </script>

    <!-- Structured Data - FAQPage -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How do you play The Forbidden Word game?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "One player describes the target word shown at the top of the card while avoiding all the forbidden words listed below. Other players try to guess the word. Click Correct when guessed, or Skip to move to the next word. You have 60 seconds to get as many words as possible!"
            }
          },
          {
            "@type": "Question",
            "name": "What are the difficulty levels?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Easy mode has 3 forbidden words with common vocabulary, Medium mode has 4 forbidden words with intermediate vocabulary, and Hard mode has 5 forbidden words with advanced vocabulary and concepts."
            }
          },
          {
            "@type": "Question",
            "name": "Is this game good for ESL learners?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! This game is excellent for ESL learners as it builds paraphrasing skills, expands vocabulary through synonyms, and improves spontaneous speaking abilities. It's also great for classroom activities."
            }
          }
        ]
      }
    </script>

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9G9RD6BHLN");
    </script>

    <!-- Fonts and Styles -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <style>
      /* Dark Theme Base */
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      /* Skip Link for Accessibility */
      .skip-link {
        position: absolute;
        top: -50px;
        left: 50%;
        transform: translateX(-50%);
        background: #667eea;
        color: white;
        padding: 12px 24px;
        border-radius: 0 0 8px 8px;
        z-index: 10000;
        font-weight: 600;
        text-decoration: none;
        transition: top 0.3s ease;
      }

      .skip-link:focus {
        top: 0;
        outline: 3px solid #f59e0b;
        outline-offset: 2px;
      }

      html,
      body {
        margin: 0 !important;
        padding: 0 !important;
        padding-top: 0 !important;
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
        min-height: 100vh;
        overflow-x: hidden;
      }

      body {
        background-color: #1a1a2e;
        background: url("../images/game-bg.jpg") center center / cover no-repeat
          fixed;
        font-family:
          "Poppins",
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
        color: white;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.35);
        pointer-events: none;
        z-index: 0;
      }

      @keyframes rainbowFlow {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Floating Elements */
      .floating-icons {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
        overflow: hidden;
      }

      .float-icon {
        position: absolute;
        font-size: 2rem;
        opacity: 0.3;
        animation: floatAround 12s ease-in-out infinite;
      }

      .float-icon:nth-child(1) {
        top: 10%;
        left: 5%;
        animation-delay: 0s;
      }
      .float-icon:nth-child(2) {
        top: 20%;
        right: 8%;
        animation-delay: 2s;
      }
      .float-icon:nth-child(3) {
        top: 60%;
        left: 3%;
        animation-delay: 4s;
      }
      .float-icon:nth-child(4) {
        top: 75%;
        right: 5%;
        animation-delay: 1s;
      }
      .float-icon:nth-child(5) {
        top: 40%;
        right: 2%;
        animation-delay: 3s;
      }
      .float-icon:nth-child(6) {
        bottom: 15%;
        left: 10%;
        animation-delay: 5s;
      }

      @keyframes floatAround {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-30px) rotate(15deg);
        }
      }

      :root {
        --forbidden-red: #ef4444;
        --success-green: #10b981;
        --warning-yellow: #f59e0b;
      }

      /* Compact Game Header */
      .game-nav-header {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.95),
          rgba(255, 255, 255, 0.9)
        );
        backdrop-filter: blur(10px);
        padding: 0.75rem 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 4px solid;
        border-image: linear-gradient(90deg, #667eea, #f093fb, #f5576c, #4facfe)
          1;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      .game-nav-header .nav-left {
        display: flex;
        gap: 0.75rem;
      }

      .game-nav-header .nav-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        border: none;
        color: white;
        padding: 0.6rem 1.2rem;
        border-radius: 25px;
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }

      .game-nav-header .nav-btn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
      }

      .game-nav-header .game-title {
        font-size: 1.3rem;
        font-weight: 700;
        background: linear-gradient(135deg, #f5576c, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      /* Ad Styling */
      .ad-wrapper {
        max-width: 800px;
        margin: 1rem auto;
        padding: 0 1rem;
      }

      .game-container {
        max-width: 900px;
        margin: 1rem auto;
        padding: 1.5rem;
      }

      .game-header {
        text-align: center;
        margin-bottom: 2rem;
      }

      .game-header h1 {
        font-size: 3.2rem;
        background: linear-gradient(135deg, #fff 0%, #ffeaa7 50%, #fff 100%);
        background-size: 200% 200%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.75rem;
        text-shadow: none;
        filter: drop-shadow(0 4px 15px rgba(0, 0, 0, 0.3));
        animation: titleShimmer 3s ease infinite;
        letter-spacing: 2px;
      }

      @keyframes titleShimmer {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .game-header p {
        font-size: 1.3rem;
        color: rgba(255, 255, 255, 0.98);
        font-weight: 500;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        letter-spacing: 0.5px;
      }

      /* Setup Screen */
      .setup-screen,
      .game-screen {
        background: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.98),
          rgba(255, 255, 255, 0.92)
        );
        backdrop-filter: blur(20px);
        border: 2px solid rgba(255, 255, 255, 0.5);
        border-radius: 30px;
        padding: 3rem;
        box-shadow:
          0 25px 60px rgba(0, 0, 0, 0.2),
          0 0 0 1px rgba(255, 255, 255, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.8);
        position: relative;
        z-index: 1;
        transform-style: preserve-3d;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      .setup-screen:hover,
      .game-screen:hover {
        transform: translateY(-5px);
        box-shadow:
          0 35px 80px rgba(0, 0, 0, 0.25),
          0 0 0 1px rgba(255, 255, 255, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.8);
      }

      .setup-screen::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 8px;
        background: linear-gradient(
          90deg,
          #667eea,
          #f093fb,
          #f5576c,
          #4facfe,
          #667eea
        );
        background-size: 200% 100%;
        border-radius: 30px 30px 0 0;
        animation: borderFlow 4s linear infinite;
      }

      @keyframes borderFlow {
        0% {
          background-position: 0% 50%;
        }
        100% {
          background-position: 200% 50%;
        }
      }

      .instructions {
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.1),
          rgba(240, 147, 251, 0.1)
        );
        border-left: 5px solid #667eea;
        padding: 1.75rem;
        margin: 1.5rem 0;
        border-radius: 0 15px 15px 0;
        text-align: left;
      }

      .instructions h3 {
        margin-top: 0;
        color: #667eea;
        font-size: 1.3rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .instructions ul {
        margin: 1rem 0;
        padding-left: 1.5rem;
      }

      .instructions li {
        margin: 0.75rem 0;
        color: #4a5568;
        font-size: 1rem;
        line-height: 1.6;
      }

      .difficulty-selection {
        margin: 2.5rem 0;
        text-align: center;
      }

      .difficulty-selection h3 {
        margin-bottom: 1.5rem;
        color: #4a5568;
        font-size: 1.4rem;
      }

      .difficulty-buttons {
        display: flex;
        gap: 1.25rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      .difficulty-btn {
        padding: 1.75rem 2rem;
        border: 3px solid #e2e8f0;
        background: white;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        min-width: 200px;
        color: #4a5568;
        position: relative;
        overflow: hidden;
      }

      .difficulty-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        transition: left 0.5s ease;
      }

      .difficulty-btn:hover::before {
        left: 100%;
      }

      .difficulty-btn:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      }

      .difficulty-btn.easy:hover,
      .difficulty-btn.easy.selected {
        border-color: #10b981;
        background: linear-gradient(135deg, #d1fae5, #a7f3d0);
        box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
      }

      .difficulty-btn.medium:hover,
      .difficulty-btn.medium.selected {
        border-color: #f59e0b;
        background: linear-gradient(135deg, #fef3c7, #fde68a);
        box-shadow: 0 10px 30px rgba(245, 158, 11, 0.3);
      }

      .difficulty-btn.hard:hover,
      .difficulty-btn.hard.selected {
        border-color: #ef4444;
        background: linear-gradient(135deg, #fee2e2, #fecaca);
        box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
      }

      .difficulty-btn h4 {
        margin: 0 0 0.5rem 0;
        font-size: 1.5rem;
        color: #2d3748;
      }

      .difficulty-btn p {
        margin: 0;
        font-size: 0.95rem;
        color: #718096;
      }

      .btn-start {
        margin-top: 2rem;
        padding: 1.25rem 3.5rem;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 50%,
          #f093fb 100%
        );
        background-size: 200% 200%;
        color: white;
        border: none;
        border-radius: 30px;
        font-size: 1.3rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 30px rgba(102, 126, 234, 0.5);
        animation: btnShine 3s ease infinite;
      }

      @keyframes btnShine {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .btn-start:hover {
        transform: translateY(-4px) scale(1.05);
        box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
      }

      .btn-start:disabled {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none;
        animation: none;
      }

      /* Game Screen */
      .game-screen {
        display: none;
      }

      .game-screen.active {
        display: block;
      }

      .score-board {
        display: flex;
        justify-content: center;
        margin-bottom: 1.5rem;
        gap: 1.25rem;
        flex-wrap: wrap;
      }

      .score-item {
        background: linear-gradient(145deg, #ffffff, #f8f9ff);
        border: 2px solid rgba(102, 126, 234, 0.15);
        padding: 1.5rem 2.25rem;
        border-radius: 22px;
        text-align: center;
        box-shadow:
          0 10px 30px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 1);
        min-width: 130px;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
      }

      .score-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #667eea, #f093fb);
        opacity: 0;
        transition: opacity 0.3s;
      }

      .score-item:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      }

      .score-item:hover::before {
        opacity: 1;
      }

      .score-label {
        font-size: 0.85rem;
        color: #718096;
        margin-bottom: 0.5rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .score-value {
        font-size: 2.2rem;
        font-weight: 700;
        color: #667eea;
      }

      .score-value.correct {
        color: #10b981;
      }

      .score-value.skipped {
        color: #f59e0b;
      }

      /* Streak Counter */
      .streak-display {
        text-align: center;
        margin-bottom: 1rem;
      }

      .streak-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: linear-gradient(135deg, #f093fb, #f5576c);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 30px;
        font-weight: 700;
        font-size: 1.1rem;
        box-shadow: 0 5px 20px rgba(245, 87, 108, 0.4);
        animation: streakPulse 1s ease-in-out infinite;
      }

      .streak-badge.hidden {
        display: none;
      }

      @keyframes streakPulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .timer-display {
        text-align: center;
        margin: 1.5rem 0;
      }

      .timer-circle {
        width: 120px;
        height: 120px;
        margin: 0 auto;
        border-radius: 50%;
        border: 8px solid transparent;
        background:
          linear-gradient(white, white) padding-box,
          linear-gradient(135deg, #667eea, #f093fb, #f5576c) border-box;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        font-weight: 800;
        color: #667eea;
        transition: all 0.3s;
        box-shadow:
          0 15px 40px rgba(102, 126, 234, 0.35),
          inset 0 0 20px rgba(102, 126, 234, 0.1);
        position: relative;
      }

      .timer-circle::before {
        content: "";
        position: absolute;
        inset: -4px;
        border-radius: 50%;
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.3),
          rgba(240, 147, 251, 0.3)
        );
        z-index: -1;
        filter: blur(10px);
      }

      .timer-circle.warning {
        border-color: #f59e0b;
        color: #f59e0b;
        animation: timerPulse 0.5s infinite;
        box-shadow: 0 10px 30px rgba(245, 158, 11, 0.4);
      }

      .timer-circle.danger {
        border-color: #ef4444;
        color: #ef4444;
        animation: timerShake 0.3s infinite;
        box-shadow: 0 10px 30px rgba(239, 68, 68, 0.5);
      }

      @keyframes timerPulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.08);
        }
      }

      @keyframes timerShake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-3px);
        }
        75% {
          transform: translateX(3px);
        }
      }

      .card-container {
        background: linear-gradient(145deg, #ffffff 0%, #f8f9ff 100%);
        border: 2px solid rgba(102, 126, 234, 0.2);
        border-radius: 30px;
        padding: 3rem 2.5rem;
        margin: 2rem auto;
        max-width: 580px;
        box-shadow:
          0 30px 70px rgba(102, 126, 234, 0.2),
          0 10px 20px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 1),
          inset 0 -2px 5px rgba(102, 126, 234, 0.05);
        position: relative;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        overflow: hidden;
        transform-style: preserve-3d;
      }

      .card-container:hover {
        transform: translateY(-8px) rotateX(2deg);
        box-shadow:
          0 40px 90px rgba(102, 126, 234, 0.3),
          0 15px 30px rgba(0, 0, 0, 0.12),
          inset 0 1px 0 rgba(255, 255, 255, 1);
      }

      .card-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 10px;
        background: linear-gradient(
          90deg,
          #667eea,
          #f093fb,
          #f5576c,
          #4facfe,
          #667eea
        );
        background-size: 200% 100%;
        animation: borderFlow 3s linear infinite;
      }

      .card-container::after {
        content: "";
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #f093fb);
        border-radius: 2px;
        opacity: 0.5;
      }

      .card-container.correct-flash {
        animation: correctFlash 0.5s ease;
      }

      .card-container.skip-flash {
        animation: skipFlash 0.5s ease;
      }

      @keyframes correctFlash {
        0% {
          transform: scale(1);
          box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
        }
        50% {
          transform: scale(1.02);
          box-shadow: 0 0 50px rgba(16, 185, 129, 0.5);
          background: #d1fae5;
        }
        100% {
          transform: scale(1);
          box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
          background: white;
        }
      }

      @keyframes skipFlash {
        0% {
          transform: scale(1) translateX(0);
        }
        25% {
          transform: scale(0.98) translateX(-10px);
        }
        75% {
          transform: scale(0.98) translateX(10px);
        }
        100% {
          transform: scale(1) translateX(0);
        }
      }

      .card-difficulty {
        position: absolute;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 0.5rem 1.25rem;
        border-radius: 25px;
        font-size: 0.85rem;
        font-weight: 700;
        letter-spacing: 1px;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }

      .target-word {
        font-size: 3.8rem;
        font-weight: 800;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 25%,
          #f093fb 50%,
          #f5576c 75%,
          #667eea 100%
        );
        background-size: 300% 300%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin: 1.5rem 0 2.5rem;
        text-transform: uppercase;
        letter-spacing: 4px;
        text-align: center;
        animation: wordGlow 3s ease infinite;
        filter: drop-shadow(0 4px 8px rgba(102, 126, 234, 0.3));
        position: relative;
      }

      @keyframes wordGlow {
        0%,
        100% {
          background-position: 0% 50%;
          filter: drop-shadow(0 4px 8px rgba(102, 126, 234, 0.3));
        }
        50% {
          background-position: 100% 50%;
          filter: drop-shadow(0 4px 15px rgba(240, 147, 251, 0.5));
        }
      }

      .forbidden-section {
        margin-top: 1.5rem;
      }

      .forbidden-title {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        color: #ef4444;
        font-weight: 700;
        font-size: 1.1rem;
        margin-bottom: 1rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .forbidden-words {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 0.75rem;
      }

      .forbidden-word {
        background: linear-gradient(
          135deg,
          #ef4444 0%,
          #dc2626 50%,
          #b91c1c 100%
        );
        color: white;
        padding: 1rem 1.25rem;
        border-radius: 15px;
        font-size: 1.15rem;
        font-weight: 600;
        text-align: center;
        position: relative;
        box-shadow:
          0 6px 20px rgba(239, 68, 68, 0.45),
          inset 0 1px 0 rgba(255, 255, 255, 0.2),
          inset 0 -1px 0 rgba(0, 0, 0, 0.1);
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border: 1px solid rgba(255, 255, 255, 0.15);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }

      .forbidden-word:hover {
        transform: scale(1.08) translateY(-3px);
        box-shadow:
          0 10px 30px rgba(239, 68, 68, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
      }

      .forbidden-word::before {
        content: "üö´";
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
      }

      .forbidden-word-text {
        margin-left: 1.5rem;
      }

      .game-controls {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-top: 1.5rem;
        flex-wrap: wrap;
      }

      .btn-control {
        padding: 1.1rem 2.5rem;
        border: none;
        border-radius: 30px;
        font-size: 1.15rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        position: relative;
        overflow: hidden;
      }

      .btn-control::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s ease;
      }

      .btn-control:hover::before {
        left: 100%;
      }

      .btn-correct {
        background: linear-gradient(
          135deg,
          #10b981 0%,
          #059669 50%,
          #047857 100%
        );
        color: white;
        flex: 1;
        max-width: 200px;
        box-shadow:
          0 10px 30px rgba(16, 185, 129, 0.45),
          inset 0 1px 0 rgba(255, 255, 255, 0.25),
          inset 0 -2px 0 rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }

      .btn-correct:hover {
        transform: translateY(-6px) scale(1.08);
        box-shadow:
          0 18px 45px rgba(16, 185, 129, 0.55),
          inset 0 1px 0 rgba(255, 255, 255, 0.25);
      }

      .btn-correct:active {
        transform: translateY(-2px) scale(1.02);
      }

      .btn-skip {
        background: linear-gradient(
          135deg,
          #f59e0b 0%,
          #d97706 50%,
          #b45309 100%
        );
        color: white;
        flex: 1;
        max-width: 200px;
        box-shadow:
          0 10px 30px rgba(245, 158, 11, 0.45),
          inset 0 1px 0 rgba(255, 255, 255, 0.25),
          inset 0 -2px 0 rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }

      .btn-skip:hover {
        transform: translateY(-6px) scale(1.08);
        box-shadow:
          0 18px 45px rgba(245, 158, 11, 0.55),
          inset 0 1px 0 rgba(255, 255, 255, 0.25);
      }

      .btn-skip:active {
        transform: translateY(-2px) scale(1.02);
      }

      .btn-end {
        background: linear-gradient(135deg, #6b7280, #4b5563);
        color: white;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      }

      .btn-end:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .btn-new-game {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      }

      .btn-new-game:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.5);
      }

      .results-screen {
        display: none;
        text-align: center;
        padding: 3rem;
        background: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.98),
          rgba(255, 255, 255, 0.92)
        );
        backdrop-filter: blur(20px);
        border: 2px solid rgba(255, 255, 255, 0.5);
        border-radius: 30px;
        box-shadow:
          0 30px 70px rgba(0, 0, 0, 0.2),
          inset 0 1px 0 rgba(255, 255, 255, 0.8);
        position: relative;
        z-index: 1;
        overflow: hidden;
      }

      .results-screen::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 8px;
        background: linear-gradient(
          90deg,
          #10b981,
          #f59e0b,
          #667eea,
          #f093fb,
          #10b981
        );
        background-size: 200% 100%;
        border-radius: 30px 30px 0 0;
        animation: borderFlow 4s linear infinite;
      }

      .results-screen::after {
        content: "üéâ";
        position: absolute;
        top: 25px;
        right: 25px;
        font-size: 2.5rem;
        animation: celebrateBounce 1s ease infinite;
      }

      @keyframes celebrateBounce {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-10px) rotate(10deg);
        }
      }

      .results-screen.active {
        display: block;
        animation: resultsSlide 0.5s ease;
      }

      @keyframes resultsSlide {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .results-header {
        font-size: 3.5rem;
        margin-bottom: 2rem;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #f093fb 25%,
          #f5576c 50%,
          #f093fb 75%,
          #667eea 100%
        );
        background-size: 200% 200%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: titleShimmer 3s ease infinite;
        letter-spacing: 2px;
        text-transform: uppercase;
      }

      .results-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
      }

      .stat-card {
        background: linear-gradient(145deg, #ffffff, #f8f9ff);
        padding: 2rem;
        border-radius: 22px;
        border: 2px solid rgba(102, 126, 234, 0.1);
        box-shadow:
          0 12px 35px rgba(0, 0, 0, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 1);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #f093fb);
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
      }

      .stat-card:hover::before {
        transform: scaleX(1);
      }

      .stat-card:nth-child(1) .stat-value {
        color: #10b981;
      }
      .stat-card:nth-child(2) .stat-value {
        color: #f59e0b;
      }
      .stat-card:nth-child(3) .stat-value {
        color: #667eea;
      }

      .stat-value {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 0.75rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: inline-block;
      }

      .stat-label {
        color: #64748b;
        font-size: 0.95rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1.5px;
      }

      /* Rating Display */
      .rating-display {
        margin: 1.5rem 0;
        font-size: 1.5rem;
      }

      .rating-stars {
        font-size: 2.5rem;
        margin-top: 0.5rem;
      }

      /* Confetti */
      .confetti {
        position: fixed;
        width: 12px;
        height: 12px;
        animation: confettiFall 3s ease-out forwards;
        z-index: 1000;
        pointer-events: none;
      }

      @keyframes confettiFall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-10px) rotate(-2deg);
        }
        50% {
          transform: translateX(10px) rotate(2deg);
        }
        75% {
          transform: translateX(-10px) rotate(-2deg);
        }
      }

      .hidden {
        display: none;
      }

      /* Footer */
      .game-footer {
        background: rgba(0, 0, 0, 0.3);
        padding: 1.5rem;
        text-align: center;
        margin-top: 2rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .game-footer a {
        color: rgba(255, 255, 255, 0.7);
        text-decoration: none;
        margin: 0 1rem;
        font-size: 0.9rem;
        transition: color 0.3s ease;
      }

      .game-footer a:hover {
        color: #667eea;
      }

      .game-footer .copyright {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.8rem;
        margin-top: 1rem;
      }

      @media (max-width: 768px) {
        .game-container {
          padding: 1rem;
        }

        .target-word {
          font-size: 2rem;
        }

        .card-container {
          padding: 2rem 1rem;
        }

        .difficulty-buttons {
          flex-direction: column;
        }

        .difficulty-btn {
          width: 100%;
          min-height: 44px;
        }

        .btn-control {
          flex: 1;
          min-width: 120px;
          min-height: 44px;
        }

        .game-nav-header .game-title {
          display: none;
        }

        .ad-wrapper {
          max-height: 100px;
          padding: 0.25rem;
        }

        .ad-wrapper .adsbygoogle {
          max-height: 90px;
        }
      }

      @media (max-width: 480px) {
        .game-container {
          padding: 0.75rem;
        }

        .target-word {
          font-size: 1.6rem;
        }

        .forbidden-word {
          font-size: 0.85rem;
          padding: 0.4rem 0.8rem;
        }

        .timer-circle {
          width: 70px;
          height: 70px;
          font-size: 1.6rem;
        }

        .results-header {
          font-size: 2rem;
        }

        .stat-value {
          font-size: 2.5rem;
        }

        .btn-control {
          font-size: 0.9rem;
          padding: 0.8rem 1rem;
        }

        .ad-wrapper {
          max-height: 70px;
        }

        .ad-wrapper .adsbygoogle {
          max-height: 60px;
        }
      }

      @media (max-width: 380px) {
        .target-word {
          font-size: 1.4rem;
        }

        .forbidden-word {
          font-size: 0.8rem;
          padding: 0.35rem 0.6rem;
        }

        .game-controls {
          flex-direction: column;
          gap: 0.5rem;
        }

        .btn-control {
          width: 100%;
        }
      }

      /* Reduced Motion Support */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }

        body {
          animation: none !important;
          background-position: 0% 50% !important;
        }

        .float-icon {
          animation: none !important;
        }

        .confetti {
          display: none !important;
        }
      }

      /* High Contrast Mode */
      @media (prefers-contrast: high) {
        .card-container {
          border: 3px solid #000;
        }

        .forbidden-word {
          border: 2px solid #000;
          color: #000;
          background: #fff;
        }

        .btn-control {
          border: 2px solid #000;
        }

        .target-word {
          -webkit-text-fill-color: #000;
          color: #000;
        }
      }

      /* Focus Visible for Accessibility */
      :focus-visible {
        outline: 3px solid #f59e0b;
        outline-offset: 2px;
      }

      button:focus-visible,
      a:focus-visible {
        outline: 3px solid #f59e0b;
        outline-offset: 2px;
      }

      /* iOS Safe Areas */
      @supports (padding: env(safe-area-inset-bottom)) {
        .game-footer {
          padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
        }

        .game-controls {
          padding-bottom: env(safe-area-inset-bottom);
        }
      }
    </style>
  </head>

  <body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-game" class="skip-link">Skip to Game</a>

    <!-- Floating Icons -->
    <div class="floating-icons" aria-hidden="true">
      <div class="float-icon">üö´</div>
      <div class="float-icon">üí¨</div>
      <div class="float-icon">üéØ</div>
      <div class="float-icon">‚è±Ô∏è</div>
      <div class="float-icon">üèÜ</div>
      <div class="float-icon">‚ú®</div>
    </div>

    <!-- Compact Game Header -->
    <header class="game-nav-header" role="banner">
      <nav class="nav-left" aria-label="Main navigation">
        <a href="../index.html" class="nav-btn" aria-label="Go to Home page">
          <i class="fas fa-home" aria-hidden="true"></i> Home
        </a>
        <a href="games.html" class="nav-btn" aria-label="Go to Games page">
          <i class="fas fa-gamepad" aria-hidden="true"></i> Games
        </a>
      </nav>
      <div class="game-title" aria-hidden="true">üö´ The Forbidden Word üí¨</div>
    </header>

    <main id="main-game" class="game-container" role="main">
      <header class="game-header">
        <h1>üö´ The Forbidden Word üí¨</h1>
        <p>Describe the target word without using any forbidden terms!</p>
      </header>

      <!-- Setup Screen -->
      <div
        id="setupScreen"
        class="setup-screen"
        role="region"
        aria-label="Game Setup"
      >
        <div class="instructions">
          <h3><i class="fas fa-info-circle"></i> How to Play</h3>
          <ul>
            <li>
              You'll see a <strong>TARGET WORD</strong> at the top of the card
            </li>
            <li>
              Below it are <strong>FORBIDDEN WORDS</strong> you cannot say
            </li>
            <li>
              Describe the target word to your partner without using any
              forbidden words
            </li>
            <li>
              You have 60 seconds to get as many words correct as possible
            </li>
            <li>Click ‚úì when your partner guesses correctly, or ‚Üí to skip</li>
          </ul>
        </div>

        <div class="difficulty-selection">
          <h3>
            <i class="fas fa-sliders-h" aria-hidden="true"></i> Choose
            Difficulty Level
          </h3>
          <div
            class="difficulty-buttons"
            role="group"
            aria-label="Difficulty level selection"
          >
            <button
              class="difficulty-btn easy"
              data-difficulty="easy"
              aria-label="Easy difficulty: 3 forbidden words with common vocabulary"
            >
              <h4>üòä Easy</h4>
              <p>3 forbidden words | Common vocabulary</p>
            </button>
            <button
              class="difficulty-btn medium"
              data-difficulty="medium"
              aria-label="Medium difficulty: 4 forbidden words with intermediate vocabulary"
            >
              <h4>ü§î Medium</h4>
              <p>4 forbidden words | Intermediate level</p>
            </button>
            <button
              class="difficulty-btn hard"
              data-difficulty="hard"
              aria-label="Hard difficulty: 5 forbidden words with advanced vocabulary"
            >
              <h4>üî• Hard</h4>
              <p>5 forbidden words | Advanced challenge</p>
            </button>
          </div>
        </div>

        <div style="text-align: center">
          <button id="startGameBtn" class="btn-start" disabled>
            <i class="fas fa-play"></i> Start Game
          </button>
        </div>
      </div>

      <!-- Game Screen -->
      <div
        id="gameScreen"
        class="game-screen"
        role="region"
        aria-label="Active Game"
      >
        <div
          class="score-board"
          role="status"
          aria-live="polite"
          aria-label="Game scores"
        >
          <div class="score-item">
            <div class="score-label">Correct</div>
            <div
              class="score-value correct"
              id="correctScore"
              aria-label="Correct answers"
            >
              0
            </div>
          </div>
          <div class="score-item">
            <div class="score-label">Skipped</div>
            <div
              class="score-value skipped"
              id="skippedScore"
              aria-label="Skipped words"
            >
              0
            </div>
          </div>
          <div class="score-item">
            <div class="score-label">Cards Left</div>
            <div
              class="score-value"
              id="cardsLeft"
              aria-label="Cards remaining"
            >
              20
            </div>
          </div>
        </div>

        <!-- Streak Display -->
        <div class="streak-display" aria-live="polite">
          <div class="streak-badge hidden" id="streakBadge" role="status">
            üî• <span id="streakCount">0</span> Streak!
          </div>
        </div>

        <div class="timer-display">
          <div
            id="timerCircle"
            class="timer-circle"
            role="timer"
            aria-live="polite"
            aria-label="Time remaining in seconds"
          >
            60
          </div>
        </div>

        <div
          class="card-container"
          id="cardContainer"
          role="region"
          aria-label="Word card"
        >
          <div
            class="card-difficulty"
            id="cardDifficulty"
            aria-label="Current difficulty level"
          >
            EASY
          </div>
          <div
            class="target-word"
            id="targetWord"
            aria-label="Target word to describe"
          >
            COMPUTER
          </div>
          <div class="forbidden-section">
            <div class="forbidden-title" aria-hidden="true">
              üö´ DO NOT SAY THESE WORDS
            </div>
            <div
              class="forbidden-words"
              id="forbiddenWords"
              role="list"
              aria-label="Forbidden words you cannot use"
            ></div>
          </div>
        </div>

        <div class="game-controls" role="group" aria-label="Game controls">
          <button
            id="correctBtn"
            class="btn-control btn-correct"
            aria-label="Mark as correct - word was guessed"
          >
            ‚úì Correct!
          </button>
          <button
            id="skipBtn"
            class="btn-control btn-skip"
            aria-label="Skip this word"
          >
            ‚Üí Skip
          </button>
          <button
            id="endGameBtn"
            class="btn-control btn-end"
            aria-label="End the game"
          >
            ‚èπ End
          </button>
        </div>
      </div>

      <!-- Results Screen -->
      <div
        id="resultsScreen"
        class="results-screen"
        role="region"
        aria-label="Game Results"
      >
        <div class="results-header" aria-label="Congratulations">
          üéâ Amazing Job!
        </div>
        <div class="rating-display">
          <div id="performanceText" role="status">Great Performance!</div>
          <div class="rating-stars" id="ratingStars" aria-label="Star rating">
            ‚≠ê‚≠ê‚≠ê
          </div>
        </div>
        <div class="results-stats" role="group" aria-label="Final statistics">
          <div class="stat-card">
            <div
              class="stat-value"
              style="color: #10b981"
              id="finalCorrect"
              aria-label="Words guessed correctly"
            >
              0
            </div>
            <div class="stat-label">Words Guessed</div>
          </div>
          <div class="stat-card">
            <div
              class="stat-value"
              style="color: #f59e0b"
              id="finalSkipped"
              aria-label="Words skipped"
            >
              0
            </div>
            <div class="stat-label">Words Skipped</div>
          </div>
          <div class="stat-card">
            <div
              class="stat-value"
              style="color: #667eea"
              id="finalAccuracy"
              aria-label="Accuracy percentage"
            >
              0%
            </div>
            <div class="stat-label">Accuracy</div>
          </div>
        </div>
        <div style="margin-top: 2rem">
          <button
            id="newGameBtn"
            class="btn-control btn-new-game"
            aria-label="Start a new game"
          >
            <i class="fas fa-redo" aria-hidden="true"></i> Play Again
          </button>
        </div>
      </div>
    </main>

    <script>
      // Game data
      const gameWords = {
        easy: [
          { target: "COMPUTER", forbidden: ["laptop", "keyboard", "screen"] },
          { target: "TEACHER", forbidden: ["school", "student", "classroom"] },
          { target: "PIZZA", forbidden: ["cheese", "Italy", "restaurant"] },
          { target: "SUMMER", forbidden: ["hot", "season", "vacation"] },
          { target: "DOCTOR", forbidden: ["hospital", "medicine", "nurse"] },
          { target: "OCEAN", forbidden: ["water", "sea", "beach"] },
          { target: "BICYCLE", forbidden: ["ride", "wheel", "pedal"] },
          { target: "COFFEE", forbidden: ["drink", "caffeine", "morning"] },
          { target: "GUITAR", forbidden: ["music", "string", "instrument"] },
          { target: "LIBRARY", forbidden: ["book", "quiet", "reading"] },
          { target: "BASKETBALL", forbidden: ["sport", "ball", "hoop"] },
          { target: "CAMERA", forbidden: ["photo", "picture", "lens"] },
          { target: "CHOCOLATE", forbidden: ["sweet", "candy", "dessert"] },
          { target: "AIRPLANE", forbidden: ["fly", "pilot", "airport"] },
          { target: "WEDDING", forbidden: ["marriage", "bride", "ceremony"] },
          { target: "UMBRELLA", forbidden: ["rain", "protect", "wet"] },
          { target: "BUTTERFLY", forbidden: ["insect", "wings", "colorful"] },
          { target: "REFRIGERATOR", forbidden: ["cold", "food", "kitchen"] },
          { target: "BIRTHDAY", forbidden: ["cake", "party", "celebrate"] },
          { target: "VOLCANO", forbidden: ["lava", "mountain", "eruption"] },
          { target: "ELEPHANT", forbidden: ["trunk", "big", "animal"] },
          { target: "SANDWICH", forbidden: ["bread", "lunch", "eat"] },
          { target: "SUNSET", forbidden: ["evening", "sky", "orange"] },
          { target: "RAINBOW", forbidden: ["colors", "rain", "sky"] },
          { target: "BACKPACK", forbidden: ["bag", "school", "carry"] },
        ],
        medium: [
          {
            target: "DEMOCRACY",
            forbidden: ["vote", "government", "election", "people"],
          },
          {
            target: "PHOTOGRAPHY",
            forbidden: ["camera", "picture", "photo", "image"],
          },
          {
            target: "EXERCISE",
            forbidden: ["gym", "workout", "fitness", "health"],
          },
          {
            target: "ADVERTISEMENT",
            forbidden: ["commercial", "marketing", "product", "sell"],
          },
          {
            target: "MICROWAVE",
            forbidden: ["heat", "food", "kitchen", "oven"],
          },
          {
            target: "VOCABULARY",
            forbidden: ["words", "language", "dictionary", "learn"],
          },
          {
            target: "TOURIST",
            forbidden: ["travel", "vacation", "visitor", "sightseeing"],
          },
          {
            target: "CELEBRATION",
            forbidden: ["party", "happy", "event", "festive"],
          },
          {
            target: "POLLUTION",
            forbidden: ["environment", "dirty", "air", "waste"],
          },
          {
            target: "DETECTIVE",
            forbidden: ["police", "investigate", "crime", "mystery"],
          },
          {
            target: "ARCHITECT",
            forbidden: ["building", "design", "blueprint", "construction"],
          },
          {
            target: "VOLUNTEER",
            forbidden: ["help", "charity", "unpaid", "community"],
          },
          {
            target: "EXPEDITION",
            forbidden: ["journey", "exploration", "adventure", "travel"],
          },
          {
            target: "COMPETITOR",
            forbidden: ["rival", "opponent", "contest", "competition"],
          },
          {
            target: "SCULPTURE",
            forbidden: ["art", "statue", "carve", "museum"],
          },
          {
            target: "NUTRITION",
            forbidden: ["food", "health", "diet", "vitamins"],
          },
          {
            target: "INVENTION",
            forbidden: ["create", "new", "patent", "discover"],
          },
          {
            target: "EMERGENCY",
            forbidden: ["urgent", "crisis", "911", "danger"],
          },
          {
            target: "SCHOLARSHIP",
            forbidden: ["student", "money", "university", "education"],
          },
          {
            target: "PHARMACY",
            forbidden: ["medicine", "drug", "prescription", "pills"],
          },
          {
            target: "LABORATORY",
            forbidden: ["science", "experiment", "research", "test"],
          },
          {
            target: "ORCHESTRA",
            forbidden: ["music", "conductor", "instruments", "symphony"],
          },
          { target: "MARATHON", forbidden: ["run", "race", "26", "distance"] },
          {
            target: "EXHIBITION",
            forbidden: ["display", "show", "museum", "art"],
          },
          {
            target: "PASSPORT",
            forbidden: ["travel", "document", "country", "identity"],
          },
        ],
        hard: [
          {
            target: "CAPITALISM",
            forbidden: ["economy", "market", "business", "money", "private"],
          },
          {
            target: "QUANTUM",
            forbidden: ["physics", "particle", "science", "small", "energy"],
          },
          {
            target: "PARADOX",
            forbidden: [
              "contradiction",
              "logic",
              "impossible",
              "confusing",
              "opposite",
            ],
          },
          {
            target: "ALGORITHM",
            forbidden: ["computer", "code", "program", "steps", "math"],
          },
          {
            target: "PHILOSOPHY",
            forbidden: ["thinking", "wisdom", "meaning", "life", "question"],
          },
          {
            target: "METABOLISM",
            forbidden: ["body", "energy", "food", "digestion", "burn"],
          },
          {
            target: "RENAISSANCE",
            forbidden: ["period", "art", "history", "Italy", "revival"],
          },
          {
            target: "ECOSYSTEM",
            forbidden: [
              "environment",
              "nature",
              "organisms",
              "balance",
              "habitat",
            ],
          },
          {
            target: "BUREAUCRACY",
            forbidden: [
              "government",
              "rules",
              "administration",
              "paperwork",
              "office",
            ],
          },
          {
            target: "CRYPTOCURRENCY",
            forbidden: [
              "bitcoin",
              "digital",
              "money",
              "blockchain",
              "currency",
            ],
          },
          {
            target: "PROPAGANDA",
            forbidden: [
              "information",
              "persuade",
              "political",
              "media",
              "influence",
            ],
          },
          {
            target: "EVOLUTION",
            forbidden: ["Darwin", "species", "adapt", "change", "natural"],
          },
          {
            target: "MEDITATION",
            forbidden: ["relax", "mindfulness", "calm", "breathe", "peaceful"],
          },
          {
            target: "IMMIGRATION",
            forbidden: ["country", "move", "border", "migrate", "citizen"],
          },
          {
            target: "PSYCHOLOGY",
            forbidden: ["mind", "behavior", "mental", "study", "brain"],
          },
          {
            target: "REVOLUTION",
            forbidden: ["change", "overthrow", "war", "government", "uprising"],
          },
          {
            target: "SATELLITE",
            forbidden: [
              "space",
              "orbit",
              "Earth",
              "communication",
              "broadcast",
            ],
          },
          {
            target: "ARCHAEOLOGY",
            forbidden: ["ancient", "dig", "artifacts", "history", "ruins"],
          },
          {
            target: "STEREOTYPE",
            forbidden: [
              "assumption",
              "group",
              "prejudice",
              "generalize",
              "belief",
            ],
          },
          {
            target: "INFLATION",
            forbidden: ["price", "increase", "money", "economy", "cost"],
          },
          {
            target: "MANUSCRIPT",
            forbidden: ["writing", "document", "old", "handwritten", "book"],
          },
          {
            target: "SOVEREIGNTY",
            forbidden: [
              "country",
              "independent",
              "power",
              "government",
              "authority",
            ],
          },
          {
            target: "HYPOTHESIS",
            forbidden: ["theory", "science", "test", "experiment", "guess"],
          },
          {
            target: "HIEROGLYPHICS",
            forbidden: ["Egypt", "symbols", "ancient", "writing", "pictures"],
          },
          {
            target: "QUARANTINE",
            forbidden: [
              "isolation",
              "disease",
              "separate",
              "sick",
              "contagious",
            ],
          },
        ],
      };

      // Game state
      let selectedDifficulty = null;
      let currentCards = [];
      let currentCardIndex = 0;
      let correctCount = 0;
      let skippedCount = 0;
      let timerInterval = null;
      let timeRemaining = 60;
      let currentStreak = 0;
      let bestStreak = 0;

      // DOM elements
      const setupScreen = document.getElementById("setupScreen");
      const gameScreen = document.getElementById("gameScreen");
      const resultsScreen = document.getElementById("resultsScreen");
      const difficultyButtons = document.querySelectorAll(".difficulty-btn");
      const startGameBtn = document.getElementById("startGameBtn");
      const timerCircle = document.getElementById("timerCircle");
      const targetWord = document.getElementById("targetWord");
      const forbiddenWords = document.getElementById("forbiddenWords");
      const cardDifficulty = document.getElementById("cardDifficulty");
      const correctScore = document.getElementById("correctScore");
      const skippedScore = document.getElementById("skippedScore");
      const cardsLeft = document.getElementById("cardsLeft");
      const correctBtn = document.getElementById("correctBtn");
      const skipBtn = document.getElementById("skipBtn");
      const endGameBtn = document.getElementById("endGameBtn");
      const newGameBtn = document.getElementById("newGameBtn");
      const cardContainer = document.getElementById("cardContainer");
      const streakBadge = document.getElementById("streakBadge");
      const streakCount = document.getElementById("streakCount");

      // Create confetti
      function createConfetti() {
        const colors = [
          "#667eea",
          "#f093fb",
          "#f5576c",
          "#4facfe",
          "#10b981",
          "#f59e0b",
        ];
        for (let i = 0; i < 50; i++) {
          setTimeout(() => {
            const confetti = document.createElement("div");
            confetti.className = "confetti";
            confetti.style.left = Math.random() * 100 + "vw";
            confetti.style.background =
              colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDuration = Math.random() * 2 + 2 + "s";
            confetti.style.borderRadius = Math.random() > 0.5 ? "50%" : "0";
            document.body.appendChild(confetti);
            setTimeout(() => confetti.remove(), 4000);
          }, i * 40);
        }
      }

      // Update streak display
      function updateStreak(correct) {
        if (correct) {
          currentStreak++;
          if (currentStreak > bestStreak) bestStreak = currentStreak;
          if (currentStreak >= 2) {
            streakBadge.classList.remove("hidden");
            streakCount.textContent = currentStreak;
          }
        } else {
          currentStreak = 0;
          streakBadge.classList.add("hidden");
        }
      }

      // Difficulty selection
      difficultyButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          difficultyButtons.forEach((b) => b.classList.remove("selected"));
          btn.classList.add("selected");
          selectedDifficulty = btn.dataset.difficulty;
          startGameBtn.disabled = false;
        });
      });

      // Start game
      startGameBtn.addEventListener("click", () => {
        currentCards = [...gameWords[selectedDifficulty]];
        shuffleArray(currentCards);
        currentCardIndex = 0;
        correctCount = 0;
        skippedCount = 0;

        setupScreen.classList.add("hidden");
        gameScreen.classList.add("active");

        cardDifficulty.textContent = selectedDifficulty.toUpperCase();
        updateScores();
        loadCard();
        startTimer();
      });

      // Load card
      function loadCard() {
        if (currentCardIndex >= currentCards.length) {
          endGame();
          return;
        }

        const card = currentCards[currentCardIndex];
        targetWord.textContent = card.target;

        forbiddenWords.innerHTML = "";
        card.forbidden.forEach((word) => {
          const wordDiv = document.createElement("div");
          wordDiv.className = "forbidden-word";
          wordDiv.innerHTML = `<span class="forbidden-word-text">${word}</span>`;
          forbiddenWords.appendChild(wordDiv);
        });

        updateScores();
      }

      // Timer
      function startTimer() {
        timeRemaining = 60;
        updateTimerDisplay();

        timerInterval = setInterval(() => {
          timeRemaining--;
          updateTimerDisplay();

          if (timeRemaining <= 0) {
            endGame();
          }
        }, 1000);
      }

      function updateTimerDisplay() {
        timerCircle.textContent = timeRemaining;

        timerCircle.classList.remove("warning", "danger");
        if (timeRemaining <= 10) {
          timerCircle.classList.add("danger");
        } else if (timeRemaining <= 20) {
          timerCircle.classList.add("warning");
        }
      }

      // Game actions
      correctBtn.addEventListener("click", () => {
        correctCount++;
        streak++;
        if (streak > maxStreak) maxStreak = streak;
        updateStreak();
        showConfetti();

        // Card flip animation
        const card = document.getElementById("currentCard");
        card.style.transform = "rotateY(90deg)";
        setTimeout(() => {
          currentCardIndex++;
          loadCard();
          card.style.transform = "rotateY(0deg)";
        }, 150);

        playSound("success");
      });

      skipBtn.addEventListener("click", () => {
        skippedCount++;
        streak = 0;
        updateStreak();

        // Shake animation for skip
        const card = document.getElementById("currentCard");
        card.style.animation = "shake 0.3s ease-in-out";
        setTimeout(() => {
          card.style.animation = "";
          currentCardIndex++;
          loadCard();
        }, 300);

        playSound("skip");
      });

      endGameBtn.addEventListener("click", () => {
        if (confirm("Are you sure you want to end the game?")) {
          endGame();
        }
      });

      newGameBtn.addEventListener("click", () => {
        resultsScreen.classList.remove("active");
        setupScreen.classList.remove("hidden");
        difficultyButtons.forEach((b) => b.classList.remove("selected"));
        startGameBtn.disabled = true;
        selectedDifficulty = null;
      });

      // Update scores
      function updateScores() {
        correctScore.textContent = correctCount;
        skippedScore.textContent = skippedCount;
        cardsLeft.textContent = currentCards.length - currentCardIndex;
      }

      // End game
      function endGame() {
        clearInterval(timerInterval);
        gameScreen.classList.remove("active");
        resultsScreen.classList.add("active");

        const total = correctCount + skippedCount;
        const accuracy =
          total > 0 ? Math.round((correctCount / total) * 100) : 0;

        document.getElementById("finalCorrect").textContent = correctCount;
        document.getElementById("finalSkipped").textContent = skippedCount;
        document.getElementById("finalAccuracy").textContent = accuracy + "%";

        // Add best streak and star rating
        const resultsGrid = document.querySelector(".results-grid");

        // Remove old extra stats if they exist
        const oldStreak = document.getElementById("streakStat");
        const oldRating = document.getElementById("ratingStat");
        if (oldStreak) oldStreak.remove();
        if (oldRating) oldRating.remove();

        // Add best streak stat
        const streakStat = document.createElement("div");
        streakStat.id = "streakStat";
        streakStat.className = "stat";
        streakStat.innerHTML = `<span class="stat-value" style="color: #ff6b6b;">üî• ${maxStreak}</span><span class="stat-label">Best Streak</span>`;
        resultsGrid.appendChild(streakStat);

        // Add star rating
        const ratingStat = document.createElement("div");
        ratingStat.id = "ratingStat";
        ratingStat.className = "stat";
        ratingStat.innerHTML = `<span class="stat-value">${getStarRating(
          accuracy,
        )}</span><span class="stat-label">Rating</span>`;
        resultsGrid.appendChild(ratingStat);

        // Show confetti for good performance
        if (correctCount >= 5) {
          for (let i = 0; i < 3; i++) {
            setTimeout(() => showConfetti(), i * 500);
          }
        }

        playSound("end");
      }

      // Get star rating based on accuracy
      function getStarRating(accuracy) {
        if (accuracy >= 90) return "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê";
        if (accuracy >= 75) return "‚≠ê‚≠ê‚≠ê‚≠ê";
        if (accuracy >= 60) return "‚≠ê‚≠ê‚≠ê";
        if (accuracy >= 40) return "‚≠ê‚≠ê";
        return "‚≠ê";
      }

      // Sound effects
      function playSound(type) {
        const context = new (
          window.AudioContext || window.webkitAudioContext
        )();
        const oscillator = context.createOscillator();
        const gainNode = context.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(context.destination);

        if (type === "success") {
          oscillator.frequency.value = 800;
          oscillator.type = "sine";
          gainNode.gain.setValueAtTime(0.3, context.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            context.currentTime + 0.2,
          );
          oscillator.start(context.currentTime);
          oscillator.stop(context.currentTime + 0.2);
        } else if (type === "skip") {
          oscillator.frequency.value = 400;
          oscillator.type = "sine";
          gainNode.gain.setValueAtTime(0.2, context.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            context.currentTime + 0.15,
          );
          oscillator.start(context.currentTime);
          oscillator.stop(context.currentTime + 0.15);
        } else if (type === "end") {
          oscillator.frequency.value = 600;
          oscillator.type = "sine";
          gainNode.gain.setValueAtTime(0.3, context.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            context.currentTime + 0.5,
          );
          oscillator.start(context.currentTime);
          oscillator.stop(context.currentTime + 0.5);
        }
      }

      // Utility
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      // Keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        if (!gameScreen.classList.contains("active")) return;

        if (e.key === "ArrowRight" || e.key === "s") {
          skipBtn.click();
        } else if (e.key === "ArrowUp" || e.key === "w" || e.key === " ") {
          e.preventDefault();
          correctBtn.click();
        }
      });
    </script>

    <!-- Single Bottom Ad -->
    <div
      class="ad-wrapper bottom-ad"
      style="
        margin: 2rem auto 1rem;
        max-width: 728px;
        background: rgba(0, 0, 0, 0.4);
        border-radius: 12px;
        padding: 1rem;
      "
    >
      <div
        style="
          text-align: center;
          font-size: 0.7rem;
          color: rgba(255, 255, 255, 0.5);
          margin-bottom: 0.5rem;
        "
      >
        Advertisement
      </div>
      <ins
        class="adsbygoogle"
        style="display: block"
        data-ad-format="horizontal"
        data-ad-client="ca-pub-2456627863532019"
        data-ad-slot="2184713192"
      ></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <!-- Footer -->
    <!-- Footer Ad -->
    <div style="max-width: 1200px; margin: 2rem auto; padding: 0 1rem;">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-2456627863532019"
           data-ad-slot="3089435711"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
           (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
    <footer class="game-footer" role="contentinfo">
      <nav aria-label="Footer navigation">
        <a href="../index.html">Home</a>
        <a href="games.html">Games</a>
        <a href="../lessons.html">Lessons</a>
        <a href="../contact.html">Contact</a>
      </nav>
      <p class="copyright">¬© 2024-2026 ESL Fun Online. All rights reserved.</p>
    </footer>

    <!-- Prevent double-tap zoom on iOS -->
    <script>
      document.addEventListener(
        "touchend",
        function (e) {
          const now = Date.now();
          if (now - (this.lastTouchEnd || 0) < 300) {
            e.preventDefault();
          }
          this.lastTouchEnd = now;
        },
        { passive: false },
      );
    </script>
  </body>
</html>
