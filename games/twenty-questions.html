<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      20 Questions ESL - Vocabulary & Question Practice Game | ESL Fun Online
    </title>
    <meta
      name="description"
      content="Play 20 Questions ESL - practice asking yes/no questions and improve conversation skills! Guess mystery objects with vocabulary from 6 different categories."
    />
    <meta
      name="keywords"
      content="20 questions game, ESL conversation practice, question formation, vocabulary game, English speaking practice, guessing game"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta
      property="og:title"
      content="20 Questions ESL - Vocabulary & Question Practice Game | ESL Fun Online"
    />
    <meta
      property="og:description"
      content="Play the classic guessing game with ESL vocabulary! Practice asking questions and improve your conversation skills."
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/image copy 11.png"
    />
    <meta
      property="og:url"
      content="https://eslfunonline.com/games/twenty-questions.html"
    />
    <meta property="og:type" content="game" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="20 Questions ESL - Vocabulary & Question Practice Game"
    />
    <meta
      name="twitter:description"
      content="Practice asking yes/no questions and improve conversation skills!"
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/image copy 11.png"
    />
    <link
      rel="canonical"
      href="https://eslfunonline.com/games/twenty-questions.html"
    />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Game",
        "name": "20 Questions ESL - Vocabulary & Question Practice Game",
        "description": "Play 20 Questions ESL - practice asking yes/no questions and improve conversation skills! Guess mystery objects with vocabulary from 6 different categories.",
        "url": "https://eslfunonline.com/games/twenty-questions.html",
        "image": "https://eslfunonline.com/images/image copy 11.png",
        "publisher": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "url": "https://eslfunonline.com"
        },
        "genre": ["Educational", "Vocabulary", "Question Formation"],
        "audience": {
          "@type": "EducationalAudience",
          "educationalRole": "student",
          "audienceType": "ESL Learners of All Levels"
        },
        "educationalLevel": "All Levels",
        "educationalUse": [
          "question formation",
          "vocabulary building",
          "conversation practice",
          "critical thinking"
        ],
        "interactivityType": "active",
        "learningResourceType": "game",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "accessibilityFeature": [
          "alternativeText",
          "fullKeyboardControl",
          "screenReaderSupport"
        ],
        "accessibilityControl": ["fullKeyboardControl", "fullMouseControl"],
        "accessibilityHazard": [
          "noFlashingHazard",
          "noMotionSimulationHazard",
          "noSoundHazard"
        ],
        "keywords": "20 questions, ESL game, question formation, vocabulary practice, conversation skills, guessing game"
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9G9RD6BHLN");
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --primary-color: #46bbe5;
        --primary-hover: #05425c;
        --secondary-color: #f59e0b;
        --accent-color: #10b981;
        --danger-color: #ef4444;
        --success-color: #10b981;
        --purple-color: #8b5cf6;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --bg-primary: #ffffff;
        --bg-secondary: #f9fafb;
        --bg-tertiary: #f3f4f6;
        --border-color: #e5e7eb;
        --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        --shadow-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1);
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: var(--text-primary);
        padding: 1rem;
      }

      .game-container {
        max-width: 1000px;
        margin: 0 auto;
        background: var(--bg-primary);
        border-radius: 20px;
        box-shadow: var(--shadow-lg);
        padding: 2rem;
      }

      .game-header {
        text-align: center;
        margin-bottom: 2rem;
      }

      .game-header h1 {
        font-family: "Poppins", sans-serif;
        font-size: 2.5rem;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .game-header p {
        color: var(--text-secondary);
        font-size: 1.1rem;
      }

      .game-modes {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
      }

      .mode-btn {
        padding: 0.75rem 1.5rem;
        border: 2px solid var(--border-color);
        background: var(--bg-secondary);
        color: var(--text-primary);
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 600;
      }

      .mode-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .mode-btn:hover {
        transform: translateY(-2px);
      }

      .question-counter {
        text-align: center;
        margin-bottom: 2rem;
      }

      .counter-display {
        font-size: 3rem;
        font-weight: bold;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
      }

      .counter-label {
        font-size: 1.2rem;
        color: var(--text-secondary);
      }

      .mystery-object {
        background: var(--bg-secondary);
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
        text-align: center;
      }

      .mystery-display {
        font-size: 4rem;
        margin-bottom: 1rem;
        color: var(--primary-color);
      }

      .mystery-category {
        background: var(--primary-color);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        display: inline-block;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .mystery-hints {
        color: var(--text-secondary);
        font-style: italic;
        line-height: 1.6;
      }

      .question-area {
        background: var(--bg-secondary);
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .question-input-section {
        margin-bottom: 2rem;
      }

      .question-input {
        width: 100%;
        padding: 1rem;
        border: 2px solid var(--border-color);
        border-radius: 10px;
        font-size: 1.1rem;
        font-family: "Inter", sans-serif;
        margin-bottom: 1rem;
      }

      .question-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(70, 187, 229, 0.1);
      }

      .question-suggestions {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        margin-bottom: 1rem;
      }

      .suggestion-chip {
        background: var(--bg-primary);
        color: var(--text-primary);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.9rem;
        border: 1px solid var(--border-color);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .suggestion-chip:hover {
        background: var(--primary-color);
        color: white;
      }

      .question-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      .question-history {
        max-height: 300px;
        overflow-y: auto;
        border: 2px solid var(--border-color);
        border-radius: 10px;
        padding: 1rem;
        background: var(--bg-primary);
      }

      .question-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem;
        margin-bottom: 0.5rem;
        border-radius: 8px;
        background: var(--bg-tertiary);
      }

      .question-item:last-child {
        margin-bottom: 0;
      }

      .question-text {
        flex: 1;
        font-weight: 500;
      }

      .answer-badge {
        padding: 0.25rem 0.75rem;
        border-radius: 15px;
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
      }

      .answer-yes {
        background: var(--success-color);
        color: white;
      }

      .answer-no {
        background: var(--danger-color);
        color: white;
      }

      .answer-maybe {
        background: var(--secondary-color);
        color: white;
      }

      .guess-section {
        background: var(--success-color);
        color: white;
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
        text-align: center;
        display: none;
      }

      .guess-section.show {
        display: block;
      }

      .guess-input {
        width: 100%;
        padding: 1rem;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        margin-bottom: 1rem;
        text-align: center;
      }

      .game-stats {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
      }

      .stat-card {
        background: var(--bg-secondary);
        padding: 1rem 1.5rem;
        border-radius: 15px;
        text-align: center;
        min-width: 120px;
      }

      .stat-value {
        font-size: 1.8rem;
        font-weight: bold;
        color: var(--primary-color);
      }

      .stat-label {
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      .btn {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 10px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .btn-primary {
        background: var(--primary-color);
        color: white;
      }

      .btn-primary:hover {
        background: var(--primary-hover);
        transform: translateY(-2px);
      }

      .btn-success {
        background: var(--success-color);
        color: white;
      }

      .btn-danger {
        background: var(--danger-color);
        color: white;
      }

      .btn-secondary {
        background: var(--bg-tertiary);
        color: var(--text-primary);
        border: 2px solid var(--border-color);
      }

      .btn-secondary:hover {
        background: var(--bg-secondary);
        border-color: var(--primary-color);
      }

      .btn-hint {
        background: var(--secondary-color);
        color: white;
      }

      .game-controls {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 2rem;
      }

      .game-message {
        margin: 1rem 0;
        padding: 1rem;
        border-radius: 10px;
        font-weight: 600;
        text-align: center;
        font-size: 1.1rem;
      }

      .message-success {
        background: rgba(16, 185, 129, 0.1);
        color: var(--success-color);
        border: 2px solid rgba(16, 185, 129, 0.3);
      }

      .message-danger {
        background: rgba(239, 68, 68, 0.1);
        color: var(--danger-color);
        border: 2px solid rgba(239, 68, 68, 0.3);
      }

      .message-info {
        background: rgba(70, 187, 229, 0.1);
        color: var(--primary-color);
        border: 2px solid rgba(70, 187, 229, 0.3);
      }

      .category-selector {
        display: flex;
        gap: 0.75rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 2rem;
      }

      .category-btn {
        padding: 0.5rem 1rem;
        border: 2px solid var(--border-color);
        background: var(--bg-secondary);
        color: var(--text-primary);
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 0.9rem;
      }

      .category-btn.active {
        background: var(--secondary-color);
        color: white;
        border-color: var(--secondary-color);
      }

      .reveal-section {
        background: var(--purple-color);
        color: white;
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
        text-align: center;
        display: none;
      }

      .reveal-section.show {
        display: block;
      }

      .reveal-object {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 1rem;
      }

      .reveal-description {
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 1.5rem;
      }

      @media (max-width: 768px) {
        .game-container {
          padding: 1rem;
          margin: 0.5rem;
        }

        .game-header h1 {
          font-size: 2rem;
        }

        .counter-display {
          font-size: 2.5rem;
        }

        .mystery-display {
          font-size: 2.5rem;
        }

        .game-stats {
          gap: 1rem;
        }

        .stat-card {
          min-width: 100px;
          padding: 0.75rem 1rem;
        }

        .question-buttons {
          flex-direction: column;
        }

        .question-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }
      }

      /* Accessibility */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      button:focus-visible,
      input:focus-visible,
      .mode-btn:focus-visible,
      .category-btn:focus-visible,
      .difficulty-btn:focus-visible {
        outline: 3px solid var(--primary-color);
        outline-offset: 2px;
      }

      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
      <link rel="stylesheet" href="../css/mobile-optimized.css" />

  <body>
    <!-- Google AdSense -->
    <div class="ad-container" style="margin: 1rem auto; max-width: 100%; text-align: center; padding: 0 1rem;">
      <ins class="adsbygoogle"
           style="display: block; text-align: center;"
           data-ad-client="ca-pub-2456627863532019"
           data-ad-slot="1718707782"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <div class="game-container">
      <div class="game-header" role="banner">
        <h1>
          <i class="fas fa-question-circle" aria-hidden="true"></i> 20 Questions
          ESL
        </h1>
        <p>Guess the mystery object by asking yes/no questions!</p>
      </div>

      <div class="game-modes" role="tablist" aria-label="Game mode selection">
        <button
          class="mode-btn active"
          data-mode="classic"
          role="tab"
          aria-selected="true"
          aria-controls="gameContent"
        >
          Classic Mode
        </button>
        <button
          class="mode-btn"
          data-mode="category"
          role="tab"
          aria-selected="false"
          aria-controls="gameContent"
        >
          Category Mode
        </button>
        <button
          class="mode-btn"
          data-mode="reverse"
          role="tab"
          aria-selected="false"
          aria-controls="gameContent"
        >
          Reverse Mode
        </button>
      </div>

      <div
        class="category-selector"
        id="categorySelector"
        role="radiogroup"
        aria-label="Category selection"
      >
        <button
          class="category-btn active"
          data-category="animals"
          role="radio"
          aria-checked="true"
        >
          Animals
        </button>
        <button
          class="category-btn"
          data-category="food"
          role="radio"
          aria-checked="false"
        >
          Food
        </button>
        <button
          class="category-btn"
          data-category="objects"
          role="radio"
          aria-checked="false"
        >
          Objects
        </button>
        <button
          class="category-btn"
          data-category="places"
          role="radio"
          aria-checked="false"
        >
          Places
        </button>
        <button
          class="category-btn"
          data-category="people"
          role="radio"
          aria-checked="false"
        >
          People
        </button>
        <button
          class="category-btn"
          data-category="nature"
          role="radio"
          aria-checked="false"
        >
          Nature
        </button>
      </div>

      <div class="question-counter" role="status" aria-live="polite">
        <div
          class="counter-display"
          id="questionCounter"
          aria-label="Questions remaining"
        >
          20
        </div>
        <div class="counter-label">Questions Remaining</div>
      </div>

      <div
        class="game-stats"
        role="status"
        aria-live="polite"
        aria-label="Game statistics"
      >
        <div class="stat-card">
          <div
            class="stat-value"
            id="gamesPlayed"
            aria-label="Total games played"
          >
            0
          </div>
          <div class="stat-label">Games Played</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="gamesWon" aria-label="Games won">0</div>
          <div class="stat-label">Games Won</div>
        </div>
        <div class="stat-card">
          <div
            class="stat-value"
            id="averageQuestions"
            aria-label="Average questions used"
          >
            0
          </div>
          <div class="stat-label">Avg Questions</div>
        </div>
        <div class="stat-card">
          <div
            class="stat-value"
            id="currentStreak"
            aria-label="Current win streak"
          >
            0
          </div>
          <div class="stat-label">Win Streak</div>
        </div>
      </div>

      <div
        class="mystery-object"
        role="region"
        aria-label="Mystery object display"
      >
        <div class="mystery-display" id="mysteryDisplay" aria-hidden="true">
          ❓
        </div>
        <div class="mystery-category" id="mysteryCategory">Mystery Object</div>
        <div
          class="mystery-hints"
          id="mysteryHints"
          role="status"
          aria-live="polite"
        >
          I'm thinking of something... Ask yes/no questions to figure out what
          it is!
        </div>
      </div>

      <div
        class="question-area"
        role="main"
        aria-label="Question and answer area"
        id="gameContent"
      >
        <div class="question-input-section">
          <input
            type="text"
            class="question-input"
            id="questionInput"
            placeholder="Type your yes/no question here..."
            maxlength="100"
            aria-label="Type your yes or no question"
          />

          <div
            class="question-suggestions"
            id="questionSuggestions"
            role="group"
            aria-label="Question suggestions"
          >
            <!-- Suggestions will be populated by JavaScript -->
          </div>

          <div
            class="question-buttons"
            role="group"
            aria-label="Game action buttons"
          >
            <button
              class="btn btn-primary"
              id="askQuestionBtn"
              aria-label="Ask your question"
            >
              <i class="fas fa-paper-plane" aria-hidden="true"></i> Ask Question
            </button>
            <button
              class="btn btn-hint"
              id="hintBtn"
              aria-label="Get a helpful hint"
            >
              <i class="fas fa-lightbulb" aria-hidden="true"></i> Get Hint
            </button>
            <button
              class="btn btn-success"
              id="makeGuessBtn"
              aria-label="Make your final guess"
            >
              <i class="fas fa-bullseye" aria-hidden="true"></i> Make Final
              Guess
            </button>
          </div>
        </div>

        <div
          class="question-history"
          id="questionHistory"
          role="log"
          aria-live="polite"
          aria-label="Question and answer history"
        >
          <p
            style="
              text-align: center;
              color: var(--text-secondary);
              font-style: italic;
            "
          >
            Your questions and answers will appear here...
          </p>
        </div>
      </div>

      <div
        class="guess-section"
        id="guessSection"
        role="dialog"
        aria-label="Final guess dialog"
      >
        <h3>
          <i class="fas fa-bullseye" aria-hidden="true"></i> Final Guess Time!
        </h3>
        <p>What do you think the mystery object is?</p>
        <input
          type="text"
          class="guess-input"
          id="guessInput"
          placeholder="Enter your guess..."
          aria-label="Enter your final guess"
        />
        <div style="display: flex; gap: 1rem; justify-content: center">
          <button
            class="btn btn-success"
            id="submitGuessBtn"
            aria-label="Submit your final guess"
          >
            <i class="fas fa-check" aria-hidden="true"></i> Submit Guess
          </button>
          <button
            class="btn btn-secondary"
            id="cancelGuessBtn"
            aria-label="Cancel and continue asking questions"
          >
            <i class="fas fa-times" aria-hidden="true"></i> Keep Asking
          </button>
        </div>
      </div>

      <div
        class="reveal-section"
        id="revealSection"
        role="region"
        aria-label="Game result"
      >
        <div class="reveal-object" id="revealObject" aria-live="polite"></div>
        <div
          class="reveal-description"
          id="revealDescription"
          aria-live="polite"
        ></div>
        <button
          class="btn btn-primary"
          id="playAgainBtn"
          aria-label="Start a new game"
        >
          <i class="fas fa-play" aria-hidden="true"></i> Play Again
        </button>
      </div>

      <div
        class="game-message"
        id="gameMessage"
        style="display: none"
        role="alert"
        aria-live="assertive"
      ></div>

      <div
        class="game-controls"
        role="navigation"
        aria-label="Navigation buttons"
      >
        <button
          class="btn btn-secondary"
          id="newGameBtn"
          aria-label="Start a new game"
        >
          <i class="fas fa-refresh" aria-hidden="true"></i> New Game
        </button>
        <button
          class="btn btn-secondary"
          onclick="window.location.href='games.html'"
          aria-label="Return to games menu"
        >
          <i class="fas fa-arrow-left" aria-hidden="true"></i> Back to Games
        </button>
      </div>
    </div>

    <script>
      class TwentyQuestionsGame {
        constructor() {
          this.currentMode = "classic";
          this.currentCategory = "animals";
          this.questionsRemaining = 20;
          this.questionHistory = [];
          this.currentObject = null;
          this.bestStreak = parseInt(
            localStorage.getItem("tq_bestStreak") || "0"
          );

          this.gameStats = {
            gamesPlayed: parseInt(
              localStorage.getItem("tq_gamesPlayed") || "0"
            ),
            gamesWon: parseInt(localStorage.getItem("tq_gamesWon") || "0"),
            totalQuestions: parseInt(
              localStorage.getItem("tq_totalQuestions") || "0"
            ),
            currentStreak: 0,
            bestStreak: parseInt(localStorage.getItem("tq_bestStreak") || "0"),
          };

          // Audio context for sound effects
          this.audioContext = null;
          this.soundEnabled = true;

          this.initAudio();

          this.objects = {
            animals: [
              {
                name: "elephant",
                emoji: "🐘",
                hints: [
                  "I am very large",
                  "I have a long trunk",
                  "I live in Africa or Asia",
                ],
                description:
                  "A large mammal with a trunk, known for its intelligence and memory.",
              },
              {
                name: "penguin",
                emoji: "🐧",
                hints: [
                  "I am black and white",
                  "I cannot fly but I swim",
                  "I live in cold places",
                ],
                description:
                  "A flightless bird that lives in the Antarctic and swims expertly.",
              },
              {
                name: "butterfly",
                emoji: "🦋",
                hints: [
                  "I am colorful",
                  "I can fly",
                  "I start as a caterpillar",
                ],
                description:
                  "A beautiful flying insect that transforms from a caterpillar through metamorphosis.",
              },
              {
                name: "lion",
                emoji: "🦁",
                hints: [
                  "I am the king of the jungle",
                  "I have a mane",
                  "I roar loudly",
                ],
                description:
                  "A large predatory cat known as the king of beasts, living in African savannas.",
              },
              {
                name: "dolphin",
                emoji: "🐬",
                hints: [
                  "I live in the ocean",
                  "I am very smart",
                  "I make clicking sounds",
                ],
                description:
                  "An intelligent marine mammal known for its playful nature and echolocation abilities.",
              },
            ],
            food: [
              {
                name: "pizza",
                emoji: "🍕",
                hints: [
                  "I am round and flat",
                  "I have cheese on top",
                  "I come in slices",
                ],
                description:
                  "A popular Italian dish with a bread base, tomato sauce, cheese, and various toppings.",
              },
              {
                name: "banana",
                emoji: "🍌",
                hints: [
                  "I am yellow",
                  "Monkeys love to eat me",
                  "I grow on trees",
                ],
                description:
                  "A long yellow fruit that grows in bunches and is rich in potassium.",
              },
              {
                name: "ice cream",
                emoji: "🍦",
                hints: [
                  "I am cold and sweet",
                  "I melt in hot weather",
                  "I come in many flavors",
                ],
                description:
                  "A frozen dessert made from dairy products, sugar, and various flavorings.",
              },
              {
                name: "spaghetti",
                emoji: "🍝",
                hints: [
                  "I am long and thin",
                  "I am made from wheat",
                  "I go well with tomato sauce",
                ],
                description:
                  "Long, thin pasta that originated in Italy, typically served with various sauces.",
              },
              {
                name: "apple",
                emoji: "🍎",
                hints: [
                  "I can be red or green",
                  "I grow on trees",
                  "I keep the doctor away",
                ],
                description:
                  "A round fruit that grows on trees, available in many varieties and colors.",
              },
            ],
            objects: [
              {
                name: "bicycle",
                emoji: "🚲",
                hints: [
                  "I have two wheels",
                  "People ride on me",
                  "I help you exercise",
                ],
                description:
                  "A two-wheeled vehicle powered by pedaling, used for transportation and exercise.",
              },
              {
                name: "book",
                emoji: "📚",
                hints: [
                  "I have pages",
                  "People read me",
                  "I contain stories or information",
                ],
                description:
                  "A collection of written or printed pages bound together, containing stories or information.",
              },
              {
                name: "camera",
                emoji: "📷",
                hints: [
                  "I capture moments",
                  "I take pictures",
                  "I have a lens",
                ],
                description:
                  "A device used to capture photographs and preserve memories.",
              },
              {
                name: "clock",
                emoji: "🕐",
                hints: [
                  "I tell time",
                  "I have hands or numbers",
                  "I help people be on time",
                ],
                description:
                  "A device that displays the current time, helping people manage their schedules.",
              },
              {
                name: "umbrella",
                emoji: "☂️",
                hints: [
                  "I protect you from rain",
                  "I can be opened and closed",
                  "I have a handle",
                ],
                description:
                  "A collapsible canopy used to protect against rain or sun.",
              },
            ],
            places: [
              {
                name: "library",
                emoji: "📚",
                hints: [
                  "I am full of books",
                  "People come to read quietly",
                  "I lend books to people",
                ],
                description:
                  "A place where books and other materials are collected for people to read and borrow.",
              },
              {
                name: "beach",
                emoji: "🏖️",
                hints: [
                  "I have sand",
                  "I am next to the ocean",
                  "People swim and sunbathe here",
                ],
                description:
                  "A sandy or rocky shore beside an ocean, lake, or river where people relax and swim.",
              },
              {
                name: "hospital",
                emoji: "🏥",
                hints: [
                  "Doctors and nurses work here",
                  "Sick people come here",
                  "I help people get better",
                ],
                description:
                  "A medical facility where people receive treatment for illnesses and injuries.",
              },
              {
                name: "school",
                emoji: "🏫",
                hints: [
                  "Children learn here",
                  "Teachers work here",
                  "I have classrooms",
                ],
                description:
                  "An educational institution where students learn various subjects from teachers.",
              },
              {
                name: "restaurant",
                emoji: "🍽️",
                hints: [
                  "People eat here",
                  "Chefs cook food here",
                  "You pay for meals here",
                ],
                description:
                  "A business establishment where people pay to sit and eat meals prepared by professional cooks.",
              },
            ],
            people: [
              {
                name: "teacher",
                emoji: "👩‍🏫",
                hints: [
                  "I help students learn",
                  "I work in a school",
                  "I give homework",
                ],
                description:
                  "A person who instructs students and helps them learn new knowledge and skills.",
              },
              {
                name: "doctor",
                emoji: "👨‍⚕️",
                hints: [
                  "I help sick people",
                  "I work in a hospital",
                  "I wear a white coat",
                ],
                description:
                  "A medical professional who diagnoses and treats illnesses and injuries.",
              },
              {
                name: "firefighter",
                emoji: "👨‍🚒",
                hints: [
                  "I put out fires",
                  "I rescue people",
                  "I wear a special uniform",
                ],
                description:
                  "A brave person who fights fires and rescues people from dangerous situations.",
              },
              {
                name: "chef",
                emoji: "👨‍🍳",
                hints: [
                  "I cook food",
                  "I work in a kitchen",
                  "I wear a tall white hat",
                ],
                description:
                  "A professional cook who prepares meals in restaurants or other establishments.",
              },
              {
                name: "pilot",
                emoji: "👨‍✈️",
                hints: [
                  "I fly airplanes",
                  "I travel to many countries",
                  "I wear a uniform with wings",
                ],
                description:
                  "A person who operates aircraft and flies passengers or cargo to different destinations.",
              },
            ],
            nature: [
              {
                name: "mountain",
                emoji: "🏔️",
                hints: [
                  "I am very tall",
                  "I have snow on my peak",
                  "People climb me",
                ],
                description:
                  "A large natural elevation of the earth's surface, often with snow-covered peaks.",
              },
              {
                name: "ocean",
                emoji: "🌊",
                hints: [
                  "I am very big and blue",
                  "Fish live in me",
                  "I have waves",
                ],
                description:
                  "A vast body of salt water that covers most of the Earth's surface.",
              },
              {
                name: "forest",
                emoji: "🌲",
                hints: [
                  "I have many trees",
                  "Animals live in me",
                  "I provide oxygen",
                ],
                description:
                  "A large area covered with trees and undergrowth, home to many animals and plants.",
              },
              {
                name: "rainbow",
                emoji: "🌈",
                hints: [
                  "I appear after rain",
                  "I have many colors",
                  "I form an arc in the sky",
                ],
                description:
                  "A multicolored arc that appears in the sky when sunlight and rain occur together.",
              },
              {
                name: "volcano",
                emoji: "🌋",
                hints: [
                  "I can erupt",
                  "I have hot lava inside",
                  "I am a type of mountain",
                ],
                description:
                  "A mountain with an opening where lava, gas, and ash can erupt from the Earth's interior.",
              },
            ],
          };

          this.questionSuggestions = [
            "Is it alive?",
            "Is it bigger than a car?",
            "Can you eat it?",
            "Is it found indoors?",
            "Does it have legs?",
            "Is it made by humans?",
            "Can it move by itself?",
            "Is it colorful?",
            "Do people use it every day?",
            "Is it soft?",
            "Does it make noise?",
            "Can you hold it in your hand?",
          ];

          this.loadStats();
          this.init();
        }

        // Initialize audio context
        initAudio() {
          if (!this.audioContext) {
            this.audioContext = new (window.AudioContext ||
              window.webkitAudioContext)();
          }
        }

        // Play sound effect
        playSound(type) {
          if (!this.soundEnabled || !this.audioContext) return;

          const oscillator = this.audioContext.createOscillator();
          const gainNode = this.audioContext.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(this.audioContext.destination);

          switch (type) {
            case "correct":
              oscillator.frequency.setValueAtTime(
                523.25,
                this.audioContext.currentTime
              );
              oscillator.frequency.setValueAtTime(
                659.25,
                this.audioContext.currentTime + 0.1
              );
              gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(
                0.01,
                this.audioContext.currentTime + 0.2
              );
              oscillator.start(this.audioContext.currentTime);
              oscillator.stop(this.audioContext.currentTime + 0.2);
              break;
            case "wrong":
              oscillator.frequency.setValueAtTime(
                200,
                this.audioContext.currentTime
              );
              gainNode.gain.setValueAtTime(0.2, this.audioContext.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(
                0.01,
                this.audioContext.currentTime + 0.2
              );
              oscillator.start(this.audioContext.currentTime);
              oscillator.stop(this.audioContext.currentTime + 0.2);
              break;
            case "win":
              oscillator.frequency.setValueAtTime(
                523.25,
                this.audioContext.currentTime
              );
              oscillator.frequency.setValueAtTime(
                659.25,
                this.audioContext.currentTime + 0.15
              );
              oscillator.frequency.setValueAtTime(
                783.99,
                this.audioContext.currentTime + 0.3
              );
              oscillator.frequency.setValueAtTime(
                1046.5,
                this.audioContext.currentTime + 0.45
              );
              gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(
                0.01,
                this.audioContext.currentTime + 0.6
              );
              oscillator.start(this.audioContext.currentTime);
              oscillator.stop(this.audioContext.currentTime + 0.6);
              break;
            case "hint":
              oscillator.frequency.setValueAtTime(
                440,
                this.audioContext.currentTime
              );
              gainNode.gain.setValueAtTime(0.2, this.audioContext.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(
                0.01,
                this.audioContext.currentTime + 0.15
              );
              oscillator.start(this.audioContext.currentTime);
              oscillator.stop(this.audioContext.currentTime + 0.15);
              break;
          }
        }

        // Screen reader announcements
        announceToScreenReader(message) {
          const announcement = document.createElement("div");
          announcement.className = "sr-only";
          announcement.setAttribute("role", "status");
          announcement.setAttribute("aria-live", "polite");
          announcement.textContent = message;
          document.body.appendChild(announcement);
          setTimeout(() => announcement.remove(), 1000);
        }

        // Save stats to localStorage
        saveStats() {
          localStorage.setItem(
            "tq_gamesPlayed",
            this.gameStats.gamesPlayed.toString()
          );
          localStorage.setItem(
            "tq_gamesWon",
            this.gameStats.gamesWon.toString()
          );
          localStorage.setItem(
            "tq_totalQuestions",
            this.gameStats.totalQuestions.toString()
          );
          localStorage.setItem(
            "tq_bestStreak",
            this.gameStats.bestStreak.toString()
          );
        }

        init() {
          this.setupEventListeners();
          this.startNewGame();
          this.updateStats();
          this.updateSuggestions();
        }

        setupEventListeners() {
          // Mode selection
          document.querySelectorAll(".mode-btn").forEach((btn) => {
            btn.onclick = () => {
              document.querySelectorAll(".mode-btn").forEach((b) => {
                b.classList.remove("active");
                b.setAttribute("aria-selected", "false");
              });
              btn.classList.add("active");
              btn.setAttribute("aria-selected", "true");
              this.currentMode = btn.dataset.mode;
              this.startNewGame();
              this.announceToScreenReader(`Mode changed to ${btn.textContent}`);
            };
          });

          // Category selection
          document.querySelectorAll(".category-btn").forEach((btn) => {
            btn.onclick = () => {
              document.querySelectorAll(".category-btn").forEach((b) => {
                b.classList.remove("active");
                b.setAttribute("aria-checked", "false");
              });
              btn.classList.add("active");
              btn.setAttribute("aria-checked", "true");
              this.currentCategory = btn.dataset.category;
              this.startNewGame();
              this.announceToScreenReader(
                `Category changed to ${btn.textContent}`
              );
            };
          });

          // Game controls
          document.getElementById("askQuestionBtn").onclick = () =>
            this.askQuestion();
          document.getElementById("hintBtn").onclick = () => this.showHint();
          document.getElementById("makeGuessBtn").onclick = () =>
            this.showGuessSection();
          document.getElementById("submitGuessBtn").onclick = () =>
            this.submitGuess();
          document.getElementById("cancelGuessBtn").onclick = () =>
            this.hideGuessSection();
          document.getElementById("newGameBtn").onclick = () =>
            this.startNewGame();
          document.getElementById("playAgainBtn").onclick = () =>
            this.startNewGame();

          // Input handling
          const questionInput = document.getElementById("questionInput");
          questionInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
              e.preventDefault();
              this.askQuestion();
            }
          });

          // Keyboard shortcuts
          document.addEventListener("keydown", (e) => {
            // Ctrl+H for hint
            if (e.ctrlKey && e.key === "h") {
              e.preventDefault();
              this.showHint();
            }
            // Ctrl+G for guess
            if (e.ctrlKey && e.key === "g") {
              e.preventDefault();
              this.showGuessSection();
            }
            // Escape to cancel guess
            if (
              e.key === "Escape" &&
              document.getElementById("guessSection").classList.contains("show")
            ) {
              this.hideGuessSection();
            }
          });

          const guessInput = document.getElementById("guessInput");
          guessInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
              this.submitGuess();
            }
          });

          // Suggestion clicks
          document
            .getElementById("questionSuggestions")
            .addEventListener("click", (e) => {
              if (e.target.classList.contains("suggestion-chip")) {
                document.getElementById("questionInput").value =
                  e.target.textContent;
              }
            });
        }

        startNewGame() {
          this.questionsRemaining = 20;
          this.questionHistory = [];
          this.selectRandomObject();
          this.updateDisplay();
          this.hideGuessSection();
          this.hideRevealSection();
          this.updateSuggestions();
          this.showMessage(
            "🎮 New game started! Ask your first question.",
            "info"
          );
          this.announceToScreenReader(
            `New game started in ${this.currentCategory} category. You have 20 questions to guess the mystery object.`
          );
        }

        selectRandomObject() {
          const categoryObjects = this.objects[this.currentCategory];
          const randomIndex = Math.floor(
            Math.random() * categoryObjects.length
          );
          this.currentObject = categoryObjects[randomIndex];

          document.getElementById("mysteryDisplay").textContent = "❓";
          document.getElementById("mysteryCategory").textContent =
            this.currentCategory.charAt(0).toUpperCase() +
            this.currentCategory.slice(1);
          document.getElementById("mysteryHints").textContent =
            "I'm thinking of something... Ask yes/no questions to figure out what it is!";
        }

        askQuestion() {
          const questionInput = document.getElementById("questionInput");
          const question = questionInput.value.trim();

          if (!question) {
            this.showMessage("Please type a question first!", "info");
            return;
          }

          if (this.questionsRemaining <= 0) {
            this.showMessage(
              "No questions remaining! Make your final guess.",
              "info"
            );
            return;
          }

          if (!this.isValidQuestion(question)) {
            this.showMessage("Please ask a yes/no question!", "info");
            return;
          }

          const answer = this.generateAnswer(question);
          this.addQuestionToHistory(question, answer);
          this.questionsRemaining--;
          this.updateDisplay();
          questionInput.value = "";
          this.updateSuggestions();

          this.playSound("correct");
          this.announceToScreenReader(
            `Question asked. Answer: ${answer}. ${this.questionsRemaining} questions remaining.`
          );

          if (this.questionsRemaining === 0) {
            setTimeout(() => {
              this.showMessage(
                "💡 No more questions! Time to make your final guess!",
                "info"
              );
              this.showGuessSection();
              this.announceToScreenReader(
                "No questions remaining. Time to make your final guess."
              );
            }, 1000);
          }
        }

        isValidQuestion(question) {
          // Simple validation for yes/no questions
          const questionWords = [
            "is",
            "are",
            "does",
            "do",
            "can",
            "will",
            "would",
            "could",
            "should",
            "has",
            "have",
          ];
          const lowerQuestion = question.toLowerCase();
          return (
            questionWords.some((word) => lowerQuestion.startsWith(word)) ||
            lowerQuestion.includes("?")
          );
        }

        generateAnswer(question) {
          const lowerQuestion = question.toLowerCase();
          const objectName = this.currentObject.name.toLowerCase();
          const objectData = this.currentObject;

          // Define characteristics for each object type
          const characteristics = {
            // Size
            big: [
              "elephant",
              "mountain",
              "ocean",
              "forest",
              "volcano",
              "hospital",
              "school",
            ].includes(objectName),
            large: [
              "elephant",
              "mountain",
              "ocean",
              "forest",
              "volcano",
              "hospital",
              "school",
            ].includes(objectName),
            small: [
              "butterfly",
              "apple",
              "camera",
              "book",
              "umbrella",
            ].includes(objectName),

            // Living
            alive: [
              "elephant",
              "penguin",
              "butterfly",
              "lion",
              "dolphin",
            ].includes(objectName),
            living: [
              "elephant",
              "penguin",
              "butterfly",
              "lion",
              "dolphin",
            ].includes(objectName),

            // Edible
            eat: [
              "pizza",
              "banana",
              "ice cream",
              "spaghetti",
              "apple",
            ].includes(objectName),
            food: [
              "pizza",
              "banana",
              "ice cream",
              "spaghetti",
              "apple",
            ].includes(objectName),

            // Movement
            move: [
              "elephant",
              "penguin",
              "butterfly",
              "lion",
              "dolphin",
              "bicycle",
              "teacher",
              "doctor",
              "firefighter",
              "chef",
              "pilot",
            ].includes(objectName),
            fly: ["butterfly", "pilot"].includes(objectName),
            swim: ["penguin", "dolphin"].includes(objectName),

            // Location
            indoor: [
              "book",
              "camera",
              "clock",
              "ice cream",
              "library",
              "hospital",
              "school",
              "restaurant",
            ].includes(objectName),
            outdoor: [
              "bicycle",
              "umbrella",
              "beach",
              "mountain",
              "ocean",
              "forest",
              "rainbow",
              "volcano",
            ].includes(objectName),

            // Material
            metal: ["bicycle", "camera", "clock"].includes(objectName),
            soft: ["banana", "ice cream", "umbrella", "book"].includes(
              objectName
            ),
            hard: ["apple", "bicycle", "camera", "clock", "mountain"].includes(
              objectName
            ),

            // Color
            colorful: [
              "butterfly",
              "pizza",
              "ice cream",
              "rainbow",
              "book",
            ].includes(objectName),
            white: ["penguin", "ice cream", "doctor", "chef"].includes(
              objectName
            ),
            yellow: ["banana"].includes(objectName),
            red: ["apple", "pizza"].includes(objectName),
            green: ["apple", "forest"].includes(objectName),
            blue: ["ocean", "penguin"].includes(objectName),

            // Function
            useful: [
              "bicycle",
              "book",
              "camera",
              "clock",
              "umbrella",
              "library",
              "hospital",
              "school",
            ].includes(objectName),
            work: [
              "teacher",
              "doctor",
              "firefighter",
              "chef",
              "pilot",
            ].includes(objectName),
            help: [
              "teacher",
              "doctor",
              "firefighter",
              "umbrella",
              "hospital",
              "library",
            ].includes(objectName),

            // Sounds
            noise: ["lion", "dolphin", "clock", "bicycle"].includes(objectName),
            sound: ["lion", "dolphin", "clock", "bicycle"].includes(objectName),

            // Human-made
            made: [
              "pizza",
              "ice cream",
              "spaghetti",
              "bicycle",
              "book",
              "camera",
              "clock",
              "umbrella",
              "library",
              "hospital",
              "school",
              "restaurant",
            ].includes(objectName),
          };

          // Check for matches
          for (const [key, isTrue] of Object.entries(characteristics)) {
            if (lowerQuestion.includes(key)) {
              return isTrue ? "yes" : "no";
            }
          }

          // Specific object checks
          if (lowerQuestion.includes("water")) {
            return ["dolphin", "penguin", "ocean", "beach"].includes(objectName)
              ? "yes"
              : "no";
          }

          if (lowerQuestion.includes("animal")) {
            return this.currentCategory === "animals" ? "yes" : "no";
          }

          if (
            lowerQuestion.includes("person") ||
            lowerQuestion.includes("human")
          ) {
            return this.currentCategory === "people" ? "yes" : "no";
          }

          if (lowerQuestion.includes("place")) {
            return this.currentCategory === "places" ? "yes" : "no";
          }

          // Default to maybe for ambiguous questions
          return "maybe";
        }

        addQuestionToHistory(question, answer) {
          this.questionHistory.push({ question, answer });
          this.updateQuestionHistory();
        }

        updateQuestionHistory() {
          const historyContainer = document.getElementById("questionHistory");

          if (this.questionHistory.length === 0) {
            historyContainer.innerHTML = `
                        <p style="text-align: center; color: var(--text-secondary); font-style: italic;">
                            Your questions and answers will appear here...
                        </p>
                    `;
            return;
          }

          historyContainer.innerHTML = this.questionHistory
            .map(
              (item, index) => `
                    <div class="question-item">
                        <div class="question-text">
                            <strong>Q${index + 1}:</strong> ${item.question}
                        </div>
                        <div class="answer-badge answer-${item.answer}">${
                item.answer
              }</div>
                    </div>
                `
            )
            .join("");

          historyContainer.scrollTop = historyContainer.scrollHeight;
        }

        showHint() {
          if (this.currentObject && this.currentObject.hints) {
            const hints = this.currentObject.hints;
            const questionsAsked = 20 - this.questionsRemaining;
            const hintIndex = Math.min(questionsAsked, hints.length - 1);
            const hint = hints[hintIndex];

            this.showMessage(`💡 Hint: ${hint}`, "info");

            // Update mystery hints display
            document.getElementById("mysteryHints").textContent = hint;

            this.playSound("hint");
            this.announceToScreenReader(`Hint: ${hint}`);
          }
        }

        showGuessSection() {
          document.getElementById("guessSection").classList.add("show");
          document.getElementById("guessInput").focus();
          this.announceToScreenReader("Enter your final guess");
        }

        hideGuessSection() {
          document.getElementById("guessSection").classList.remove("show");
          this.announceToScreenReader(
            "Guess cancelled. Continue asking questions."
          );
        }

        submitGuess() {
          const guessInput = document.getElementById("guessInput");
          const guess = guessInput.value.trim().toLowerCase();

          if (!guess) {
            this.showMessage("Please enter your guess!", "info");
            return;
          }

          const correct = guess === this.currentObject.name.toLowerCase();
          this.endGame(correct, guess);
        }

        endGame(won, guess = null) {
          this.gameStats.gamesPlayed++;
          this.gameStats.totalQuestions += 20 - this.questionsRemaining;

          if (won) {
            this.gameStats.gamesWon++;
            this.gameStats.currentStreak++;

            if (this.gameStats.currentStreak > this.gameStats.bestStreak) {
              this.gameStats.bestStreak = this.gameStats.currentStreak;
              this.bestStreak = this.gameStats.bestStreak;
            }

            this.playSound("win");
            this.announceToScreenReader(
              `Congratulations! You guessed correctly! The answer was ${this.currentObject.name}. Current streak: ${this.gameStats.currentStreak}`
            );
            this.showMessage(
              "🎉 Congratulations! You guessed correctly!",
              "success"
            );
          } else {
            this.gameStats.currentStreak = 0;
            this.playSound("wrong");
            this.announceToScreenReader(
              `Incorrect. The answer was ${this.currentObject.name}. Streak reset.`
            );
            this.showMessage(
              `❌ ${guess ? "Wrong guess!" : "Game over!"} The answer was ${
                this.currentObject.name
              }.`,
              "danger"
            );
          }

          this.saveStats();
          this.updateStats();
          this.showRevealSection(won);
          this.hideGuessSection();
        }

        showRevealSection(won) {
          const revealSection = document.getElementById("revealSection");
          const revealObject = document.getElementById("revealObject");
          const revealDescription =
            document.getElementById("revealDescription");

          revealObject.textContent = `${
            this.currentObject.emoji
          } ${this.currentObject.name.toUpperCase()}`;
          revealDescription.textContent = this.currentObject.description;

          revealSection.style.background = won
            ? "var(--success-color)"
            : "var(--danger-color)";
          revealSection.classList.add("show");
        }

        hideRevealSection() {
          document.getElementById("revealSection").classList.remove("show");
        }

        updateDisplay() {
          document.getElementById("questionCounter").textContent =
            this.questionsRemaining;

          // Update counter color based on remaining questions
          const counter = document.getElementById("questionCounter");
          if (this.questionsRemaining <= 5) {
            counter.style.color = "var(--danger-color)";
          } else if (this.questionsRemaining <= 10) {
            counter.style.color = "var(--secondary-color)";
          } else {
            counter.style.color = "var(--primary-color)";
          }
        }

        updateSuggestions() {
          const container = document.getElementById("questionSuggestions");
          container.innerHTML = "";

          // Filter suggestions based on questions already asked
          const askedQuestions = this.questionHistory.map((item) =>
            item.question.toLowerCase()
          );
          const availableSuggestions = this.questionSuggestions.filter(
            (suggestion) =>
              !askedQuestions.some((asked) =>
                asked.includes(suggestion.toLowerCase().replace("?", ""))
              )
          );

          // Show 4 random suggestions
          const shuffled = availableSuggestions.sort(() => 0.5 - Math.random());
          shuffled.slice(0, 4).forEach((suggestion) => {
            const chip = document.createElement("span");
            chip.className = "suggestion-chip";
            chip.textContent = suggestion;
            container.appendChild(chip);
          });
        }

        updateStats() {
          document.getElementById("gamesPlayed").textContent =
            this.gameStats.gamesPlayed;
          document.getElementById("gamesWon").textContent =
            this.gameStats.gamesWon;
          document.getElementById("currentStreak").textContent =
            this.gameStats.currentStreak;

          const avgQuestions =
            this.gameStats.gamesPlayed > 0
              ? Math.round(
                  this.gameStats.totalQuestions / this.gameStats.gamesPlayed
                )
              : 0;
          document.getElementById("averageQuestions").textContent =
            avgQuestions;
        }

        saveStats() {
          localStorage.setItem(
            "twentyQuestionsStats",
            JSON.stringify(this.gameStats)
          );
        }

        loadStats() {
          const saved = localStorage.getItem("twentyQuestionsStats");
          if (saved) {
            this.gameStats = { ...this.gameStats, ...JSON.parse(saved) };
          }
        }

        showMessage(text, type) {
          const message = document.getElementById("gameMessage");
          message.textContent = text;
          message.className = `game-message message-${type}`;
          message.style.display = "block";

          setTimeout(() => {
            message.style.display = "none";
          }, 4000);
        }
      }

      // Initialize game when page loads
      document.addEventListener("DOMContentLoaded", () => {
        new TwentyQuestionsGame();
      });
    </script>
  
    <!-- Google AdSense -->
    <div class="ad-container" style="margin: 1rem auto; max-width: 100%; text-align: center; padding: 0 1rem;">
      <ins class="adsbygoogle"
           style="display: block; text-align: center;"
           data-ad-client="ca-pub-2456627863532019"
           data-ad-slot="1718707782"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

  </body>
</html>
