<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9G9RD6BHLN");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Grammar Slingshot Challenge - ESL Action Game | ESL Fun Online
    </title>
    <meta
      name="description"
      content="Launch grammar knowledge with our Slingshot Challenge! Aim and shoot to answer English grammar questions. Fun action-packed learning for ESL students."
    />
    <meta
      name="keywords"
      content="grammar slingshot game, ESL action game, grammar challenge, interactive grammar game, English learning game, shooting game"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />

    <!-- Open Graph Tags -->
    <meta
      property="og:title"
      content="Grammar Slingshot Challenge - ESL Action Game"
    />
    <meta
      property="og:description"
      content="Launch grammar knowledge with our Slingshot Challenge! Aim and shoot to answer English grammar questions."
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/image copy 7.png"
    />
    <meta
      property="og:url"
      content="https://eslfunonline.com/games/slingshot.html"
    />
    <meta property="og:type" content="game" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Grammar Slingshot Challenge" />
    <meta
      name="twitter:description"
      content="Aim and shoot to answer grammar questions in this action-packed ESL game!"
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/image copy 7.png"
    />

    <!-- Canonical URL -->
    <link
      rel="canonical"
      href="https://eslfunonline.com/games/slingshot.html"
    />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Game",
        "name": "Grammar Slingshot Challenge",
        "description": "Launch grammar knowledge with our Slingshot Challenge! Aim and shoot to answer English grammar questions in this fun action-packed learning game.",
        "url": "https://eslfunonline.com/games/slingshot.html",
        "image": "https://eslfunonline.com/images/image copy 7.png",
        "publisher": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "url": "https://eslfunonline.com"
        },
        "genre": ["Educational", "Action", "Grammar"],
        "audience": {
          "@type": "EducationalAudience",
          "educationalRole": "student",
          "audienceType": "ESL Learners"
        },
        "educationalLevel": "Beginner to Intermediate",
        "educationalUse": ["grammar practice", "parts of speech", "sentence structure"],
        "interactivityType": "active",
        "learningResourceType": "game",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "accessibilityFeature": [
          "alternativeText",
          "keyboardNavigation",
          "ariaLabels",
          "highContrast"
        ],
        "keywords": "grammar game, ESL slingshot, action learning, parts of speech"
      }
    </script>
    <style>
      :root {
        --primary-color: #4f46e5;
        --primary-hover: #3730a3;
        --secondary-color: #f59e0b;
        --accent-color: #10b981;
        --danger-color: #ef4444;
        --success-color: #22c55e;
        --purple-color: #8b5cf6;
        --pink-color: #ec4899;
        --cyan-color: #06b6d4;
        --orange-color: #f97316;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --bg-primary: #ffffff;
        --bg-secondary: #f8fafc;
        --bg-tertiary: #f1f5f9;
        --border-color: #e2e8f0;
        --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --gradient-secondary: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
        --gradient-success: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        --gradient-danger: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        --gradient-sky: linear-gradient(180deg, #87ceeb 0%, #98fb98 50%, #90ee90 100%);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", "Segoe UI", sans-serif;
        background: var(--gradient-sky);
        min-height: 100vh;
        overflow-x: hidden;
        position: relative;
      }

      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
                    radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.2) 0%, transparent 50%);
        pointer-events: none;
        z-index: 1;
      }

      .game-container {
        width: 100%;
        height: 100vh;
        position: relative;
        overflow: hidden;
        z-index: 2;
      }

      .ui-panel {
        position: absolute;
        top: clamp(10px, 3vw, 20px);
        left: clamp(10px, 3vw, 20px);
        background: rgba(255, 255, 255, 0.95);
        padding: clamp(12px, 3vw, 20px);
        border-radius: 20px;
        box-shadow: var(--shadow-lg);
        z-index: 100;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        animation: slideInLeft 0.8s ease-out;
        transition: all 0.3s ease;
      }

      .ui-panel:hover {
        transform: translateY(-2px);
        box-shadow: 0 25px 30px -5px rgba(0, 0, 0, 0.15);
      }

      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .score {
        font-size: clamp(18px, 4vw, 24px);
        font-weight: bold;
        background: linear-gradient(135deg, var(--success-color), var(--accent-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .score::before {
        content: 'üéØ';
        font-size: 1.2em;
      }

      .level {
        font-size: clamp(16px, 3.5vw, 20px);
        font-weight: 600;
        background: linear-gradient(135deg, var(--primary-color), var(--purple-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .level::before {
        content: '‚≠ê';
        font-size: 1.1em;
      }

      .question-panel {
        position: absolute;
        top: clamp(10px, 3vw, 20px);
        right: clamp(10px, 3vw, 20px);
        background: rgba(255, 255, 255, 0.95);
        padding: clamp(15px, 4vw, 25px);
        border-radius: 20px;
        box-shadow: var(--shadow-lg);
        max-width: clamp(280px, 40vw, 350px);
        z-index: 100;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        animation: slideInRight 0.8s ease-out;
        transition: all 0.3s ease;
      }

      .question-panel:hover {
        transform: translateY(-2px);
        box-shadow: 0 25px 30px -5px rgba(0, 0, 0, 0.15);
      }

      .question {
        font-size: clamp(14px, 3.5vw, 18px);
        margin-bottom: 15px;
        color: var(--text-primary);
        font-weight: 600;
        line-height: 1.4;
        position: relative;
        padding-left: 25px;
      }

      .question::before {
        content: '‚ùì';
        position: absolute;
        left: 0;
        top: 0;
        font-size: 1.2em;
        animation: bounce 2s ease-in-out infinite;
      }

      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-5px);
        }
        60% {
          transform: translateY(-3px);
        }
      }

      .options {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .option {
        padding: clamp(8px, 2.5vw, 12px);
        background: linear-gradient(135deg, var(--bg-secondary), rgba(255, 255, 255, 0.8));
        border: 2px solid var(--border-color);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-size: clamp(12px, 3vw, 14px);
        font-weight: 500;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(5px);
      }

      .option::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        transition: left 0.5s;
      }

      .option:hover::before {
        left: 100%;
      }

      .option:hover {
        background: linear-gradient(135deg, var(--cyan-color), var(--primary-color));
        color: white;
        border-color: var(--primary-color);
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
      }

      .option.selected {
        background: linear-gradient(135deg, var(--primary-color), var(--purple-color));
        color: white;
        border-color: var(--primary-color);
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4);
        animation: selectPulse 0.6s ease-out;
      }

      @keyframes selectPulse {
        0% {
          transform: translateY(-2px) scale(1);
        }
        50% {
          transform: translateY(-2px) scale(1.1);
        }
        100% {
          transform: translateY(-2px) scale(1.02);
        }
      }

      .slingshot {
        position: absolute;
        bottom: clamp(80px, 15vw, 120px);
        left: clamp(60px, 12vw, 100px);
        width: clamp(60px, 12vw, 90px);
        height: clamp(90px, 18vw, 130px);
        z-index: 50;
        animation: fadeInUp 1s ease-out;
      }

      .slingshot-frame {
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #8b4513, #654321);
        clip-path: polygon(20% 100%, 45% 0%, 55% 0%, 80% 100%);
        position: relative;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        transition: all 0.3s ease;
      }

      .slingshot:hover .slingshot-frame {
        transform: scale(1.05);
        filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4));
      }

      .slingshot-band {
        position: absolute;
        top: 0;
        left: 45%;
        width: 3px;
        height: 60px;
        background: linear-gradient(180deg, #654321, #8b4513);
        transform-origin: bottom;
        border-radius: 1px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .projectile {
        position: absolute;
        width: clamp(18px, 4vw, 24px);
        height: clamp(18px, 4vw, 24px);
        background: radial-gradient(circle at 30% 30%, #ff6b47, #ff4757, #dc143c);
        border-radius: 50%;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.3);
        transition: all 0.1s ease;
        border: 2px solid rgba(255, 255, 255, 0.2);
        position: relative;
        animation: projectileIdle 2s ease-in-out infinite;
      }

      @keyframes projectileIdle {
        0%, 100% {
          transform: translateY(0) scale(1);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.3);
        }
        50% {
          transform: translateY(-2px) scale(1.05);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4), inset 0 3px 6px rgba(255, 255, 255, 0.4);
        }
      }

      .projectile::before {
        content: '';
        position: absolute;
        top: 20%;
        left: 25%;
        width: 30%;
        height: 30%;
        background: radial-gradient(circle, rgba(255, 255, 255, 0.8), transparent);
        border-radius: 50%;
        animation: shine 3s ease-in-out infinite;
      }

      @keyframes shine {
        0%, 100% {
          opacity: 0.6;
        }
        50% {
          opacity: 1;
        }
      }

      .target {
        position: absolute;
        width: clamp(80px, 15vw, 110px);
        height: clamp(80px, 15vw, 110px);
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        animation: targetFloat 3s ease-in-out infinite;
        z-index: 40;
      }

      @keyframes targetFloat {
        0%, 100% {
          transform: translateY(0) rotate(0deg);
        }
        33% {
          transform: translateY(-8px) rotate(2deg);
        }
        66% {
          transform: translateY(-4px) rotate(-1deg);
        }
      }

      .target-circle {
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at 30% 30%,
          #ff6b6b 0%,
          #ff4757 40%,
          #ff3742 70%,
          #dc2626 100%
        );
        border-radius: 50%;
        border: 4px solid white;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: clamp(11px, 2.5vw, 14px);
        text-align: center;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(2px);
        transition: all 0.3s ease;
      }

      .target-circle::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        animation: targetSpin 4s linear infinite;
        border-radius: 50%;
      }

      @keyframes targetSpin {
        to {
          transform: rotate(360deg);
        }
      }

      .target:hover {
        z-index: 45;
      }

      .target:hover .target-circle {
        transform: scale(1.15) rotate(5deg);
        box-shadow: 0 10px 30px rgba(255, 71, 87, 0.5), inset 0 3px 6px rgba(255, 255, 255, 0.4);
        background: radial-gradient(
          circle at 30% 30%,
          #ff8a80 0%,
          #ff5722 40%,
          #e53935 70%,
          #c62828 100%
        );
      }

      .target.hit {
        animation: targetHit 0.6s ease-out forwards;
      }

      @keyframes targetHit {
        0% {
          transform: scale(1) rotate(0deg);
        }
        50% {
          transform: scale(1.3) rotate(180deg);
        }
        100% {
          transform: scale(0) rotate(360deg);
          opacity: 0;
        }
      }

      .clouds {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }

      .cloud {
        position: absolute;
        background: white;
        border-radius: 50px;
        opacity: 0.8;
        animation: float 20s infinite linear;
      }

      .cloud:before {
        content: "";
        position: absolute;
        background: white;
        border-radius: 50px;
      }

      .cloud1 {
        width: 80px;
        height: 40px;
        top: 20%;
        left: -80px;
      }

      .cloud1:before {
        width: 50px;
        height: 50px;
        top: -25px;
        left: 10px;
      }

      .cloud2 {
        width: 60px;
        height: 30px;
        top: 40%;
        left: -60px;
        animation-delay: -10s;
      }

      .cloud2:before {
        width: 40px;
        height: 40px;
        top: -20px;
        left: 8px;
      }

      @keyframes float {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(calc(100vw + 100px));
        }
      }

      /* Mobile Optimizations */
      @media (max-width: 768px) {
        .ui-panel {
          top: 10px;
          left: 10px;
          padding: 12px;
          border-radius: 15px;
        }

        .question-panel {
          top: 10px;
          right: 10px;
          padding: 15px;
          max-width: calc(100vw - 140px);
        }

        .slingshot {
          bottom: 100px;
          left: 40px;
          width: 70px;
          height: 100px;
        }

        .fire-button {
          bottom: 20px;
          padding: 12px 25px;
          font-size: 16px;
        }

        .target {
          width: 80px;
          height: 80px;
        }

        .target-circle {
          font-size: 11px;
        }

        .cloud1, .cloud2 {
          display: none;
        }
      }

      @media (max-width: 480px) {
        .ui-panel {
          top: 5px;
          left: 5px;
          padding: 10px;
        }

        .question-panel {
          top: 5px;
          right: 5px;
          padding: 12px;
          max-width: calc(100vw - 100px);
        }

        .question {
          font-size: 14px;
          margin-bottom: 12px;
        }

        .option {
          padding: 8px;
          font-size: 12px;
        }

        .slingshot {
          bottom: 80px;
          left: 30px;
          width: 60px;
          height: 90px;
        }

        .target {
          width: 70px;
          height: 70px;
        }

        .projectile {
          width: 16px;
          height: 16px;
        }
      }

      @media (min-width: 1200px) {
        .ui-panel {
          padding: 25px;
        }

        .question-panel {
          padding: 30px;
          max-width: 400px;
        }

        .target {
          width: 120px;
          height: 120px;
        }

        .target-circle {
          font-size: 16px;
        }
      }

      /* Enhanced animations for better UX */
      @keyframes scoreIncrease {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
          color: var(--success-color);
        }
        100% {
          transform: scale(1);
        }
      }

      .score-animation {
        animation: scoreIncrease 0.6s ease-out;
      }

      /* Accessibility improvements */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Focus states for keyboard navigation */
      .option:focus,
      .fire-button:focus {
        outline: 3px solid var(--primary-color);
        outline-offset: 2px;
      }

      .fire-button {
        position: absolute;
        bottom: clamp(20px, 5vw, 40px);
        left: 50%;
        transform: translateX(-50%);
        padding: clamp(12px, 3vw, 18px) clamp(25px, 6vw, 35px);
        font-size: clamp(16px, 4vw, 22px);
        font-weight: bold;
        background: linear-gradient(135deg, #ff6347, #ff4500, #e53935);
        color: white;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(255, 99, 71, 0.4);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 100;
        position: relative;
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 1px;
        animation: fireButtonPulse 2s ease-in-out infinite;
      }

      @keyframes fireButtonPulse {
        0%, 100% {
          box-shadow: 0 6px 20px rgba(255, 99, 71, 0.4);
        }
        50% {
          box-shadow: 0 8px 25px rgba(255, 99, 71, 0.6);
        }
      }

      .fire-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.6s;
      }

      .fire-button:hover::before {
        left: 100%;
      }

      .fire-button:hover {
        transform: translateX(-50%) scale(1.08) translateY(-3px);
        box-shadow: 0 12px 30px rgba(255, 99, 71, 0.6);
        background: linear-gradient(135deg, #ff7961, #ff6347, #f4511e);
      }

      .fire-button:active {
        transform: translateX(-50%) scale(1.02) translateY(-1px);
      }

      .fire-button:disabled {
        background: linear-gradient(135deg, #9ca3af, #6b7280);
        cursor: not-allowed;
        transform: translateX(-50%) scale(1);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        animation: none;
      }

      .fire-button:disabled::before {
        display: none;
      }

      .feedback {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: clamp(24px, 6vw, 42px);
        font-weight: bold;
        padding: clamp(15px, 4vw, 25px);
        border-radius: 20px;
        box-shadow: var(--shadow-lg);
        z-index: 200;
        opacity: 0;
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.3);
        text-align: center;
        min-width: 200px;
      }

      .feedback.correct {
        background: linear-gradient(135deg, var(--success-color), var(--accent-color));
        color: white;
        animation: feedbackCorrect 0.6s ease-out;
      }

      @keyframes feedbackCorrect {
        0% {
          transform: translate(-50%, -50%) scale(0.5) rotate(-10deg);
        }
        50% {
          transform: translate(-50%, -50%) scale(1.1) rotate(5deg);
        }
        100% {
          transform: translate(-50%, -50%) scale(1) rotate(0deg);
        }
      }

      .feedback.incorrect {
        background: linear-gradient(135deg, var(--danger-color), #f87171);
        color: white;
        animation: feedbackIncorrect 0.6s ease-out;
      }

      @keyframes feedbackIncorrect {
        0% {
          transform: translate(-50%, -50%) scale(0.5);
        }
        25% {
          transform: translate(-50%, -50%) scale(1.1) rotate(-5deg);
        }
        75% {
          transform: translate(-50%, -50%) scale(1.1) rotate(5deg);
        }
        100% {
          transform: translate(-50%, -50%) scale(1) rotate(0deg);
        }
      }

            .feedback.show {
              opacity: 1;
            }
      
            /* Additional animations */
            @keyframes floatUp {
              0% {
                opacity: 1;
                transform: translateY(0);
              }
              100% {
                opacity: 0;
                transform: translateY(-60px);
              }
            }
      
            @keyframes explode {
              0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
              }
              100% {
                transform: translate(var(--random-x), var(--random-y)) scale(0);
                opacity: 0;
              }
            }
      
            @keyframes levelUpAnim {
              0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
              }
              50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
              }
              100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1);
              }
            }
      
            @keyframes targetShake {
              0%, 100% {
                transform: translateX(0);
              }
              25% {
                transform: translateX(-10px);
              }
              75% {
                transform: translateX(10px);
              }
            }

      /* Accessibility Styles */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      /* Focus visible styles for keyboard navigation */
      button:focus-visible,
      .option:focus-visible {
        outline: 3px solid #ff6347;
        outline-offset: 3px;
        box-shadow: 0 0 0 6px rgba(255, 99, 71, 0.3);
      }

      /* Reduced motion support */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
  </head>
  <body>
    <!-- Google AdSense -->
    <div class="ad-container" style="margin: 1rem auto; max-width: 100%; text-align: center; padding: 0 1rem;">
      <ins class="adsbygoogle"
           style="display: block; text-align: center;"
           data-ad-client="ca-pub-2456627863532019"
           data-ad-slot="1718707782"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <div class="game-container" role="main">
      <div class="clouds" aria-hidden="true">
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>
      </div>

      <div class="ui-panel" role="region" aria-label="Game Statistics">
        <div class="score">Score: <span id="score" aria-live="polite">0</span></div>
        <div class="level">Level: <span id="level" aria-live="polite">1</span></div>
      </div>

      <div class="question-panel" role="region" aria-label="Question and Answer Options">
        <div class="question" id="question" role="heading" aria-level="1">
          Choose the correct word to complete the sentence:
        </div>
        <div class="options" id="options" role="radiogroup" aria-label="Answer choices"></div>
      </div>

      <div class="slingshot" aria-hidden="true">
        <div class="slingshot-frame">
          <div class="slingshot-band"></div>
        </div>
        <div class="projectile" id="projectile"></div>
      </div>

      <div id="targets-container" aria-hidden="true"></div>

      <button class="fire-button" id="fire-button" onclick="fireProjectile()" aria-label="Fire the slingshot at selected target">
        FIRE!
      </button>

      <div class="feedback" id="feedback" role="alert" aria-live="assertive"></div>
    </div>

    <script>
      let score = 0;
      let level = 1;
      let currentQuestion = 0;
      let selectedAnswer = null;
      let targets = [];
      let isAnimating = false;
      let consecutiveCorrect = 0;
      let bestStreak = 0;
      let totalQuestions = 0;
      let accuracy = 100;

      // Load stats from localStorage
      function loadStats() {
        try {
          const saved = localStorage.getItem('slingshotStats');
          if (saved) {
            const stats = JSON.parse(saved);
            bestStreak = stats.bestStreak || 0;
          }
        } catch (e) {
          console.warn('Could not load stats', e);
        }
      }

      // Save stats to localStorage
      function saveStats() {
        try {
          const stats = {
            bestStreak: bestStreak,
            lastPlayed: new Date().toISOString()
          };
          localStorage.setItem('slingshotStats', JSON.stringify(stats));
        } catch (e) {
          console.warn('Could not save stats', e);
        }
      }

      // Screen reader announcements
      function announceToScreenReader(message) {
        const announcement = document.createElement('div');
        announcement.setAttribute('role', 'status');
        announcement.setAttribute('aria-live', 'polite');
        announcement.className = 'sr-only';
        announcement.textContent = message;
        document.body.appendChild(announcement);
        setTimeout(() => announcement.remove(), 1000);
      }

      // Sound system
      const audioContext = (() => {
        try {
          return new (window.AudioContext || window.webkitAudioContext)();
        } catch (e) {
          return null;
        }
      })();

      function playSound(type) {
        if (!audioContext) return;

        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        switch (type) {
          case 'fire':
            oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(600, audioContext.currentTime + 0.3);
            break;
          case 'correct':
            oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
            oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
            oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
            break;
          case 'incorrect':
            oscillator.frequency.setValueAtTime(220, audioContext.currentTime); // A3
            oscillator.frequency.setValueAtTime(196, audioContext.currentTime + 0.15); // G3
            break;
          case 'select':
            oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
            break;
        }

        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.3);
      }

      const questions = [
        {
          question: "She _____ to the store yesterday.",
          options: ["go", "goes", "went", "going"],
          correct: 2,
        },
        {
          question: "The cat is _____ the table.",
          options: ["under", "above", "between", "through"],
          correct: 0,
        },
        {
          question: "I have _____ books than you.",
          options: ["less", "fewer", "least", "few"],
          correct: 1,
        },
        {
          question: "He _____ his homework every day.",
          options: ["do", "does", "did", "done"],
          correct: 1,
        },
        {
          question: "The weather is _____ today.",
          options: ["good", "well", "better", "best"],
          correct: 0,
        },
        {
          question: "They _____ playing in the park.",
          options: ["is", "are", "was", "be"],
          correct: 1,
        },
        {
          question: "I _____ seen that movie before.",
          options: ["has", "have", "had", "having"],
          correct: 1,
        },
        {
          question: "The dog ran _____ the yard.",
          options: ["across", "between", "through", "around"],
          correct: 0,
        },
      ];

      function initGame() {
        loadStats();
        loadQuestion();
        createTargets();
        positionProjectile();
        announceToScreenReader("Grammar Slingshot Challenge started. Use number keys 1-4 or arrow keys to select answers, then press Enter or Space to fire.");
      }

      function loadQuestion() {
        const q = questions[currentQuestion];
        const questionElement = document.getElementById("question");

        // Animate question change
        questionElement.style.opacity = '0';
        questionElement.style.transform = 'translateY(-20px)';

        setTimeout(() => {
          questionElement.textContent = q.question;
          questionElement.style.opacity = '1';
          questionElement.style.transform = 'translateY(0)';
        }, 200);

        const optionsContainer = document.getElementById("options");

        // Animate options out
        Array.from(optionsContainer.children).forEach((option, index) => {
          setTimeout(() => {
            option.style.opacity = '0';
            option.style.transform = 'translateX(-20px)';
          }, index * 50);
        });

        setTimeout(() => {
          optionsContainer.innerHTML = "";

          q.options.forEach((option, index) => {
            const div = document.createElement("div");
            div.className = "option";
            div.textContent = option;
            div.tabIndex = 0; // Make focusable for keyboard navigation
            div.setAttribute('role', 'radio');
            div.setAttribute('aria-checked', 'false');
            div.setAttribute('aria-label', `Option ${index + 1}: ${option}`);
            div.onclick = () => selectOption(index);

            // Keyboard support
            div.onkeydown = (e) => {
              if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                selectOption(index);
              }
            };

            // Animate options in
            div.style.opacity = '0';
            div.style.transform = 'translateX(20px)';
            optionsContainer.appendChild(div);

            setTimeout(() => {
              div.style.opacity = '1';
              div.style.transform = 'translateX(0)';
            }, 300 + (index * 100));
          });
        }, 300);

        selectedAnswer = null;
        updateFireButton();
        updateAccuracy();
        announceToScreenReader(`Question: ${q.question}`);
      }

      function selectOption(index) {
        selectedAnswer = index;
        const options = document.querySelectorAll(".option");
        options.forEach((opt) => {
          opt.classList.remove("selected");
          opt.setAttribute('aria-checked', 'false');
        });
        options[index].classList.add("selected");
        options[index].setAttribute('aria-checked', 'true');

        playSound('select');
        updateFireButton();
        announceToScreenReader(`Selected option ${index + 1}: ${options[index].textContent}`);
      }

      function updateFireButton() {
        const button = document.getElementById("fire-button");
        const wasDisabled = button.disabled;
        button.disabled = selectedAnswer === null || isAnimating;

        // Add visual feedback when button becomes enabled
        if (wasDisabled && !button.disabled) {
          button.style.animation = 'fireButtonPulse 0.6s ease-out';
          setTimeout(() => {
            button.style.animation = 'fireButtonPulse 2s ease-in-out infinite';
          }, 600);
        }
      }

      function updateAccuracy() {
        if (totalQuestions > 0) {
          accuracy = Math.round((consecutiveCorrect / totalQuestions) * 100);
        }
      }

      function createTargets() {
        const container = document.getElementById("targets-container");

        // Animate existing targets out
        Array.from(container.children).forEach((target, index) => {
          setTimeout(() => {
            target.style.transform = 'scale(0) rotate(180deg)';
            target.style.opacity = '0';
          }, index * 50);
        });

        setTimeout(() => {
          container.innerHTML = "";
          targets = [];

          const numTargets = Math.min(4, level + 2);
          const q = questions[currentQuestion];
          // Calculate safe positioning areas
          const safeAreaLeft = window.innerWidth * 0.25;
          const safeAreaTop = window.innerHeight * 0.15;
          const safeAreaWidth = window.innerWidth * 0.7;
          const safeAreaHeight = window.innerHeight * 0.6;

          for (let i = 0; i < numTargets && i < q.options.length; i++) {
            const target = document.createElement("div");
            target.className = "target";
            target.innerHTML = `<div class="target-circle">${q.options[i]}</div>`;

            // Better positioning algorithm
            let x, y, attempts = 0;
            let validPosition = false;

            do {
              x = safeAreaLeft + Math.random() * (safeAreaWidth - 110);
              y = safeAreaTop + Math.random() * (safeAreaHeight - 110);

              // Check for overlap with existing targets
              validPosition = targets.every(existingTarget => {
                const dx = x - existingTarget.x;
                const dy = y - existingTarget.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                return distance > 130; // Minimum distance between targets
              });

              attempts++;
            } while (!validPosition && attempts < 20);

            target.style.left = x + "px";
            target.style.top = y + "px";

            // Stagger animation delays
            target.style.animationDelay = `${i * 0.2}s`;
            target.style.opacity = '0';
            target.style.transform = 'scale(0)';

            targets.push({ element: target, x, y, optionIndex: i });
            container.appendChild(target);

            // Animate targets in
            setTimeout(() => {
              target.style.opacity = '1';
              target.style.transform = 'scale(1)';
              target.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            }, 500 + (i * 150));
          }
        }, 300);
      }

      function positionProjectile() {
        const projectile = document.getElementById("projectile");
        const slingshot = document.querySelector('.slingshot');
        const slingshotRect = slingshot.getBoundingClientRect();
        
        // Position relative to slingshot for better responsiveness
        projectile.style.left = (slingshotRect.left + slingshotRect.width + 15) + "px";
        projectile.style.bottom = (window.innerHeight - slingshotRect.top - 30) + "px";
        projectile.style.transform = "scale(1)";
        projectile.style.transition = "all 0.3s ease";
        projectile.style.filter = 'none';
      }
      
      // Keyboard controls
      document.addEventListener('keydown', (e) => {
        if (isAnimating) return;
        
        const options = document.querySelectorAll('.option');
        const currentSelected = document.querySelector('.option.selected');
        
        switch(e.key) {
          case '1':
          case '2':
          case '3':
          case '4':
            const optionIndex = parseInt(e.key) - 1;
            if (options[optionIndex]) {
              selectOption(optionIndex);
            }
            break;
            
          case 'ArrowUp':
          case 'ArrowDown':
            e.preventDefault();
            if (options.length > 0) {
              let newIndex = 0;
              if (currentSelected) {
                const currentIndex = Array.from(options).indexOf(currentSelected);
                newIndex = e.key === 'ArrowUp' 
                  ? (currentIndex - 1 + options.length) % options.length
                  : (currentIndex + 1) % options.length;
              }
              selectOption(newIndex);
              options[newIndex].focus();
            }
            break;
            
          case 'Enter':
          case ' ':
            e.preventDefault();
            if (selectedAnswer !== null && !isAnimating) {
              fireProjectile();
            }
            break;
            
          case 'Escape':
            window.location.href = '../games.html';
            break;
        }
      });

      function fireProjectile() {
        if (selectedAnswer === null || isAnimating) return;

        isAnimating = true;
        updateFireButton();
        playSound('fire');

        const projectile = document.getElementById("projectile");
        const slingshot = document.querySelector('.slingshot');
        const targetIndex = selectedAnswer;

        // Add firing animation to slingshot
        slingshot.style.animation = 'none';
        slingshot.style.transform = 'scale(1.1)';

        setTimeout(() => {
          slingshot.style.transform = 'scale(1)';
          slingshot.style.animation = 'fadeInUp 1s ease-out';
        }, 200);

        if (targets[targetIndex]) {
          const target = targets[targetIndex];
          const targetX = target.x + 50; // Center of target
          const targetY = target.y + 50;

          // Get projectile start position
          const startX = parseInt(projectile.style.left) || 135;
          const startY = window.innerHeight - (parseInt(projectile.style.bottom) || 160);

          // Calculate trajectory with arc
          const distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
          const duration = Math.min(1500, 800 + distance * 2); // Dynamic duration based on distance

          // Create trail effect
          createProjectileTrail(startX, startY, targetX, targetY, duration);

          // Enhanced projectile animation
          projectile.style.transition = `all ${duration}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
          projectile.style.left = targetX + "px";
          projectile.style.bottom = window.innerHeight - targetY + "px";
          projectile.style.transform = "scale(1.8) rotate(720deg)";
          projectile.style.filter = 'drop-shadow(0 0 10px rgba(255, 99, 71, 0.8))';

          setTimeout(() => {
            checkAnswer();
          }, duration);
        }
      }

      function createProjectileTrail(startX, startY, endX, endY, duration) {
        const trail = document.createElement('div');
        trail.style.cssText = `
          position: absolute;
          left: ${startX}px;
          top: ${startY}px;
          width: 3px;
          height: 3px;
          background: linear-gradient(45deg, #ff6347, #ff4500);
          border-radius: 50%;
          pointer-events: none;
          z-index: 45;
          opacity: 0.8;
          transition: all ${duration}ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
        `;

        document.body.appendChild(trail);

        setTimeout(() => {
          trail.style.left = endX + 'px';
          trail.style.top = endY + 'px';
          trail.style.opacity = '0';
          trail.style.transform = 'scale(0)';
        }, 50);

        setTimeout(() => {
          trail.remove();
        }, duration + 100);
      }

      function checkAnswer() {
        const q = questions[currentQuestion];
        const isCorrect = selectedAnswer === q.correct;
        totalQuestions++;

        if (isCorrect) {
          consecutiveCorrect++;
          
          // Update best streak
          if (consecutiveCorrect > bestStreak) {
            bestStreak = consecutiveCorrect;
            saveStats();
          }

          const baseScore = 10;
          const levelMultiplier = level;
          const streakBonus = Math.min(consecutiveCorrect * 2, 20);
          const scoreGained = (baseScore + streakBonus) * levelMultiplier;

          score += scoreGained;
          animateScoreIncrease(scoreGained);
          playSound('correct');

          let message = `üéØ Correct! +${scoreGained} points`;
          if (consecutiveCorrect > 1) {
            message += ` | üî• ${consecutiveCorrect}x Streak!`;
          }
          announceToScreenReader(message);

          // Remove hit target with enhanced explosion effect
          const hitTarget = targets[selectedAnswer];
          if (hitTarget) {
            hitTarget.element.classList.add('hit');
            createExplosionEffect(hitTarget.x + 50, hitTarget.y + 50);

            setTimeout(() => {
              if (hitTarget.element.parentNode) {
                hitTarget.element.remove();
              }
            }, 600);
          }

          showFeedback(`PERFECT! üéØ +${scoreGained} points`, 'correct');
        } else {
          consecutiveCorrect = 0;
          playSound('incorrect');
          showFeedback('TRY AGAIN! üí•', 'incorrect');
          announceToScreenReader(`Incorrect. Streak reset. The correct answer was ${q.options[q.correct]}`);

          // Shake wrong target
          const wrongTarget = targets[selectedAnswer];
          if (wrongTarget) {
            wrongTarget.element.style.animation = 'targetShake 0.5s ease-in-out';
          }
        }

        setTimeout(() => {
            // Initialize game when page loads
            window.onload = function () {
              initGame();
      
              // Add keyboard instructions
              const instructions = document.createElement('div');
              instructions.innerHTML = `
                <div style="position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%);
                            background: rgba(255,255,255,0.9); padding: 10px; border-radius: 10px;
                            font-size: 12px; text-align: center; backdrop-filter: blur(5px);
                            box-shadow: 0 4px 15px rgba(0,0,0,0.1); z-index: 90;">
                  üéÆ <strong>Controls:</strong> 1-4 keys or ‚Üë‚Üì arrows to select ‚Ä¢ Enter/Space to fire ‚Ä¢ Esc to exit
                </div>
              `;
              document.body.appendChild(instructions);
            };
      
            // Handle window resize
            window.onresize = function () {
              createTargets();
              positionProjectile();
            };
        }, 2500);
      }

      function animateScoreIncrease(points) {
        const scoreElement = document.getElementById('score');
        scoreElement.textContent = score;
        scoreElement.classList.add('score-animation');

        // Show floating score
        const floatingScore = document.createElement('div');
        floatingScore.textContent = `+${points}`;
        floatingScore.style.cssText = `
          position: absolute;
          top: 60px;
          left: 20px;
          color: var(--success-color);
          font-weight: bold;
          font-size: 20px;
          pointer-events: none;
          z-index: 110;
          animation: floatUp 2s ease-out forwards;
        `;

        document.querySelector('.ui-panel').appendChild(floatingScore);

        setTimeout(() => {
          scoreElement.classList.remove('score-animation');
          floatingScore.remove();
        }, 2000);
      }

      function createExplosionEffect(x, y) {
        const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7'];

        for (let i = 0; i < 8; i++) {
          const particle = document.createElement('div');
          particle.style.cssText = `
            position: absolute;
            left: ${x}px;
            top: ${y}px;
            width: 8px;
            height: 8px;
            background: ${colors[Math.floor(Math.random() * colors.length)]};
            border-radius: 50%;
            pointer-events: none;
            z-index: 60;
            animation: explode 1s ease-out forwards;
            --random-x: ${(Math.random() - 0.5) * 200}px;
            --random-y: ${(Math.random() - 0.5) * 200}px;
          `;

          document.body.appendChild(particle);

          setTimeout(() => {
            particle.remove();
          }, 1000);
        }
      }

      function showFeedback(message, type) {
        const feedback = document.getElementById("feedback");
        feedback.textContent = message;
        feedback.className = `feedback ${type} show`;

        setTimeout(() => {
          feedback.classList.remove("show");
        }, 2000);
      }

      function nextQuestion() {
        currentQuestion = (currentQuestion + 1) % questions.length;

        if (currentQuestion === 0) {
          level++;
          document.getElementById("level").textContent = level;
          showLevelUpEffect();
        }

        loadQuestion();
        createTargets();
        positionProjectile();
        isAnimating = false;
        updateFireButton();
      }

      function showLevelUpEffect() {
        const levelUpMsg = document.createElement('div');
        levelUpMsg.textContent = `LEVEL ${level}!`;
        levelUpMsg.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 48px;
          font-weight: bold;
          color: var(--secondary-color);
          text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
          pointer-events: none;
          z-index: 300;
          animation: levelUpAnim 2s ease-out forwards;
        `;

        document.body.appendChild(levelUpMsg);
        playSound('correct');

        setTimeout(() => {
          levelUpMsg.remove();
        }, 2000);
      }

            // Initialize game when page loads\n      window.onload = function () {\n        initGame();\n        \n        // Add keyboard instructions\n        const instructions = document.createElement('div');\n        instructions.innerHTML = `\n          <div style=\"position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%); \n                      background: rgba(255,255,255,0.9); padding: 10px; border-radius: 10px; \n                      font-size: 12px; text-align: center; backdrop-filter: blur(5px);\n                      box-shadow: 0 4px 15px rgba(0,0,0,0.1); z-index: 90;\">\n            üéÆ <strong>Controls:</strong> 1-4 keys or ‚Üë‚Üì arrows to select ‚Ä¢ Enter/Space to fire ‚Ä¢ Esc to exit\n          </div>\n        `;\n        document.body.appendChild(instructions);\n      };\n\n      // Handle window resize\n      window.onresize = function () {\n        createTargets();\n        positionProjectile();\n      };
    </script>
  </body>
</html>
      // Position the projectile relative to the slingshot
      function positionProjectile() {
        const projectile = document.getElementById("projectile");
        const slingshot = document.querySelector('.slingshot');
        const slingshotRect = slingshot.getBoundingClientRect();

        // Position relative to slingshot for better responsiveness
        projectile.style.left = (slingshotRect.left + slingshotRect.width + 15) + "px";
        projectile.style.bottom = (window.innerHeight - slingshotRect.top - 30) + "px";
        projectile.style.transform = "scale(1)";
        projectile.style.transition = "all 0.3s ease";
        projectile.style.filter = 'none';
      }

      // Keyboard controls
      document.addEventListener('keydown', (e) => {
        if (isAnimating) return;

        const options = document.querySelectorAll('.option');
        const currentSelected = document.querySelector('.option.selected');

        switch(e.key) {
          case '1':
          case '2':
          case '3':
          case '4':
            const optionIndex = parseInt(e.key) - 1;
            if (options[optionIndex]) {
              selectOption(optionIndex);
            }
            break;

          case 'ArrowUp':
          case 'ArrowDown':
            e.preventDefault();
            if (options.length > 0) {
              let newIndex = 0;
              if (currentSelected) {
                const currentIndex = Array.from(options).indexOf(currentSelected);
                newIndex = e.key === 'ArrowUp'
                  ? (currentIndex - 1 + options.length) % options.length
                  : (currentIndex + 1) % options.length;
              }
              selectOption(newIndex);
              options[newIndex].focus();
            }
            break;

          case 'Enter':
          case ' ':
            e.preventDefault();
            if (selectedAnswer !== null && !isAnimating) {
              fireProjectile();
            }
            break;

          case 'Escape':
            window.location.href = '../games.html';
            break;
        }
      });
    </script>
  
    <!-- Google AdSense -->
    <div class="ad-container" style="margin: 1rem auto; max-width: 100%; text-align: center; padding: 0 1rem;">
      <ins class="adsbygoogle"
           style="display: block; text-align: center;"
           data-ad-client="ca-pub-2456627863532019"
           data-ad-slot="1718707782"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

  </body>
</html>
