<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Pronunciation & Speaking Practice - ESL Interactive Class</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Interactive ESL pronunciation and speaking practice with common mistakes, minimal pairs, and engaging activities for adult learners."
    />
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
        min-height: 100vh;
      }

      header {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 30px 20px;
        text-align: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      header h1 {
        margin: 0 0 10px 0;
        font-size: 2.2rem;
      }

      header p {
        margin: 0;
        opacity: 0.9;
        font-size: 1.1rem;
      }

      nav {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        background: rgba(255, 255, 255, 0.95);
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      nav button {
        padding: 12px 20px;
        border: 2px solid transparent;
        border-radius: 8px;
        cursor: pointer;
        background: #667eea;
        color: white;
        font-weight: bold;
        font-size: 0.95rem;
        transition: all 0.3s ease;
      }

      nav button:hover {
        background: #764ba2;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      nav button.active {
        background: #2a5298;
        border-color: #1e3c72;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      section {
        display: none;
        padding: 20px 0;
      }

      section.active {
        display: block;
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .card {
        background: white;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        margin-bottom: 25px;
        transition: transform 0.3s ease;
      }

      .card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
      }

      .card h2 {
        color: #2a5298;
        margin-top: 0;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
      }

      .card h3 {
        color: #764ba2;
        margin-top: 20px;
      }

      .big-text {
        font-size: 1.8rem;
        text-align: center;
        margin: 25px 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 10px;
        font-weight: bold;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      }

      .center {
        text-align: center;
      }

      .action-btn {
        padding: 14px 28px;
        border: none;
        border-radius: 10px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-size: 1.1rem;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
      }

      .action-btn:active {
        transform: translateY(0);
      }

      ul {
        line-height: 2;
      }

      .pronunciation-item {
        padding: 12px;
        margin: 8px 0;
        background: #f8f9fa;
        border-left: 4px solid #667eea;
        border-radius: 6px;
        transition: all 0.3s ease;
      }

      .pronunciation-item:hover {
        background: #e9ecef;
        border-left-color: #764ba2;
        transform: translateX(5px);
      }

      .phonetic {
        color: #764ba2;
        font-family: "Courier New", monospace;
        font-size: 1.1rem;
        margin-left: 10px;
      }

      .grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .mini-card {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .mini-card:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .mini-card h4 {
        margin-top: 0;
        color: #2a5298;
      }

      .tip-box {
        background: #fff3cd;
        border-left: 5px solid #ffc107;
        padding: 15px;
        margin: 15px 0;
        border-radius: 6px;
      }

      .tip-box strong {
        color: #856404;
      }

      .minimal-pair {
        display: inline-block;
        padding: 8px 16px;
        margin: 5px;
        background: white;
        border: 2px solid #667eea;
        border-radius: 20px;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      .minimal-pair:hover {
        background: #667eea;
        color: white;
        transform: scale(1.1);
      }

      .progress-tracker {
        background: white;
        padding: 15px;
        border-radius: 10px;
        margin: 20px 0;
        text-align: center;
      }

      .progress-bar {
        width: 100%;
        height: 30px;
        background: #e9ecef;
        border-radius: 15px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transition: width 0.5s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
      }

      @media (max-width: 768px) {
        header h1 {
          font-size: 1.6rem;
        }

        .big-text {
          font-size: 1.3rem;
        }

        nav button {
          font-size: 0.85rem;
          padding: 10px 15px;
        }

        .grid-container {
          grid-template-columns: 1fr;
        }
      }

      /* Quick Reference Styles */
      .quick-ref {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
      }

      .quick-ref-btn {
        padding: 15px 20px;
        border-radius: 50px;
        border: none;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
      }

      .quick-ref-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
      }

      .quick-ref-panel {
        display: none;
        position: fixed;
        bottom: 80px;
        right: 20px;
        background: white;
        border-radius: 12px;
        padding: 20px;
        max-width: 350px;
        max-height: 500px;
        overflow-y: auto;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        z-index: 999;
      }

      .quick-ref-panel.show {
        display: block;
        animation: slideUp 0.3s ease;
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .ref-section {
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px solid #eee;
      }

      .ref-section:last-child {
        border-bottom: none;
      }

      .ref-section h4 {
        color: #667eea;
        margin: 0 0 8px 0;
      }

      .ref-section p {
        margin: 5px 0;
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>üéØ Pronunciation & Speaking Practice</h1>
      <p>
        Master English pronunciation with interactive activities and real-world
        practice
      </p>
    </header>

    <nav>
      <button onclick="showSection('warmup')" class="nav-btn">
        üî• Warm‚ÄëUp
      </button>
      <button onclick="showSection('pronunciation')" class="nav-btn">
        üó£Ô∏è Pronunciation
      </button>
      <button onclick="showSection('minimal-pairs')" class="nav-btn">
        üëÇ Minimal Pairs
      </button>
      <button onclick="showSection('stress')" class="nav-btn">
        üéµ Word Stress
      </button>
      <button onclick="showSection('twisters')" class="nav-btn">
        üëÖ Tongue Twisters
      </button>
      <button onclick="showSection('intonation')" class="nav-btn">
        üìà Intonation
      </button>
      <button onclick="showSection('speaking')" class="nav-btn">
        üí¨ Speaking
      </button>
      <button onclick="showSection('game')" class="nav-btn">üéÆ Game</button>
    </nav>

    <div class="container">
      <!-- WARM UP -->
      <section id="warmup" class="active">
        <div class="card">
          <h2>üî• Warm‚ÄëUp Activity</h2>
          <p>
            <strong>Instructions:</strong> Answer the question below. The
            teacher will ask follow‚Äëup questions to encourage deeper
            conversation.
          </p>
          <div class="big-text" id="warmupQuestion"></div>
          <div class="center">
            <button class="action-btn" onclick="newWarmupQuestion()">
              üîÑ New Question
            </button>
          </div>
        </div>

        <div class="card">
          <h3>üí° Tips for Great Answers</h3>
          <ul>
            <li>Give details and examples</li>
            <li>Use complete sentences</li>
            <li>Share your personal experience</li>
            <li>Ask your teacher questions too!</li>
          </ul>
        </div>

        <div class="card">
          <h3>üéôÔ∏è Practice & Record</h3>
          <p>
            Practice your answer out loud! Recording yourself can help you hear
            areas for improvement.
          </p>
          <div class="center" style="margin-top: 15px">
            <button
              class="action-btn"
              id="recordBtn"
              onclick="toggleRecording()"
              style="
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
              "
            >
              üéôÔ∏è Start Recording
            </button>
            <div
              id="recordingStatus"
              style="margin-top: 10px; font-weight: bold; color: white"
            ></div>
          </div>
        </div>
      </section>

      <!-- PRONUNCIATION -->
      <section id="pronunciation">
        <div class="card">
          <h2>üó£Ô∏è Commonly Mispronounced Words</h2>
          <p>
            <strong>Practice:</strong> Listen carefully and repeat after your
            teacher. Pay attention to silent letters and tricky sounds.
          </p>
          <div id="wordList"></div>
        </div>

        <div class="card">
          <h2>üìù Common Sentence Mistakes</h2>
          <p>
            <strong>Focus on:</strong> Grammar patterns, prepositions, and
            natural phrasing that students often find challenging.
          </p>
          <div id="sentenceList"></div>
        </div>

        <div class="card">
          <h2>üéØ Pronunciation Tips</h2>
          <div class="grid-container">
            <div class="mini-card">
              <h4>Silent Letters</h4>
              <p><strong>K</strong> in "knife, know, knee"</p>
              <p><strong>B</strong> in "bomb, climb, doubt"</p>
              <p><strong>H</strong> in "honest, hour"</p>
            </div>
            <div class="mini-card">
              <h4>TH Sounds</h4>
              <p><strong>Voiced /√∞/:</strong> this, that, the</p>
              <p><strong>Voiceless /Œ∏/:</strong> think, thank, three</p>
            </div>
            <div class="mini-card">
              <h4>-ED Endings</h4>
              <p><strong>/t/:</strong> walked, helped</p>
              <p><strong>/d/:</strong> played, enjoyed</p>
              <p><strong>/…™d/:</strong> wanted, needed</p>
            </div>
            <div class="mini-card">
              <h4>R Sound</h4>
              <p>Curl tongue back (not trill)</p>
              <p><strong>Examples:</strong> red, very, prefer</p>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>üèóÔ∏è Sentence Builder</h2>
          <p>
            <strong>Interactive:</strong> Build correct sentences by clicking
            the words in order. Practice word order and pronunciation!
          </p>
          <div class="tip-box">
            <strong>Current Challenge:</strong>
            <span id="sentenceTarget" style="font-style: italic"></span>
          </div>
          <div
            id="wordBank"
            style="
              display: flex;
              flex-wrap: wrap;
              gap: 10px;
              justify-content: center;
              margin: 20px 0;
            "
          ></div>
          <div
            id="sentenceConstruction"
            style="
              min-height: 60px;
              background: white;
              border: 2px dashed #667eea;
              border-radius: 8px;
              padding: 15px;
              margin: 15px 0;
              display: flex;
              flex-wrap: wrap;
              gap: 8px;
              align-items: center;
            "
          ></div>
          <div class="center">
            <button
              class="action-btn"
              onclick="checkSentence()"
              style="margin: 5px"
            >
              ‚úÖ Check Answer
            </button>
            <button
              class="action-btn"
              onclick="resetSentence()"
              style="
                margin: 5px;
                background: linear-gradient(135deg, #ffa726 0%, #fb8c00 100%);
              "
            >
              üîÑ Reset
            </button>
            <button
              class="action-btn"
              onclick="newSentenceBuilder()"
              style="
                margin: 5px;
                background: linear-gradient(135deg, #26a69a 0%, #00897b 100%);
              "
            >
              ‚û°Ô∏è Next
            </button>
          </div>
          <div
            id="sentenceResult"
            style="
              margin-top: 15px;
              font-weight: bold;
              font-size: 1.2rem;
              text-align: center;
            "
          ></div>
        </div>
      </section>

      <!-- MINIMAL PAIRS -->
      <section id="minimal-pairs">
        <div class="card">
          <h2>üëÇ Minimal Pairs Practice</h2>
          <p>
            <strong>Listen & Distinguish:</strong> These word pairs sound
            similar but have different meanings. Practice hearing and saying the
            difference.
          </p>

          <h3>/i:/ vs /…™/ (Long E vs Short I)</h3>
          <div class="center">
            <span class="minimal-pair">sheep</span>
            <span class="minimal-pair">ship</span>
            <span class="minimal-pair">heat</span>
            <span class="minimal-pair">hit</span>
            <span class="minimal-pair">seat</span>
            <span class="minimal-pair">sit</span>
            <span class="minimal-pair">feel</span>
            <span class="minimal-pair">fill</span>
          </div>

          <h3>/√¶/ vs /e/ (Cat vs Pet)</h3>
          <div class="center">
            <span class="minimal-pair">bad</span>
            <span class="minimal-pair">bed</span>
            <span class="minimal-pair">sad</span>
            <span class="minimal-pair">said</span>
            <span class="minimal-pair">man</span>
            <span class="minimal-pair">men</span>
            <span class="minimal-pair">pan</span>
            <span class="minimal-pair">pen</span>
          </div>

          <h3>/l/ vs /r/</h3>
          <div class="center">
            <span class="minimal-pair">light</span>
            <span class="minimal-pair">right</span>
            <span class="minimal-pair">collect</span>
            <span class="minimal-pair">correct</span>
            <span class="minimal-pair">long</span>
            <span class="minimal-pair">wrong</span>
            <span class="minimal-pair">glamour</span>
            <span class="minimal-pair">grammar</span>
          </div>

          <h3>/v/ vs /w/</h3>
          <div class="center">
            <span class="minimal-pair">vest</span>
            <span class="minimal-pair">west</span>
            <span class="minimal-pair">vine</span>
            <span class="minimal-pair">wine</span>
            <span class="minimal-pair">vet</span>
            <span class="minimal-pair">wet</span>
          </div>

          <h3>/p/ vs /b/</h3>
          <div class="center">
            <span class="minimal-pair">park</span>
            <span class="minimal-pair">bark</span>
            <span class="minimal-pair">pig</span>
            <span class="minimal-pair">big</span>
            <span class="minimal-pair">cap</span>
            <span class="minimal-pair">cab</span>
          </div>
        </div>

        <div class="card">
          <h2>üéµ Practice Sentences</h2>
          <div class="tip-box">
            <strong>Activity:</strong> Your teacher will read a sentence using
            one word from a minimal pair. Can you identify which word they used?
          </div>
          <ul>
            <li>The <strong>ship/sheep</strong> is in the harbor.</li>
            <li>I need to <strong>fill/feel</strong> the glass with water.</li>
            <li>Turn <strong>right/light</strong> at the next corner.</li>
            <li>The <strong>vest/west</strong> looks nice on you.</li>
            <li>That's the <strong>correct/collect</strong> answer!</li>
          </ul>
        </div>
      </section>

      <!-- WORD STRESS -->
      <section id="stress">
        <div class="card">
          <h2>üéµ Word Stress Patterns</h2>
          <p>
            <strong>Important:</strong> Stressing the correct syllable changes
            meaning and helps native speakers understand you better.
          </p>

          <h3>Two-Syllable Nouns (First Syllable Stressed)</h3>
          <div class="pronunciation-item">
            <strong>PREsent</strong> <span class="phonetic">/Ààprez…ônt/</span> -
            a gift
          </div>
          <div class="pronunciation-item">
            <strong>REcord</strong> <span class="phonetic">/Ààrek…îrd/</span> - a
            music album
          </div>
          <div class="pronunciation-item">
            <strong>PROject</strong> <span class="phonetic">/Ààpr…ëd íekt/</span> -
            a task or plan
          </div>

          <h3>Two-Syllable Verbs (Second Syllable Stressed)</h3>
          <div class="pronunciation-item">
            <strong>preSENT</strong> <span class="phonetic">/pr…™Ààzent/</span> -
            to give or show
          </div>
          <div class="pronunciation-item">
            <strong>reCORD</strong> <span class="phonetic">/r…™Ààk…îrd/</span> - to
            capture audio/video
          </div>
          <div class="pronunciation-item">
            <strong>proJECT</strong> <span class="phonetic">/pr…ôÀàd íekt/</span> -
            to estimate or display
          </div>

          <h3>Three-Syllable Words</h3>
          <div class="pronunciation-item">
            <strong>POsitive</strong> <span class="phonetic">/Ààp…ëz…ôt…™v/</span>
          </div>
          <div class="pronunciation-item">
            <strong>imPORtant</strong>
            <span class="phonetic">/…™mÀàp…îrt…ônt/</span>
          </div>
          <div class="pronunciation-item">
            <strong>underSTAND</strong>
            <span class="phonetic">/Àå ånd…ôrÀàst√¶nd/</span>
          </div>
          <div class="pronunciation-item">
            <strong>COMfortable</strong>
            <span class="phonetic">/Ààk åmft…ôrb…ôl/</span>
          </div>
        </div>

        <div class="card">
          <h2>üìä Stress Pattern Rules</h2>
          <div class="grid-container">
            <div class="mini-card">
              <h4>-tion/-sion Endings</h4>
              <p>Stress the syllable BEFORE</p>
              <p>educaTION, posiTION, deCIsion</p>
            </div>
            <div class="mini-card">
              <h4>-ic Endings</h4>
              <p>Stress the syllable BEFORE</p>
              <p>econoMIC, scientiFIC, autoMATic</p>
            </div>
            <div class="mini-card">
              <h4>-ity Endings</h4>
              <p>Stress the syllable BEFORE</p>
              <p>univerSIty, possiBIlity, realIty</p>
            </div>
            <div class="mini-card">
              <h4>Compound Nouns</h4>
              <p>Stress the FIRST word</p>
              <p>BLACKboard, SUNshine, TOOTHbrush</p>
            </div>
          </div>
        </div>
      </section>

      <!-- TONGUE TWISTERS -->
      <section id="twisters">
        <div class="card">
          <h2>üëÖ Tongue Twisters</h2>
          <p>
            <strong>Challenge:</strong> Try saying these tongue twisters slowly
            first, then gradually increase your speed. Focus on clear
            pronunciation!
          </p>

          <h3>Level 1: Beginner</h3>
          <div class="pronunciation-item">
            <strong>Red lorry, yellow lorry</strong>
            <br /><small style="color: #666"
              >Practice: /r/ and /l/ sounds</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>She sells seashells by the seashore</strong>
            <br /><small style="color: #666"
              >Practice: /s/ and / É/ sounds</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>How much wood would a woodchuck chuck?</strong>
            <br /><small style="color: #666"
              >Practice: /w/ and /t É/ sounds</small
            >
          </div>

          <h3>Level 2: Intermediate</h3>
          <div class="pronunciation-item">
            <strong>Peter Piper picked a peck of pickled peppers</strong>
            <br /><small style="color: #666"
              >Practice: /p/ sound and consonant clusters</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>I scream, you scream, we all scream for ice cream</strong>
            <br /><small style="color: #666"
              >Practice: vowel sounds and rhythm</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>Eleven benevolent elephants</strong>
            <br /><small style="color: #666"
              >Practice: /…õ/ and /l/ sounds</small
            >
          </div>

          <h3>Level 3: Advanced</h3>
          <div class="pronunciation-item">
            <strong>The sixth sick sheik's sixth sheep's sick</strong>
            <br /><small style="color: #666"
              >Practice: /s/, / É/, /ks/ sounds - one of the hardest!</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>Irish wristwatch, Swiss wristwatch</strong>
            <br /><small style="color: #666"
              >Practice: consonant clusters and /r/ sound</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>Pad kid poured curd pulled cod</strong>
            <br /><small style="color: #666"
              >Practice: /p/, /k/, /d/ sounds - scientifically proven
              difficult!</small
            >
          </div>
        </div>

        <div class="card">
          <h2>üéØ Twister Challenge</h2>
          <div class="big-text" id="randomTwister"></div>
          <div class="center">
            <button class="action-btn" onclick="newTwister()">
              üîÑ New Twister
            </button>
          </div>
          <div class="tip-box" style="margin-top: 20px">
            <strong>Pro Tip:</strong> Don't rush! Clear pronunciation is more
            important than speed. Practice 3 times slowly, then try faster.
          </div>
        </div>
      </section>

      <!-- INTONATION -->
      <section id="intonation">
        <div class="card">
          <h2>üìà Intonation Patterns</h2>
          <p>
            <strong>Important:</strong> Intonation (pitch changes) affects
            meaning in English. Practice these patterns with your teacher.
          </p>

          <h3>Rising Intonation ‚ÜóÔ∏è (Questions)</h3>
          <div class="pronunciation-item">
            <strong>Are you coming to the party? ‚ÜóÔ∏è</strong>
            <br /><small style="color: #666"
              >Yes/No questions go UP at the end</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>Do you like coffee? ‚ÜóÔ∏è</strong>
            <br /><small style="color: #666"
              >Voice rises on the last word</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>Can you help me? ‚ÜóÔ∏è</strong>
            <br /><small style="color: #666"
              >Shows you're asking, not telling</small
            >
          </div>

          <h3>Falling Intonation ‚ÜòÔ∏è (Statements & Commands)</h3>
          <div class="pronunciation-item">
            <strong>I love learning English. ‚ÜòÔ∏è</strong>
            <br /><small style="color: #666"
              >Statements go DOWN at the end</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>Please close the door. ‚ÜòÔ∏è</strong>
            <br /><small style="color: #666">Commands and requests fall</small>
          </div>
          <div class="pronunciation-item">
            <strong>What time is it? ‚ÜòÔ∏è</strong>
            <br /><small style="color: #666"
              >WH-questions (who, what, where, when, why, how) fall</small
            >
          </div>

          <h3>Rising-Falling Intonation ‚ÜóÔ∏è‚ÜòÔ∏è (Lists & Choices)</h3>
          <div class="pronunciation-item">
            <strong>I need eggs ‚ÜóÔ∏è, milk ‚ÜóÔ∏è, bread ‚ÜóÔ∏è, and butter. ‚ÜòÔ∏è</strong>
            <br /><small style="color: #666"
              >Rise on each item, fall on the last</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>Would you like tea ‚ÜóÔ∏è or coffee? ‚ÜòÔ∏è</strong>
            <br /><small style="color: #666"
              >Rise on first option, fall on last</small
            >
          </div>

          <h3>Special Cases</h3>
          <div class="pronunciation-item">
            <strong>Really? ‚ÜóÔ∏è‚ÜòÔ∏è (Surprise)</strong>
            <br /><small style="color: #666"
              >Rise sharply then fall shows surprise or disbelief</small
            >
          </div>
          <div class="pronunciation-item">
            <strong>You're going WHERE? ‚ÜóÔ∏è</strong>
            <br /><small style="color: #666"
              >Heavy stress + rise shows strong surprise</small
            >
          </div>
        </div>

        <div class="card">
          <h2>üé≠ Emotion Practice</h2>
          <p>
            Say "Hello" with different emotions. Notice how intonation changes
            the meaning!
          </p>
          <div class="grid-container">
            <div class="mini-card">
              <h4>üòä Friendly</h4>
              <p>Warm, rising tone</p>
              <p>"Hello! ‚ÜóÔ∏è"</p>
            </div>
            <div class="mini-card">
              <h4>üòê Neutral</h4>
              <p>Flat, even tone</p>
              <p>"Hello. ‚Üí"</p>
            </div>
            <div class="mini-card">
              <h4>üò≤ Surprised</h4>
              <p>High pitch, rise-fall</p>
              <p>"Hello?! ‚ÜóÔ∏è‚ÜòÔ∏è"</p>
            </div>
            <div class="mini-card">
              <h4>üòï Confused</h4>
              <p>Questioning rise</p>
              <p>"Hello? ‚ÜóÔ∏è"</p>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>üé≤ Practice Sentences</h2>
          <div class="big-text" id="intonationSentence"></div>
          <div class="center">
            <button class="action-btn" onclick="newIntonationSentence()">
              üîÑ New Sentence
            </button>
          </div>
        </div>
      </section>

      <!-- SPEAKING -->
      <section id="speaking">
        <div class="card">
          <h2>üí¨ Speaking Activity</h2>
          <p>
            <strong>Instructions:</strong> Speak for 1‚Äì2 minutes on the topic
            below. Your teacher will ask follow‚Äëup questions to extend the
            conversation.
          </p>
          <div class="big-text" id="speakingPrompt"></div>
          <div class="center">
            <button class="action-btn" onclick="newSpeakingPrompt()">
              üîÑ New Topic
            </button>
          </div>
        </div>

        <div class="card">
          <h2>üé§ Speaking Tips</h2>
          <div class="grid-container">
            <div class="mini-card">
              <h4>Structure</h4>
              <p>‚úì Introduction</p>
              <p>‚úì Main points (2-3)</p>
              <p>‚úì Conclusion</p>
            </div>
            <div class="mini-card">
              <h4>Language</h4>
              <p>‚úì Use linking words</p>
              <p>‚úì Give examples</p>
              <p>‚úì Vary your vocabulary</p>
            </div>
            <div class="mini-card">
              <h4>Delivery</h4>
              <p>‚úì Speak clearly</p>
              <p>‚úì Use pauses</p>
              <p>‚úì Make eye contact</p>
            </div>
            <div class="mini-card">
              <h4>Content</h4>
              <p>‚úì Stay on topic</p>
              <p>‚úì Share opinions</p>
              <p>‚úì Use personal experiences</p>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>üîó Useful Phrases</h2>
          <h3>Expressing Opinions</h3>
          <ul>
            <li>In my opinion...</li>
            <li>I believe that...</li>
            <li>From my perspective...</li>
            <li>The way I see it...</li>
          </ul>

          <h3>Adding Information</h3>
          <ul>
            <li>Furthermore...</li>
            <li>In addition to that...</li>
            <li>Another point is...</li>
            <li>What's more...</li>
          </ul>

          <h3>Giving Examples</h3>
          <ul>
            <li>For instance...</li>
            <li>A good example of this is...</li>
            <li>Let me illustrate...</li>
            <li>To give you an example...</li>
          </ul>
        </div>
      </section>

      <!-- GAME -->
      <section id="game">
        <div class="card">
          <h2>üéÆ Quick Speaking Game: Taboo</h2>
          <p>
            <strong>Rules:</strong> Describe the word below WITHOUT saying it.
            Your teacher will time you for 30 seconds. Try to get them to guess!
          </p>
          <div class="big-text" id="gameWord"></div>
          <div class="center">
            <button class="action-btn" onclick="newGameWord()">
              üé≤ New Word
            </button>
          </div>
        </div>

        <div class="card">
          <h2>üéØ Game Strategies</h2>
          <div class="tip-box">
            <strong>Pro Tips:</strong> Use synonyms, describe function/purpose,
            give examples, or explain where you'd find it!
          </div>
          <div class="grid-container">
            <div class="mini-card">
              <h4>Use Synonyms</h4>
              <p>"It's similar to..."</p>
              <p>"Another word for this is..."</p>
            </div>
            <div class="mini-card">
              <h4>Describe Function</h4>
              <p>"You use it to..."</p>
              <p>"It helps you..."</p>
            </div>
            <div class="mini-card">
              <h4>Give Context</h4>
              <p>"You find it in..."</p>
              <p>"People do this when..."</p>
            </div>
            <div class="mini-card">
              <h4>Compare</h4>
              <p>"It's like... but..."</p>
              <p>"It's bigger/smaller than..."</p>
            </div>
          </div>
        </div>

        <div class="progress-tracker">
          <h3>Session Progress</h3>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%">
              0%
            </div>
          </div>
          <p>Words described: <span id="wordCount">0</span></p>
        </div>
      </section>
    </div>
    <!-- End container -->

    <!-- Quick Reference Guide -->
    <div class="quick-ref">
      <button class="quick-ref-btn" onclick="toggleQuickRef()">
        üìö Quick Reference
      </button>
      <div class="quick-ref-panel" id="quickRefPanel">
        <h3 style="margin-top: 0; color: #667eea">Quick Pronunciation Guide</h3>

        <div class="ref-section">
          <h4>üî§ Common Silent Letters</h4>
          <p><strong>K:</strong> knife, know, knee</p>
          <p><strong>B:</strong> climb, doubt, thumb</p>
          <p><strong>L:</strong> walk, talk, half</p>
          <p><strong>W:</strong> write, wrong, answer</p>
        </div>

        <div class="ref-section">
          <h4>üìä Word Stress Rules</h4>
          <p><strong>2-syllable nouns:</strong> 1st syllable (PREsent)</p>
          <p><strong>2-syllable verbs:</strong> 2nd syllable (preSENT)</p>
          <p><strong>-tion/-sion:</strong> Before suffix (educaTION)</p>
          <p><strong>-ic:</strong> Before suffix (econoMIC)</p>
        </div>

        <div class="ref-section">
          <h4>üéµ Intonation Basics</h4>
          <p><strong>‚ÜóÔ∏è Rising:</strong> Yes/No questions</p>
          <p><strong>‚ÜòÔ∏è Falling:</strong> Statements, WH-questions</p>
          <p><strong>‚ÜóÔ∏è‚ÜòÔ∏è Rise-fall:</strong> Surprise, lists</p>
        </div>

        <div class="ref-section">
          <h4>üó£Ô∏è TH Sounds</h4>
          <p><strong>Voiced /√∞/:</strong> this, that, the</p>
          <p><strong>Voiceless /Œ∏/:</strong> think, thank</p>
        </div>

        <div class="ref-section">
          <h4>‚úÖ Practice Tips</h4>
          <p>‚Ä¢ Record yourself speaking</p>
          <p>‚Ä¢ Focus on one sound at a time</p>
          <p>‚Ä¢ Practice with minimal pairs</p>
          <p>‚Ä¢ Listen to native speakers</p>
          <p>‚Ä¢ Don't be afraid to make mistakes!</p>
        </div>
      </div>
    </div>

    <script>
      let activitiesCompleted = 0;
      let wordsDescribed = 0;

      // Navigation
      function showSection(id) {
        document
          .querySelectorAll("section")
          .forEach((sec) => sec.classList.remove("active"));
        document.getElementById(id).classList.add("active");

        // Update nav button states
        document
          .querySelectorAll(".nav-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");
      }

      /* WARM UP QUESTIONS */
      const warmupQuestions = [
        "What did you do yesterday?",
        "What is something you are good at?",
        "What is your favorite food and why?",
        "What is one goal you have this year?",
        "If you could travel anywhere, where would you go?",
        "What do you usually do on weekends?",
        "What is something that recently surprised you?",
        "Who is the most interesting person you know?",
        "What was the last book or article you read?",
        "What hobby would you like to learn?",
        "What is your morning routine like?",
        "What makes you feel happy?",
        "If you could have dinner with anyone, who would it be?",
        "What is your favorite season and why?",
        "What technology do you use every day?",
        "What is something you're proud of?",
        "What do you like about your job or studies?",
        "What is a tradition in your culture?",
        "What is the best advice you've ever received?",
        "What would you do with an extra hour each day?",
      ];

      function newWarmupQuestion() {
        const q =
          warmupQuestions[Math.floor(Math.random() * warmupQuestions.length)];
        document.getElementById("warmupQuestion").textContent = q;
      }

      newWarmupQuestion();

      /* PRONUNCIATION */
      const words = [
        {
          word: "Comfortable",
          phonetic: "/Ààk åmft…ôrb…ôl/",
          tip: "3 syllables, not 4",
        },
        {
          word: "Vegetable",
          phonetic: "/Ààved ít…ôb…ôl/",
          tip: "3 syllables, not 4",
        },
        {
          word: "Schedule",
          phonetic: "/Ààsked íul/ (US) /Àà ÉedjuÀêl/ (UK)",
          tip: "Two pronunciations",
        },
        { word: "Island", phonetic: "/Ààa…™l…ônd/", tip: "Silent 's'" },
        { word: "Clothes", phonetic: "/klo ä√∞z/", tip: "TH sound, not 's'" },
        { word: "Receipt", phonetic: "/r…™ÀàsiÀêt/", tip: "Silent 'p'" },
        { word: "Focus", phonetic: "/Ààfo äk…ôs/", tip: "First syllable stress" },
        {
          word: "Develop",
          phonetic: "/d…™Ààvel…ôp/",
          tip: "Second syllable stress",
        },
        { word: "Literature", phonetic: "/Ààl…™t…ôr…ôt É…ôr/", tip: "4 syllables" },
        { word: "Colleague", phonetic: "/Ààk…ëliÀêg/", tip: "Silent 'ue'" },
        {
          word: "Pronunciation",
          phonetic: "/pr…ôÀån ånsiÀàe…™ É…ôn/",
          tip: "No 'o' sound",
        },
        { word: "Salmon", phonetic: "/Ààs√¶m…ôn/", tip: "Silent 'l'" },
        { word: "Genre", phonetic: "/Àà í…ënr…ô/", tip: "French pronunciation" },
        {
          word: "Entrepreneur",
          phonetic: "/Àå…ëntr…ôpr…ôÀàn…úr/",
          tip: "French origin",
        },
        { word: "Wednesday", phonetic: "/Ààwenzde…™/", tip: "Silent 'd'" },
        { word: "Chocolate", phonetic: "/Ààt É…îkl…ôt/", tip: "2 syllables" },
        {
          word: "Probably",
          phonetic: "/Ààpr…ëb…ôbli/",
          tip: "3 syllables with second 'b'",
        },
        { word: "Jewelry", phonetic: "/Ààd íuÀê…ôlri/", tip: "3 syllables" },
        {
          word: "Government",
          phonetic: "/Àà…° åv…ôrnm…ônt/",
          tip: "Don't skip the 'n'",
        },
        {
          word: "Environment",
          phonetic: "/…™nÀàva…™r…ônm…ônt/",
          tip: "4 syllables",
        },
        {
          word: "Restaurant",
          phonetic: "/Ààrest…ôr…ënt/",
          tip: "No 'n' sound at end",
        },
        {
          word: "February",
          phonetic: "/Ààfebrueri/",
          tip: "Don't skip first 'r'",
        },
        {
          word: "Library",
          phonetic: "/Ààla…™breri/",
          tip: "Keep both 'r' sounds",
        },
        { word: "Specific", phonetic: "/sp…™Ààs…™f…™k/", tip: "Not 'pacific'" },
        { word: "Nuclear", phonetic: "/ÀànuÀêkli…ôr/", tip: "Not 'nucular'" },
      ];

      const sentences = [
        "I have lived here for five years.",
        "She gave me good advice.",
        "I didn‚Äôt do anything yesterday.",
        "He is married to a doctor.",
        "I‚Äôm used to waking up early.",
        "She suggested going home.",
        "I look forward to meeting you.",
        "He stopped smoking last year.",
        "I have been working all day.",
        "There are fewer people today.",
        "I need to do some research.",
        "She made a decision quickly.",
        "I‚Äôm responsible for the project.",
        "He apologized for being late.",
        "I prefer working from home.",
        "She‚Äôs interested in learning English.",
        "I forgot to lock the door.",
        "He used to live in Canada.",
        "I‚Äôm thinking about changing jobs.",
        "She depends on public transport.",
      ];

      const wordList = document.getElementById("wordList");
      words.forEach((w) => {
        const div = document.createElement("div");
        div.className = "pronunciation-item";
        div.innerHTML = `<strong>${w.word}</strong> <span class="phonetic">${w.phonetic}</span><br><small style="color: #666;">${w.tip}</small>`;
        wordList.appendChild(div);
      });

      const sentenceList = document.getElementById("sentenceList");
      sentences.forEach((s) => {
        const div = document.createElement("div");
        div.className = "pronunciation-item";
        // Handle both string and object formats
        const sentence = typeof s === "string" ? s : s.sentence;
        const focus =
          typeof s === "object" && s.focus
            ? s.focus
            : "Practice pronunciation and grammar";
        div.innerHTML = `"${sentence}"<br><small style="color: #666;"><strong>Focus:</strong> ${focus}</small>`;
        sentenceList.appendChild(div);
      });

      /* SPEAKING PROMPTS */
      const speakingPrompts = [
        "Describe your typical workday.",
        "Talk about a challenge you recently faced.",
        "Describe your hometown or city.",
        "Talk about a movie or TV series you enjoyed.",
        "Describe a person who inspires you.",
        "Talk about your plans for the future.",
        "Describe a memorable vacation or trip.",
        "Talk about a skill you'd like to learn.",
        "Describe your perfect weekend.",
        "Talk about the importance of technology in your life.",
        "Describe a tradition in your family or culture.",
        "Talk about your favorite way to relax.",
        "Describe a time when you helped someone.",
        "Talk about the benefits of learning English.",
        "Describe your ideal job.",
        "Talk about a book that influenced you.",
        "Describe changes in your city over the years.",
        "Talk about healthy lifestyle habits.",
        "Describe a meal you love to cook.",
        "Talk about the role of social media today.",
      ];

      function newSpeakingPrompt() {
        const p =
          speakingPrompts[Math.floor(Math.random() * speakingPrompts.length)];
        document.getElementById("speakingPrompt").textContent = p;
      }

      newSpeakingPrompt();

      /* GAME WORDS */
      const gameWords = [
        "Airport",
        "Interview",
        "Smartphone",
        "Restaurant",
        "Exercise",
        "Holiday",
        "Traffic",
        "Weather",
        "Meeting",
        "Coffee",
        "Library",
        "Hospital",
        "Supermarket",
        "University",
        "Neighbor",
        "Passport",
        "Budget",
        "Schedule",
        "Presentation",
        "Vacation",
        "Laptop",
        "Kitchen",
        "Birthday",
        "Concert",
        "Museum",
        "Dentist",
        "Subway",
        "Password",
        "Recipe",
        "Gym",
        "Email",
        "Breakfast",
        "Pollution",
        "Tourist",
        "Shopping",
        "Ticket",
        "Magazine",
        "Dessert",
        "Conversation",
        "Weekend",
      ];

      function newGameWord() {
        const g = gameWords[Math.floor(Math.random() * gameWords.length)];
        document.getElementById("gameWord").textContent = g;
        wordsDescribed++;
        document.getElementById("wordCount").textContent = wordsDescribed;
        updateProgress();
      }

      function updateProgress() {
        const progress = Math.min((wordsDescribed / 10) * 100, 100);
        const progressFill = document.getElementById("progressFill");
        progressFill.style.width = progress + "%";
        progressFill.textContent = Math.round(progress) + "%";
      }

      newGameWord();

      // Initialize first nav button as active
      document.querySelector(".nav-btn").classList.add("active");

      /* TONGUE TWISTERS */
      const tongueTwisters = [
        "Red lorry, yellow lorry",
        "She sells seashells by the seashore",
        "How much wood would a woodchuck chuck?",
        "Peter Piper picked a peck of pickled peppers",
        "I scream, you scream, we all scream for ice cream",
        "Eleven benevolent elephants",
        "The sixth sick sheik's sixth sheep's sick",
        "Irish wristwatch, Swiss wristwatch",
        "Pad kid poured curd pulled cod",
        "Unique New York, you know you need unique New York",
        "Toy boat, toy boat, toy boat",
        "Which witch is which?",
        "Fred fed Ted bread and Ted fed Fred bread",
        "I saw Susie sitting in a shoeshine shop",
      ];

      function newTwister() {
        const t =
          tongueTwisters[Math.floor(Math.random() * tongueTwisters.length)];
        document.getElementById("randomTwister").textContent = t;
      }

      newTwister();

      /* INTONATION */
      const intonationSentences = [
        { text: "Can you help me?", pattern: "Rising ‚ÜóÔ∏è (Yes/No question)" },
        { text: "Where are you going?", pattern: "Falling ‚ÜòÔ∏è (WH-question)" },
        {
          text: "I need apples, oranges, and bananas.",
          pattern: "Rising on each, falling on last",
        },
        {
          text: "Would you like tea or coffee?",
          pattern: "Rising then falling",
        },
        {
          text: "You're going to Paris?!",
          pattern: "Rising-falling (surprise)",
        },
        { text: "That's amazing!", pattern: "Falling with enthusiasm" },
        { text: "Are you serious?", pattern: "Rising (seeking confirmation)" },
        { text: "Please sit down.", pattern: "Falling (polite command)" },
        {
          text: "I love pizza, pasta, and ice cream.",
          pattern: "List pattern",
        },
        { text: "Really?", pattern: "Sharp rise-fall (disbelief)" },
      ];

      function newIntonationSentence() {
        const s =
          intonationSentences[
            Math.floor(Math.random() * intonationSentences.length)
          ];
        const display = document.getElementById("intonationSentence");
        display.innerHTML = `${s.text}<br><small style="color: white; font-size: 0.8em;">${s.pattern}</small>`;
      }

      newIntonationSentence();

      /* RECORDING FEATURE */
      let mediaRecorder;
      let audioChunks = [];
      let isRecording = false;

      async function toggleRecording() {
        const btn = document.getElementById("recordBtn");
        const status = document.getElementById("recordingStatus");

        if (!isRecording) {
          try {
            const stream = await navigator.mediaDevices.getUserMedia({
              audio: true,
            });
            mediaRecorder = new MediaRecorder(stream);

            mediaRecorder.ondataavailable = (event) => {
              audioChunks.push(event.data);
            };

            mediaRecorder.onstop = () => {
              const audioBlob = new Blob(audioChunks, { type: "audio/wav" });
              const audioUrl = URL.createObjectURL(audioBlob);
              const audio = new Audio(audioUrl);

              status.innerHTML = `
                <button onclick="playRecording(this)" style="padding: 8px 16px; border-radius: 6px; border: none; background: #4CAF50; color: white; cursor: pointer; margin: 5px;">
                  ‚ñ∂Ô∏è Play Recording
                </button>
                <button onclick="deleteRecording()" style="padding: 8px 16px; border-radius: 6px; border: none; background: #f44336; color: white; cursor: pointer; margin: 5px;">
                  üóëÔ∏è Delete
                </button>
              `;

              window.lastRecording = audio;
              audioChunks = [];
            };

            mediaRecorder.start();
            isRecording = true;
            btn.textContent = "‚èπÔ∏è Stop Recording";
            btn.style.background =
              "linear-gradient(135deg, #ff6b6b 0%, #c92a2a 100%)";
            status.textContent = "üî¥ Recording...";
            status.style.color = "#ff6b6b";
          } catch (err) {
            status.textContent = "‚ùå Microphone access denied";
            status.style.color = "#ff6b6b";
            console.error("Error accessing microphone:", err);
          }
        } else {
          mediaRecorder.stop();
          mediaRecorder.stream.getTracks().forEach((track) => track.stop());
          isRecording = false;
          btn.textContent = "üéôÔ∏è Start Recording";
          btn.style.background =
            "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)";
          status.textContent = "‚úÖ Recording saved!";
          status.style.color = "#4CAF50";
        }
      }

      function playRecording(btn) {
        if (window.lastRecording) {
          window.lastRecording.play();
          btn.textContent = "‚ñ∂Ô∏è Playing...";
          window.lastRecording.onended = () => {
            btn.textContent = "‚ñ∂Ô∏è Play Recording";
          };
        }
      }

      function deleteRecording() {
        window.lastRecording = null;
        document.getElementById("recordingStatus").textContent = "";
      }

      /* SENTENCE BUILDER */
      const sentenceBuilderChallenges = [
        {
          target: "I have lived here for five years.",
          words: ["I", "have", "lived", "here", "for", "five", "years", "."],
        },
        {
          target: "She gave me good advice.",
          words: ["She", "gave", "me", "good", "advice", "."],
        },
        {
          target: "He is married to a doctor.",
          words: ["He", "is", "married", "to", "a", "doctor", "."],
        },
        {
          target: "I look forward to meeting you.",
          words: ["I", "look", "forward", "to", "meeting", "you", "."],
        },
        {
          target: "She suggested going home.",
          words: ["She", "suggested", "going", "home", "."],
        },
        {
          target: "I'm used to waking up early.",
          words: ["I'm", "used", "to", "waking", "up", "early", "."],
        },
        {
          target: "There are fewer people today.",
          words: ["There", "are", "fewer", "people", "today", "."],
        },
        {
          target: "I need to do some research.",
          words: ["I", "need", "to", "do", "some", "research", "."],
        },
      ];

      let currentChallenge = null;
      let selectedWords = [];

      function newSentenceBuilder() {
        currentChallenge =
          sentenceBuilderChallenges[
            Math.floor(Math.random() * sentenceBuilderChallenges.length)
          ];
        selectedWords = [];

        document.getElementById("sentenceTarget").textContent =
          currentChallenge.target;
        document.getElementById("sentenceResult").textContent = "";

        const wordBank = document.getElementById("wordBank");
        wordBank.innerHTML = "";

        const shuffled = [...currentChallenge.words].sort(
          () => Math.random() - 0.5
        );
        shuffled.forEach((word, index) => {
          const btn = document.createElement("button");
          btn.textContent = word;
          btn.onclick = () => selectWord(word, index);
          btn.id = `word-${index}`;
          btn.style.cssText =
            "padding: 10px 18px; border: 2px solid #667eea; border-radius: 8px; background: white; color: #667eea; cursor: pointer; font-weight: bold; transition: all 0.3s ease;";
          wordBank.appendChild(btn);
        });

        document.getElementById("sentenceConstruction").innerHTML =
          '<span style="color: #999; font-style: italic;">Click words to build the sentence...</span>';
      }

      function selectWord(word, btnId) {
        const btn = document.getElementById(`word-${btnId}`);
        if (btn.disabled) return;

        selectedWords.push(word);
        btn.disabled = true;
        btn.style.opacity = "0.3";
        btn.style.cursor = "not-allowed";

        updateConstruction();
      }

      function updateConstruction() {
        const construction = document.getElementById("sentenceConstruction");
        if (selectedWords.length === 0) {
          construction.innerHTML =
            '<span style="color: #999; font-style: italic;">Click words to build the sentence...</span>';
        } else {
          construction.innerHTML = selectedWords
            .map(
              (word, i) =>
                `<span style="padding: 8px 14px; background: #667eea; color: white; border-radius: 6px; font-weight: bold; cursor: pointer;" onclick="removeWord(${i})">${word}</span>`
            )
            .join(" ");
        }
      }

      function removeWord(index) {
        selectedWords.splice(index, 1);
        resetSentence();
        selectedWords.forEach((word, i) => {
          const buttons = Array.from(
            document.getElementById("wordBank").children
          );
          const btn = buttons.find(
            (b) => b.textContent === word && !b.disabled
          );
          if (btn) {
            btn.disabled = true;
            btn.style.opacity = "0.3";
          }
        });
        updateConstruction();
      }

      function checkSentence() {
        const userSentence = selectedWords.join(" ");
        const result = document.getElementById("sentenceResult");

        if (userSentence === currentChallenge.target) {
          result.textContent = "‚úÖ Perfect! Great job!";
          result.style.color = "#4CAF50";
        } else {
          result.textContent = "‚ùå Not quite. Try again!";
          result.style.color = "#f44336";
        }
      }

      function resetSentence() {
        selectedWords = [];
        const buttons = document.getElementById("wordBank").children;
        Array.from(buttons).forEach((btn) => {
          btn.disabled = false;
          btn.style.opacity = "1";
          btn.style.cursor = "pointer";
        });
        updateConstruction();
        document.getElementById("sentenceResult").textContent = "";
      }

      newSentenceBuilder();

      /* QUICK REFERENCE TOGGLE */
      function toggleQuickRef() {
        const panel = document.getElementById("quickRefPanel");
        panel.classList.toggle("show");
      }

      // Close quick ref when clicking outside
      document.addEventListener("click", function (event) {
        const panel = document.getElementById("quickRefPanel");
        const btn = document.querySelector(".quick-ref-btn");
        if (!panel.contains(event.target) && !btn.contains(event.target)) {
          panel.classList.remove("show");
        }
      });
    </script>
  </body>
</html>
