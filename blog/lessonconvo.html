<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Interactive ESL lesson activities including conversation starters, vocabulary games, grammar exercises, and speaking practice for English language learners"
    />
    <meta
      name="keywords"
      content="ESL, English learning, conversation practice, vocabulary games, grammar exercises, interactive lessons"
    />
    <title>
      Interactive ESL Lesson Activities | Conversation & Vocabulary Practice
    </title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
      }

      h1 {
        text-align: center;
        color: white;
        margin-bottom: 30px;
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .section {
        background: white;
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 20px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      .section h2 {
        color: #667eea;
        margin-bottom: 20px;
        font-size: 1.8em;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
      }

      .conversation-item {
        background: #f8f9ff;
        padding: 15px;
        margin: 10px 0;
        border-radius: 10px;
        border-left: 4px solid #667eea;
        font-size: 1.1em;
      }

      button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
        font-weight: bold;
        transition: transform 0.2s, box-shadow 0.2s;
        margin: 5px;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      button:active {
        transform: translateY(0);
      }

      .game-area {
        text-align: center;
      }

      .scrambled-word {
        font-size: 2em;
        color: #764ba2;
        font-weight: bold;
        margin: 20px 0;
        letter-spacing: 5px;
      }

      input[type="text"] {
        padding: 12px;
        font-size: 1.1em;
        border: 2px solid #667eea;
        border-radius: 8px;
        width: 80%;
        max-width: 300px;
        margin: 10px 0;
      }

      .result {
        font-size: 1.3em;
        font-weight: bold;
        margin-top: 15px;
        min-height: 30px;
      }

      .correct {
        color: #10b981;
      }

      .incorrect {
        color: #ef4444;
      }

      .generator-output {
        background: #f8f9ff;
        padding: 20px;
        border-radius: 10px;
        margin-top: 15px;
        min-height: 60px;
        font-size: 1.2em;
        border: 2px dashed #667eea;
      }

      .score {
        text-align: center;
        font-size: 1.5em;
        color: #667eea;
        font-weight: bold;
        margin-top: 10px;
      }

      .timer {
        font-size: 2em;
        color: #764ba2;
        font-weight: bold;
        text-align: center;
        margin: 15px 0;
      }

      .button-group {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        margin-top: 15px;
      }

      .vocab-word {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        margin: 5px;
        display: inline-block;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .vocab-word:hover {
        transform: scale(1.05);
      }

      .pronunciation-guide {
        font-style: italic;
        color: #666;
        font-size: 0.9em;
        margin: 5px 0;
      }

      .definition {
        background: #e8f2ff;
        padding: 10px;
        border-radius: 8px;
        margin: 10px 0;
        border-left: 4px solid #667eea;
      }

      .difficulty-level {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8em;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .beginner {
        background: #10b981;
        color: white;
      }

      .intermediate {
        background: #f59e0b;
        color: white;
      }

      .advanced {
        background: #ef4444;
        color: white;
      }

      .grammar-card {
        background: #f8f9ff;
        border: 2px solid #667eea;
        border-radius: 12px;
        padding: 20px;
        margin: 15px 0;
      }

      .grammar-title {
        color: #667eea;
        font-weight: bold;
        font-size: 1.2em;
        margin-bottom: 10px;
      }

      .example-sentence {
        background: #e8f2ff;
        padding: 12px;
        border-radius: 8px;
        margin: 8px 0;
        font-style: italic;
      }

      .highlight {
        background: #fef3c7;
        padding: 2px 4px;
        border-radius: 4px;
        font-weight: bold;
      }

      .progress-bar {
        width: 100%;
        height: 20px;
        background: #e5e7eb;
        border-radius: 10px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transition: width 0.3s ease;
        border-radius: 10px;
      }

      .speaking-prompt {
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        color: white;
        padding: 20px;
        border-radius: 12px;
        margin: 15px 0;
        text-align: center;
        font-size: 1.1em;
      }

      .level-selector {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 15px 0;
      }

      .level-btn {
        padding: 8px 16px;
        border: 2px solid #667eea;
        background: white;
        color: #667eea;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .level-btn.active {
        background: #667eea;
        color: white;
      }

      .audio-control {
        background: #10b981;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1em;
        margin: 10px 5px;
        transition: all 0.2s;
      }

      .audio-control:hover {
        background: #059669;
        transform: scale(1.05);
      }

      .word-definition {
        display: none;
        background: #f0f9ff;
        padding: 15px;
        border-radius: 8px;
        margin-top: 10px;
        border-left: 4px solid #0ea5e9;
      }

      .pronunciation-practice {
        background: #fef3c7;
        padding: 20px;
        border-radius: 12px;
        margin: 15px 0;
      }

      @media (max-width: 600px) {
        body {
          padding: 10px;
        }

        h1 {
          font-size: 1.8em;
        }

        .section h2 {
          font-size: 1.4em;
        }

        .scrambled-word {
          font-size: 1.5em;
          letter-spacing: 2px;
        }

        .level-selector {
          flex-direction: column;
        }

        .level-btn {
          margin: 5px 0;
        }

        .button-group {
          flex-direction: column;
          align-items: center;
        }

        button {
          min-width: 200px;
          margin: 5px;
        }

        input[type="text"] {
          width: 95%;
        }

        .vocab-word {
          display: block;
          margin: 10px 0;
        }

        .pronunciation-practice {
          padding: 15px;
        }
      }

      /* Accessibility improvements */
      button:focus {
        outline: 3px solid #fbbf24;
        outline-offset: 2px;
      }

      .vocab-word:focus {
        outline: 3px solid #fbbf24;
        outline-offset: 2px;
      }

      /* Loading animation */
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid #f3f3f3;
        border-top: 3px solid #667eea;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Success animations */
      @keyframes bounce {
        0%,
        20%,
        60%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        80% {
          transform: translateY(-5px);
        }
      }

      .success-animation {
        animation: bounce 0.6s ease;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div style="margin-bottom: 20px">
        <button
          onclick="window.history.back()"
          style="background: #6b7280; margin-bottom: 10px"
        >
          ‚Üê Back to Blog
        </button>
      </div>

      <h1>üéì Interactive ESL Lesson Activities</h1>

      <div
        class="section"
        style="
          text-align: center;
          background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        "
      >
        <h3 style="color: #0369a1; margin-bottom: 15px">
          Welcome to Your Personal English Learning Hub!
        </h3>
        <p style="font-size: 1.1em; color: #334155; margin-bottom: 0">
          Practice conversations, expand vocabulary, master grammar, and improve
          pronunciation with interactive activities designed for all skill
          levels.
        </p>
      </div>

      <!-- Progress Tracker -->
      <div class="section">
        <h2>üìä Your Learning Progress</h2>
        <p>Activities Completed Today: <span id="activitiesCount">0</span>/8</p>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
      </div>

      <!-- Conversation Questions Section -->
      <div class="section">
        <h2>üí¨ Conversation Starters</h2>
        <div class="level-selector">
          <button
            class="level-btn active"
            onclick="setConversationLevel('beginner')"
          >
            Beginner
          </button>
          <button
            class="level-btn"
            onclick="setConversationLevel('intermediate')"
          >
            Intermediate
          </button>
          <button class="level-btn" onclick="setConversationLevel('advanced')">
            Advanced
          </button>
        </div>
        <div id="conversationQuestions">
          <div class="conversation-item">
            Select your level and click the button below to get a conversation
            question!
          </div>
        </div>
        <div class="button-group">
          <button onclick="generateConversationQuestion()">
            Get Random Question
          </button>
          <button
            class="audio-control"
            onclick="speakText(document.querySelector('#conversationQuestions .conversation-item').textContent)"
          >
            üîä Listen
          </button>
        </div>
        <div class="speaking-prompt" id="speakingTips" style="display: none">
          üí° <strong>Speaking Tip:</strong> Take 30 seconds to think about your
          answer, then speak for 1-2 minutes!
        </div>
      </div>

      <!-- Word Unscramble Game -->
      <div class="section">
        <h2>üéÆ Word Unscramble Game</h2>
        <div class="game-area">
          <p>Unscramble this word:</p>
          <div class="scrambled-word" id="scrambledWord">
            Click "New Word" to start!
          </div>
          <div>
            <input
              type="text"
              id="answerInput"
              placeholder="Type your answer here"
              onkeypress="checkEnter(event)"
            />
          </div>
          <div class="button-group">
            <button onclick="newWord()">New Word</button>
            <button onclick="checkAnswer()">Check Answer</button>
            <button onclick="showHint()">Hint</button>
          </div>
          <div class="result" id="result"></div>
          <div class="score">Score: <span id="score">0</span></div>
        </div>
      </div>

      <!-- Random Generators -->
      <div class="section">
        <h2>üé≤ Random Generators</h2>

        <h3 style="color: #764ba2; margin: 15px 0">
          Vocabulary Word Generator
        </h3>
        <button onclick="generateWord()">Generate Random Word</button>
        <div class="generator-output" id="wordOutput">
          Click to generate a word...
        </div>

        <h3 style="color: #764ba2; margin: 15px 0">
          Discussion Question Generator
        </h3>
        <button onclick="generateQuestion()">Generate Question</button>
        <div class="generator-output" id="questionOutput">
          Click to generate a question...
        </div>

        <h3 style="color: #764ba2; margin: 15px 0">Activity Timer</h3>
        <div class="button-group">
          <button onclick="setTimer(1)">1 Minute</button>
          <button onclick="setTimer(3)">3 Minutes</button>
          <button onclick="setTimer(5)">5 Minutes</button>
          <button onclick="setTimer(10)">10 Minutes</button>
        </div>
        <div class="timer" id="timer">00:00</div>
        <div class="button-group">
          <button onclick="startTimer()">Start</button>
          <button onclick="pauseTimer()">Pause</button>
          <button onclick="resetTimer()">Reset</button>
        </div>
      </div>

      <!-- Grammar Focus -->
      <div class="section">
        <h2>üìñ Grammar Focus</h2>
        <div class="level-selector">
          <button
            class="level-btn active"
            onclick="setGrammarLevel('beginner')"
          >
            Beginner
          </button>
          <button class="level-btn" onclick="setGrammarLevel('intermediate')">
            Intermediate
          </button>
          <button class="level-btn" onclick="setGrammarLevel('advanced')">
            Advanced
          </button>
        </div>
        <button onclick="generateGrammarLesson()">
          Generate Grammar Lesson
        </button>
        <div id="grammarContent"></div>
      </div>

      <!-- Vocabulary Practice -->
      <div class="section">
        <h2>üìö Vocabulary Builder</h2>
        <div class="level-selector">
          <button class="level-btn active" onclick="setVocabLevel('beginner')">
            Beginner
          </button>
          <button class="level-btn" onclick="setVocabLevel('intermediate')">
            Intermediate
          </button>
          <button class="level-btn" onclick="setVocabLevel('advanced')">
            Advanced
          </button>
        </div>
        <div class="button-group">
          <button onclick="generateVocabulary()">Generate 5 Words</button>
          <button onclick="generateVocabQuiz()">Vocabulary Quiz</button>
        </div>
        <div id="vocabList" style="margin-top: 20px; text-align: center"></div>
        <div id="vocabQuiz" style="margin-top: 20px; display: none"></div>
      </div>

      <!-- Pronunciation Practice -->
      <div class="section">
        <h2>üé§ Pronunciation Practice</h2>
        <div class="pronunciation-practice">
          <h3>
            Word of the Day: <span id="pronunciationWord">Communication</span>
          </h3>
          <div class="pronunciation-guide" id="pronunciationGuide">
            /k…ôÀåmjuÀên…™Ààke…™ É…ôn/
          </div>
          <div class="button-group">
            <button class="audio-control" onclick="speakPronunciationWord()">
              üîä Listen
            </button>
            <button onclick="generatePronunciationWord()">New Word</button>
          </div>
          <div class="example-sentence" id="pronunciationExample">
            "Good <span class="highlight">communication</span> is essential in
            any relationship."
          </div>
        </div>
      </div>

      <!-- Speaking Challenges -->
      <div class="section">
        <h2>üéØ Daily Speaking Challenges</h2>
        <button onclick="generateSpeakingChallenge()">
          Get Speaking Challenge
        </button>
        <div id="speakingChallenge" style="margin-top: 20px"></div>
      </div>

      <!-- Mini Lessons -->
      <div class="section">
        <h2>üåü Mini Language Lessons</h2>
        <div class="button-group">
          <button onclick="generateIdiomLesson()">Learn an Idiom</button>
          <button onclick="generatePhrasalVerbLesson()">Phrasal Verbs</button>
          <button onclick="generateCulturalTip()">Cultural Tips</button>
        </div>
        <div id="miniLessonContent" style="margin-top: 20px"></div>
      </div>
    </div>

    <script>
      // Progress Tracking
      let activitiesCompleted = 0;
      let currentConversationLevel = "beginner";
      let currentGrammarLevel = "beginner";
      let currentVocabLevel = "beginner";

      function updateProgress() {
        activitiesCompleted++;
        document.getElementById("activitiesCount").textContent =
          activitiesCompleted;
        const percentage = Math.min((activitiesCompleted / 8) * 100, 100);
        document.getElementById("progressFill").style.width = percentage + "%";

        if (activitiesCompleted >= 8) {
          setTimeout(() => {
            alert(
              "üéâ Congratulations! You've completed all activities for today!"
            );
          }, 500);
        }
      }

      // Speech Synthesis
      function speakText(text) {
        if ("speechSynthesis" in window) {
          const utterance = new SpeechSynthesisUtterance(text);
          utterance.rate = 0.8;
          utterance.pitch = 1;
          speechSynthesis.speak(utterance);
        } else {
          alert("Sorry, your browser doesn't support speech synthesis.");
        }
      }

      // Conversation Questions by Level
      const conversationQuestions = {
        beginner: [
          "How are you feeling today?",
          "What did you do this morning?",
          "What's your favorite thing to do on weekends?",
          "What did you have for breakfast today?",
          "What's your favorite hobby?",
          "What makes you happy?",
          "What's your favorite food?",
          "Do you prefer morning or evening?",
          "What's your favorite season and why?",
          "Do you have any pets?",
        ],
        intermediate: [
          "What's the most interesting place you've visited?",
          "How has technology changed your daily life?",
          "What's a skill you'd like to learn and why?",
          "Describe a memorable experience from your childhood.",
          "What do you think makes a good friend?",
          "How do you handle stress in your life?",
          "What's your opinion on social media?",
          "If you could change one thing about your city, what would it be?",
          "What's the best advice you've ever received?",
          "How do you think education will change in the future?",
        ],
        advanced: [
          "What role should governments play in addressing climate change?",
          "How do cultural differences impact international business?",
          "Discuss the ethical implications of artificial intelligence.",
          "What are the pros and cons of globalization?",
          "How has the concept of work-life balance evolved?",
          "What impact does media have on public opinion?",
          "How can societies balance individual freedom with collective responsibility?",
          "What are the long-term effects of urbanization?",
          "How does language shape our thinking and worldview?",
          "What role does art play in social change?",
        ],
      };

      function setConversationLevel(level) {
        currentConversationLevel = level;
        document
          .querySelectorAll(".level-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");
      }

      function generateConversationQuestion() {
        const questions = conversationQuestions[currentConversationLevel];
        const q = questions[Math.floor(Math.random() * questions.length)];
        document.getElementById(
          "conversationQuestions"
        ).innerHTML = `<div class="conversation-item"><span class="difficulty-level ${currentConversationLevel}">${currentConversationLevel.toUpperCase()}</span><br>${q}</div>`;
        document.getElementById("speakingTips").style.display = "block";
        updateProgress();
      }

      // Word Unscramble Game
      const words = [
        { word: "TEACHER", hint: "Person who educates students" },
        { word: "STUDENT", hint: "Person who learns" },
        { word: "COMPUTER", hint: "Electronic device for processing data" },
        { word: "LIBRARY", hint: "Place with many books" },
        { word: "LANGUAGE", hint: "System of communication" },
        { word: "HISTORY", hint: "Study of the past" },
        { word: "SCIENCE", hint: "Study of the natural world" },
        { word: "CREATIVE", hint: "Having imagination" },
        { word: "IMPORTANT", hint: "Of great significance" },
        { word: "BEAUTIFUL", hint: "Pleasing to look at" },
        { word: "FRIENDSHIP", hint: "Relationship between friends" },
        { word: "ADVENTURE", hint: "Exciting experience" },
        { word: "KNOWLEDGE", hint: "Information and skills" },
        { word: "PRACTICE", hint: "Repeated exercise to improve" },
        { word: "QUESTION", hint: "Something you ask" },
      ];

      let currentWord = {};
      let score = 0;

      function scramble(word) {
        const arr = word.split("");
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr.join("");
      }

      function newWord() {
        currentWord = words[Math.floor(Math.random() * words.length)];
        let scrambled = scramble(currentWord.word);
        while (scrambled === currentWord.word && currentWord.word.length > 3) {
          scrambled = scramble(currentWord.word);
        }
        document.getElementById("scrambledWord").textContent = scrambled;
        document.getElementById("answerInput").value = "";
        document.getElementById("result").textContent = "";
        document.getElementById("result").className = "result";
      }

      function checkAnswer() {
        const answer = document
          .getElementById("answerInput")
          .value.toUpperCase()
          .trim();
        const resultDiv = document.getElementById("result");

        if (!currentWord.word) {
          resultDiv.textContent = 'Click "New Word" to start!';
          return;
        }

        if (answer === currentWord.word) {
          resultDiv.textContent = "‚úì Correct! Great job!";
          resultDiv.className = "result correct";
          score += 10;
          document.getElementById("score").textContent = score;
          setTimeout(newWord, 2000);
        } else {
          resultDiv.textContent = "‚úó Try again!";
          resultDiv.className = "result incorrect";
        }
      }

      function showHint() {
        if (currentWord.hint) {
          document.getElementById(
            "result"
          ).textContent = `Hint: ${currentWord.hint}`;
          document.getElementById("result").className = "result";
        }
      }

      function checkEnter(event) {
        if (event.key === "Enter") {
          checkAnswer();
        }
      }

      // Vocabulary Words by Level
      const vocabularyWords = {
        beginner: [
          {
            word: "Happy",
            definition: "Feeling joy or pleasure",
            pronunciation: "/Ààh√¶pi/",
            example: "I am happy to see you!",
          },
          {
            word: "Family",
            definition: "Group of people related to each other",
            pronunciation: "/Ààf√¶m…ôli/",
            example: "My family lives in New York.",
          },
          {
            word: "House",
            definition: "A building where people live",
            pronunciation: "/ha äs/",
            example: "I have a big house.",
          },
          {
            word: "Friend",
            definition: "Someone you like and know well",
            pronunciation: "/frend/",
            example: "She is my best friend.",
          },
          {
            word: "School",
            definition: "A place where people learn",
            pronunciation: "/skuÀêl/",
            example: "I go to school every day.",
          },
          {
            word: "Water",
            definition: "Clear liquid that we drink",
            pronunciation: "/Ààw…îÀêt…ôr/",
            example: "Please give me some water.",
          },
          {
            word: "Food",
            definition: "Things we eat",
            pronunciation: "/fuÀêd/",
            example: "This food is delicious!",
          },
          {
            word: "Money",
            definition: "What we use to buy things",
            pronunciation: "/Ààm åni/",
            example: "I need money to buy lunch.",
          },
          {
            word: "Time",
            definition: "When things happen",
            pronunciation: "/ta…™m/",
            example: "What time is it?",
          },
          {
            word: "Work",
            definition: "Job or activity",
            pronunciation: "/w…úÀêrk/",
            example: "I work in an office.",
          },
        ],
        intermediate: [
          {
            word: "Magnificent",
            definition: "Extremely beautiful or impressive",
            pronunciation: "/m√¶…°Ààn…™f…ôs…ônt/",
            example: "The view from the mountain was magnificent.",
          },
          {
            word: "Perplexed",
            definition: "Confused and puzzled",
            pronunciation: "/p…ôrÀàplekst/",
            example: "I was perplexed by the math problem.",
          },
          {
            word: "Enthusiastic",
            definition: "Showing great excitement",
            pronunciation: "/…™nÀåŒ∏uÀêziÀà√¶st…™k/",
            example: "She was enthusiastic about the new project.",
          },
          {
            word: "Courageous",
            definition: "Brave and fearless",
            pronunciation: "/k…ôÀàre…™d í…ôs/",
            example: "The firefighter was very courageous.",
          },
          {
            word: "Diligent",
            definition: "Working hard and carefully",
            pronunciation: "/Ààd…™l…ôd í…ônt/",
            example: "He is a diligent student.",
          },
          {
            word: "Compassionate",
            definition: "Showing sympathy and care",
            pronunciation: "/k…ômÀàp√¶ É…ôn…ôt/",
            example: "She is compassionate toward animals.",
          },
          {
            word: "Ingenious",
            definition: "Very clever and creative",
            pronunciation: "/…™nÀàd íiÀêni…ôs/",
            example: "That's an ingenious solution!",
          },
          {
            word: "Resilient",
            definition: "Able to recover from difficulties",
            pronunciation: "/r…™Ààz…™li…ônt/",
            example: "Children are very resilient.",
          },
          {
            word: "Ambitious",
            definition: "Having strong desire for success",
            pronunciation: "/√¶mÀàb…™ É…ôs/",
            example: "She has ambitious career goals.",
          },
          {
            word: "Fascinating",
            definition: "Extremely interesting",
            pronunciation: "/Ààf√¶s…ône…™t…™≈ã/",
            example: "The documentary was fascinating.",
          },
        ],
        advanced: [
          {
            word: "Ubiquitous",
            definition: "Present everywhere",
            pronunciation: "/juÀêÀàb…™kw…ôt…ôs/",
            example: "Smartphones are ubiquitous in modern society.",
          },
          {
            word: "Ephemeral",
            definition: "Lasting for a very short time",
            pronunciation: "/…™Ààfem…ôr…ôl/",
            example: "The beauty of cherry blossoms is ephemeral.",
          },
          {
            word: "Serendipity",
            definition: "Pleasant surprise or happy accident",
            pronunciation: "/Àåser…ônÀàd…™p…ôti/",
            example: "Meeting my mentor was pure serendipity.",
          },
          {
            word: "Juxtaposition",
            definition: "Placing things side by side for contrast",
            pronunciation: "/Àåd í åkst…ôp…ôÀàz…™ É…ôn/",
            example: "The art showed a juxtaposition of old and new.",
          },
          {
            word: "Paradigm",
            definition: "A typical example or model",
            pronunciation: "/Ààp√¶r…ôda…™m/",
            example: "The internet created a new paradigm for communication.",
          },
          {
            word: "Quintessential",
            definition: "Most perfect example of something",
            pronunciation: "/Àåkw…™nt…ôÀàsen É…ôl/",
            example: "She is the quintessential professional.",
          },
          {
            word: "Conundrum",
            definition: "A confusing and difficult problem",
            pronunciation: "/k…ôÀàn åndr…ôm/",
            example: "Climate change presents a global conundrum.",
          },
          {
            word: "Dichotomy",
            definition: "A division into two parts",
            pronunciation: "/da…™Ààk…ëÀêt…ômi/",
            example: "There's a dichotomy between theory and practice.",
          },
          {
            word: "Pragmatic",
            definition: "Practical and realistic",
            pronunciation: "/pr√¶…°Ààm√¶t…™k/",
            example: "We need a pragmatic approach to this problem.",
          },
          {
            word: "Ameliorate",
            definition: "To make something better",
            pronunciation: "/…ôÀàmiÀêli…ôre…™t/",
            example: "The new policy will ameliorate working conditions.",
          },
        ],
      };

      const discussionQuestions = [
        "What is the most important invention in human history and why?",
        "If you could have dinner with any historical figure, who would it be?",
        "What does success mean to you?",
        "How has technology changed the way we communicate?",
        "What's the best advice you've ever received?",
        "What would you do if you won the lottery?",
        "What skills do you think are most important to learn?",
        "How do you define happiness?",
        "What's a challenge you've overcome and what did you learn?",
        "If you could learn any language, which would you choose and why?",
        "What role does art play in society?",
        "How can we make the world a better place?",
        "What's more important: being right or being kind?",
        "What does friendship mean to you?",
        "If you could change one thing about the education system, what would it be?",
      ];

      function setVocabLevel(level) {
        currentVocabLevel = level;
        document
          .querySelectorAll(".level-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");
      }

      function generateWord() {
        const words = vocabularyWords[currentVocabLevel];
        const wordObj = words[Math.floor(Math.random() * words.length)];
        document.getElementById(
          "wordOutput"
        ).innerHTML = `<strong>${wordObj.word}</strong><br>
           <div class="pronunciation-guide">${wordObj.pronunciation}</div>
           <div class="definition">${wordObj.definition}</div>
           <div class="example-sentence">${wordObj.example}</div>
           <button class="audio-control" onclick="speakText('${wordObj.word}')">üîä Pronounce</button>`;
      }

      function generateQuestion() {
        const question =
          discussionQuestions[
            Math.floor(Math.random() * discussionQuestions.length)
          ];
        document.getElementById("questionOutput").textContent = question;
      }

      // Timer
      let timerInterval;
      let timeLeft = 0;
      let timerPaused = false;

      function setTimer(minutes) {
        timeLeft = minutes * 60;
        updateTimerDisplay();
        clearInterval(timerInterval);
        timerPaused = false;
      }

      function updateTimerDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById("timer").textContent = `${String(
          minutes
        ).padStart(2, "0")}:${String(seconds).padStart(2, "0")}`;
      }

      function startTimer() {
        if (timeLeft <= 0) {
          alert("Please set a timer first!");
          return;
        }

        clearInterval(timerInterval);
        timerPaused = false;

        timerInterval = setInterval(() => {
          if (!timerPaused) {
            timeLeft--;
            updateTimerDisplay();

            if (timeLeft <= 0) {
              clearInterval(timerInterval);
              alert("Time's up!");
            }
          }
        }, 1000);
      }

      function pauseTimer() {
        timerPaused = !timerPaused;
      }

      function resetTimer() {
        clearInterval(timerInterval);
        timeLeft = 0;
        timerPaused = false;
        updateTimerDisplay();
      }

      // Grammar Lessons by Level
      const grammarLessons = {
        beginner: [
          {
            title: "Present Simple Tense",
            explanation:
              "We use the present simple for facts, habits, and routines.",
            examples: [
              "I <span class='highlight'>eat</span> breakfast every morning.",
              "She <span class='highlight'>works</span> in a hospital.",
              "They <span class='highlight'>live</span> in London.",
            ],
            rule: "Add -s or -es to the verb for he/she/it",
          },
          {
            title: "Articles (a, an, the)",
            explanation:
              "Articles come before nouns to show if they are specific or general.",
            examples: [
              "I have <span class='highlight'>a</span> dog.",
              "She is <span class='highlight'>an</span> engineer.",
              "Please close <span class='highlight'>the</span> door.",
            ],
            rule: "Use 'a' before consonant sounds, 'an' before vowel sounds, 'the' for specific things",
          },
        ],
        intermediate: [
          {
            title: "Present Perfect Tense",
            explanation:
              "We use present perfect to talk about experiences or actions that connect past and present.",
            examples: [
              "I <span class='highlight'>have visited</span> France three times.",
              "She <span class='highlight'>has worked</span> here since 2020.",
              "They <span class='highlight'>have never seen</span> snow.",
            ],
            rule: "Form: have/has + past participle",
          },
          {
            title: "Conditional Sentences (First Conditional)",
            explanation:
              "We use first conditional for real possibilities in the future.",
            examples: [
              "<span class='highlight'>If it rains</span>, I will stay home.",
              "<span class='highlight'>If you study hard</span>, you will pass the exam.",
              "I will call you <span class='highlight'>if I have time</span>.",
            ],
            rule: "If + present simple, will + infinitive",
          },
        ],
        advanced: [
          {
            title: "Subjunctive Mood",
            explanation:
              "The subjunctive expresses wishes, suggestions, or hypothetical situations.",
            examples: [
              "I suggest that he <span class='highlight'>be</span> more careful.",
              "It's important that she <span class='highlight'>arrive</span> on time.",
              "If I <span class='highlight'>were</span> you, I would accept the offer.",
            ],
            rule: "Use base form of verb after certain expressions",
          },
          {
            title: "Inversion for Emphasis",
            explanation:
              "We can invert subject and verb for dramatic effect or emphasis.",
            examples: [
              "<span class='highlight'>Never have I seen</span> such a beautiful sunset.",
              "<span class='highlight'>Only then did he realize</span> his mistake.",
              "<span class='highlight'>Should you need help</span>, please call me.",
            ],
            rule: "Negative adverbs at the beginning require inversion",
          },
        ],
      };

      function setGrammarLevel(level) {
        currentGrammarLevel = level;
        document
          .querySelectorAll(".level-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");
      }

      function generateGrammarLesson() {
        const lessons = grammarLessons[currentGrammarLevel];
        const lesson = lessons[Math.floor(Math.random() * lessons.length)];

        const html = `
          <div class="grammar-card">
            <div class="grammar-title">${lesson.title}</div>
            <p>${lesson.explanation}</p>
            <h4>Examples:</h4>
            ${lesson.examples
              .map((ex) => `<div class="example-sentence">${ex}</div>`)
              .join("")}
            <div style="margin-top: 15px;"><strong>Rule:</strong> ${
              lesson.rule
            }</div>
            <button class="audio-control" onclick="speakText('${lesson.examples[0].replace(
              /<[^>]*>/g,
              ""
            )}')">üîä Listen to Example</button>
          </div>
        `;

        document.getElementById("grammarContent").innerHTML = html;
        updateProgress();
      }

      // Pronunciation Practice
      const pronunciationWords = [
        {
          word: "Communication",
          pronunciation: "/k…ôÀåmjuÀên…™Ààke…™ É…ôn/",
          example: "Good communication is essential in any relationship.",
        },
        {
          word: "Responsibility",
          pronunciation: "/r…™Àåsp…ëÀêns…ôÀàb…™l…ôti/",
          example: "Taking responsibility for your actions is important.",
        },
        {
          word: "Availability",
          pronunciation: "/…ôÀåve…™l…ôÀàb…™l…ôti/",
          example: "Please check the availability of the conference room.",
        },
        {
          word: "Entrepreneur",
          pronunciation: "/Àå…ëÀêntr…ôpr…ôÀàn…úÀêr/",
          example: "She became a successful entrepreneur at a young age.",
        },
        {
          word: "Architecture",
          pronunciation: "/Àà…ëÀêrk…™tekt É…ôr/",
          example: "The architecture of this building is magnificent.",
        },
        {
          word: "Psychology",
          pronunciation: "/sa…™Ààk…ëÀêl…ôd íi/",
          example: "He studied psychology at the university.",
        },
        {
          word: "Phenomenon",
          pronunciation: "/f…ôÀàn…ëÀêm…™n…ôn/",
          example: "The northern lights are a natural phenomenon.",
        },
        {
          word: "Particularly",
          pronunciation: "/p…ôrÀàt…™kj…ôl…ôrli/",
          example: "I particularly enjoy reading mystery novels.",
        },
      ];

      function generatePronunciationWord() {
        const wordObj =
          pronunciationWords[
            Math.floor(Math.random() * pronunciationWords.length)
          ];
        document.getElementById("pronunciationWord").textContent = wordObj.word;
        document.getElementById("pronunciationGuide").textContent =
          wordObj.pronunciation;
        document.getElementById("pronunciationExample").innerHTML =
          wordObj.example.replace(
            wordObj.word.toLowerCase(),
            `<span class="highlight">${wordObj.word.toLowerCase()}</span>`
          );
        updateProgress();
      }

      function speakPronunciationWord() {
        const word = document.getElementById("pronunciationWord").textContent;
        speakText(word);
      }

      // Speaking Challenges
      const speakingChallenges = [
        "Describe your perfect day in detail (2 minutes)",
        "Explain how to make your favorite dish (90 seconds)",
        "Tell a story about a time you helped someone (2 minutes)",
        "Describe your hometown to a tourist (90 seconds)",
        "Explain why learning languages is important (2 minutes)",
        "Talk about a book or movie that changed your perspective (90 seconds)",
        "Describe your dream job and why you want it (2 minutes)",
        "Explain a tradition from your culture (90 seconds)",
        "Talk about a challenge you overcame (2 minutes)",
        "Describe the qualities of a good leader (90 seconds)",
      ];

      function generateSpeakingChallenge() {
        const challenge =
          speakingChallenges[
            Math.floor(Math.random() * speakingChallenges.length)
          ];
        document.getElementById(
          "speakingChallenge"
        ).innerHTML = `<div class="speaking-prompt">üéØ ${challenge}</div>
           <div style="text-align: center; margin-top: 15px;">
             <button class="audio-control" onclick="setTimer(2); startTimer()">‚è±Ô∏è Start Timer</button>
           </div>`;
        updateProgress();
      }

      // Mini Lessons
      const idioms = [
        {
          idiom: "Break the ice",
          meaning: "Start a conversation in a friendly way",
          example: "Tell a joke to break the ice at the meeting.",
        },
        {
          idiom: "Hit the nail on the head",
          meaning: "Say exactly the right thing",
          example: "You hit the nail on the head with that analysis.",
        },
        {
          idiom: "Piece of cake",
          meaning: "Something very easy",
          example: "The math test was a piece of cake.",
        },
        {
          idiom: "Spill the beans",
          meaning: "Tell a secret",
          example: "Don't spill the beans about the surprise party.",
        },
        {
          idiom: "Cost an arm and a leg",
          meaning: "Very expensive",
          example: "That car costs an arm and a leg.",
        },
      ];

      const phrasalVerbs = [
        {
          verb: "Look up",
          meaning: "Search for information",
          example: "I need to look up this word in the dictionary.",
        },
        {
          verb: "Give up",
          meaning: "Stop trying",
          example: "Don't give up on your dreams.",
        },
        {
          verb: "Put off",
          meaning: "Postpone",
          example: "We had to put off the meeting until next week.",
        },
        {
          verb: "Run into",
          meaning: "Meet by chance",
          example: "I ran into my old teacher at the store.",
        },
        {
          verb: "Turn down",
          meaning: "Refuse or reject",
          example: "She turned down the job offer.",
        },
      ];

      const culturalTips = [
        "In many Western countries, making eye contact during conversation shows you are listening and engaged.",
        "Small talk about weather is a common way to start conversations in English-speaking countries.",
        "Saying 'please' and 'thank you' frequently is considered very important in English-speaking cultures.",
        "In business settings, a firm handshake is often seen as a sign of confidence.",
        "Being on time (or slightly early) is highly valued in most English-speaking professional environments.",
      ];

      function generateIdiomLesson() {
        const idiom = idioms[Math.floor(Math.random() * idioms.length)];
        document.getElementById(
          "miniLessonContent"
        ).innerHTML = `<div class="grammar-card">
             <h3>üí° Idiom: "${idiom.idiom}"</h3>
             <p><strong>Meaning:</strong> ${idiom.meaning}</p>
             <div class="example-sentence">${idiom.example}</div>
             <button class="audio-control" onclick="speakText('${idiom.example}')">üîä Listen</button>
           </div>`;
        updateProgress();
      }

      function generatePhrasalVerbLesson() {
        const verb =
          phrasalVerbs[Math.floor(Math.random() * phrasalVerbs.length)];
        document.getElementById(
          "miniLessonContent"
        ).innerHTML = `<div class="grammar-card">
             <h3>üîÑ Phrasal Verb: "${verb.verb}"</h3>
             <p><strong>Meaning:</strong> ${verb.meaning}</p>
             <div class="example-sentence">${verb.example}</div>
             <button class="audio-control" onclick="speakText('${verb.example}')">üîä Listen</button>
           </div>`;
        updateProgress();
      }

      function generateCulturalTip() {
        const tip =
          culturalTips[Math.floor(Math.random() * culturalTips.length)];
        document.getElementById(
          "miniLessonContent"
        ).innerHTML = `<div class="grammar-card">
             <h3>üåç Cultural Tip</h3>
             <p>${tip}</p>
             <button class="audio-control" onclick="speakText('${tip}')">üîä Listen</button>
           </div>`;
        updateProgress();
      }

      // Vocabulary Quiz
      let currentQuizWord = null;
      let quizScore = 0;

      function generateVocabQuiz() {
        const words = vocabularyWords[currentVocabLevel];
        currentQuizWord = words[Math.floor(Math.random() * words.length)];

        // Create multiple choice options
        const allWords = vocabularyWords[currentVocabLevel];
        const wrongAnswers = allWords
          .filter((w) => w.word !== currentQuizWord.word)
          .sort(() => 0.5 - Math.random())
          .slice(0, 3)
          .map((w) => w.definition);

        const options = [...wrongAnswers, currentQuizWord.definition].sort(
          () => 0.5 - Math.random()
        );

        document.getElementById("vocabQuiz").style.display = "block";
        document.getElementById(
          "vocabQuiz"
        ).innerHTML = `<div class="grammar-card">
             <h3>üìù Vocabulary Quiz</h3>
             <p>What does "<strong>${currentQuizWord.word}</strong>" mean?</p>
             ${options
               .map(
                 (option, index) =>
                   `<div style="margin: 10px 0;">
                  <button onclick="checkQuizAnswer('${option}')" style="width: 100%; text-align: left; padding: 10px;">
                    ${String.fromCharCode(65 + index)}. ${option}
                  </button>
                </div>`
               )
               .join("")}
             <div id="quizResult" style="margin-top: 15px;"></div>
           </div>`;
      }

      function checkQuizAnswer(selectedAnswer) {
        const resultDiv = document.getElementById("quizResult");
        if (selectedAnswer === currentQuizWord.definition) {
          resultDiv.innerHTML = `<div class="correct">‚úÖ Correct! "${currentQuizWord.word}" means "${currentQuizWord.definition}"</div>`;
          quizScore++;
        } else {
          resultDiv.innerHTML = `<div class="incorrect">‚ùå Incorrect. "${currentQuizWord.word}" means "${currentQuizWord.definition}"</div>`;
        }

        setTimeout(() => {
          generateVocabQuiz();
        }, 3000);
        updateProgress();
      }

      // Enhanced Vocabulary List Generator
      function generateVocabulary() {
        const words = vocabularyWords[currentVocabLevel];
        const shuffled = [...words].sort(() => 0.5 - Math.random());
        const selected = shuffled.slice(0, 5);

        const html = selected
          .map(
            (wordObj) =>
              `<div class="vocab-word" onclick="showWordDetails('${wordObj.word}')" title="Click for details">
             ${wordObj.word}
             <div class="word-definition" id="def-${wordObj.word}">
               <div class="pronunciation-guide">${wordObj.pronunciation}</div>
               <strong>Definition:</strong> ${wordObj.definition}<br>
               <strong>Example:</strong> ${wordObj.example}
             </div>
           </div>`
          )
          .join("");

        document.getElementById("vocabList").innerHTML = html;
        updateProgress();
      }

      function showWordDetails(word) {
        const defDiv = document.getElementById(`def-${word}`);
        defDiv.style.display =
          defDiv.style.display === "block" ? "none" : "block";
      }

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        // Set initial level buttons
        setConversationLevel("beginner");
        setGrammarLevel("beginner");
        setVocabLevel("beginner");

        // Generate initial content
        generatePronunciationWord();

        // Load progress from localStorage
        const savedProgress = localStorage.getItem("eslLessonProgress");
        if (savedProgress) {
          activitiesCompleted = parseInt(savedProgress);
          document.getElementById("activitiesCount").textContent =
            activitiesCompleted;
          const percentage = Math.min((activitiesCompleted / 8) * 100, 100);
          document.getElementById("progressFill").style.width =
            percentage + "%";
        }
      });

      // Enhanced progress tracking with localStorage
      function updateProgress() {
        activitiesCompleted++;
        document.getElementById("activitiesCount").textContent =
          activitiesCompleted;
        const percentage = Math.min((activitiesCompleted / 8) * 100, 100);
        document.getElementById("progressFill").style.width = percentage + "%";

        // Save progress
        localStorage.setItem(
          "eslLessonProgress",
          activitiesCompleted.toString()
        );

        // Add success animation
        const progressBar = document.getElementById("progressFill");
        progressBar.classList.add("success-animation");
        setTimeout(
          () => progressBar.classList.remove("success-animation"),
          600
        );

        if (activitiesCompleted >= 8) {
          setTimeout(() => {
            showCompletionCertificate();
          }, 1000);
        }
      }

      function showCompletionCertificate() {
        const modal = document.createElement("div");
        modal.style.cssText = `
          position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
          background: rgba(0,0,0,0.8); display: flex; align-items: center; 
          justify-content: center; z-index: 1000;
        `;

        const certificate = document.createElement("div");
        certificate.style.cssText = `
          background: white; padding: 40px; border-radius: 20px; text-align: center; 
          max-width: 500px; margin: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        `;

        const today = new Date().toLocaleDateString();
        certificate.innerHTML = `
          <h2 style="color: #667eea; margin-bottom: 20px;">üéâ Congratulations!</h2>
          <p style="font-size: 1.2em; margin-bottom: 15px;">You have successfully completed today's English learning activities!</p>
          <div style="border: 3px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 10px;">
            <h3 style="color: #764ba2;">Certificate of Completion</h3>
            <p>Awarded to: <strong>English Learner</strong></p>
            <p>Date: <strong>${today}</strong></p>
            <p>Activities Completed: <strong>8/8</strong></p>
          </div>
          <button onclick="this.parentElement.parentElement.remove(); localStorage.removeItem('eslLessonProgress'); location.reload();" 
                  style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; 
                         padding: 12px 30px; border-radius: 25px; font-size: 1.1em; cursor: pointer; margin: 10px;">
            Start Fresh Tomorrow
          </button>
          <button onclick="this.parentElement.parentElement.remove();" 
                  style="background: #6b7280; color: white; border: none; padding: 12px 30px; 
                         border-radius: 25px; font-size: 1.1em; cursor: pointer; margin: 10px;">
            Continue Exploring
          </button>
        `;

        modal.appendChild(certificate);
        document.body.appendChild(modal);
      }

      // Add keyboard navigation
      document.addEventListener("keydown", function (event) {
        if (event.key === "Enter" && event.target.tagName === "BUTTON") {
          event.target.click();
        }
      });
    </script>
  </body>
</html>
