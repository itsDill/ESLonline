<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      ESL Writing Skills - Interactive Learning for Teens & University Students
    </title>
    <meta
      name="description"
      content="Master academic and creative writing skills with interactive exercises designed for ESL teens and university students."
    />

    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />

    <style>
      :root {
        --writing-primary: #6366f1;
        --writing-secondary: #ec4899;
        --writing-accent: #f59e0b;
        --writing-success: #10b981;
        --writing-error: #ef4444;
        --writing-info: #06b6d4;
        --writing-purple: #8b5cf6;
        --writing-orange: #f97316;
        --writing-emerald: #059669;
        --writing-rose: #f43f5e;

        --glow-primary: 0 0 20px rgba(99, 102, 241, 0.3);
        --glow-secondary: 0 0 20px rgba(236, 72, 153, 0.3);
        --bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        --smooth: cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        background: linear-gradient(
          135deg,
          #0f172a 0%,
          #1e1b4b 30%,
          #581c87 70%,
          #be185d 100%
        );
        min-height: 100vh;
        color: #fff;
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        padding: 20px 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 20% 80%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(236, 72, 153, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 40% 40%,
            rgba(139, 92, 246, 0.05) 0%,
            transparent 50%
          );
        pointer-events: none;
        z-index: -1;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .lesson-header {
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 60px 50px;
        margin: 20px 0;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .lesson-header::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(
          from 0deg,
          transparent,
          rgba(99, 102, 241, 0.1),
          transparent,
          rgba(236, 72, 153, 0.1),
          transparent
        );
        animation: headerSpin 20s linear infinite;
        z-index: -1;
      }

      @keyframes headerSpin {
        100% {
          transform: rotate(360deg);
        }
      }

      .lesson-title {
        font-family: "Space Grotesk", sans-serif;
        font-size: 4rem;
        font-weight: 800;
        background: linear-gradient(
          135deg,
          var(--writing-primary),
          var(--writing-secondary),
          var(--writing-purple)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 20px;
        text-shadow: 0 0 40px rgba(99, 102, 241, 0.3);
      }

      .lesson-subtitle {
        font-size: 1.4rem;
        color: rgba(255, 255, 255, 0.8);
        margin-bottom: 30px;
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
        font-weight: 300;
      }

      .lesson-stats {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .stat-item {
        text-align: center;
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--writing-accent);
        display: block;
      }

      .stat-label {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.6);
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .lesson-section {
        background: rgba(255, 255, 255, 0.06);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 20px;
        padding: 50px;
        margin: 40px 0;
        position: relative;
        transition: transform 0.3s var(--smooth);
      }

      .lesson-section:hover {
        transform: translateY(-2px);
        box-shadow: var(--glow-primary);
      }

      .section-title {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2.8rem;
        font-weight: 700;
        color: var(--writing-primary);
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .section-icon {
        font-size: 3rem;
        background: linear-gradient(
          135deg,
          var(--writing-primary),
          var(--writing-secondary)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        filter: drop-shadow(0 0 10px rgba(99, 102, 241, 0.3));
      }

      /* Writing Fundamentals */
      .fundamentals-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin: 40px 0;
      }

      .fundamental-card {
        background: linear-gradient(
          135deg,
          rgba(99, 102, 241, 0.1),
          rgba(139, 92, 246, 0.1)
        );
        border: 1px solid rgba(99, 102, 241, 0.2);
        border-radius: 16px;
        padding: 30px;
        cursor: pointer;
        transition: all 0.4s var(--bounce);
        position: relative;
        overflow: hidden;
      }

      .fundamental-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transition: left 0.6s ease;
      }

      .fundamental-card:hover::before {
        left: 100%;
      }

      .fundamental-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--glow-primary);
        border-color: var(--writing-primary);
      }

      .card-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
      }

      .card-emoji {
        font-size: 2.5rem;
        background: rgba(99, 102, 241, 0.2);
        padding: 10px;
        border-radius: 12px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .card-title {
        font-size: 1.8rem;
        font-weight: 600;
        color: var(--writing-primary);
      }

      .card-content {
        color: rgba(255, 255, 255, 0.8);
        font-size: 1.1rem;
        line-height: 1.7;
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transition: all 0.5s var(--smooth);
      }

      .fundamental-card.revealed .card-content {
        opacity: 1;
        max-height: 300px;
        margin-top: 15px;
      }

      .card-examples {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        padding: 15px;
        margin: 15px 0;
        border-left: 4px solid var(--writing-accent);
      }

      .expand-hint {
        font-size: 0.9rem;
        color: var(--writing-accent);
        font-style: italic;
        text-align: center;
        margin-top: 15px;
        opacity: 0.8;
        transition: opacity 0.3s ease;
      }

      .fundamental-card.revealed .expand-hint {
        opacity: 0;
      }

      /* Essay Structure Builder */
      .essay-builder {
        background: linear-gradient(
          135deg,
          var(--writing-purple) 0%,
          var(--writing-primary) 100%
        );
        border-radius: 20px;
        padding: 50px;
        color: white;
        position: relative;
        overflow: hidden;
      }

      .essay-builder::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
            circle at 30% 20%,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 70% 80%,
            rgba(255, 255, 255, 0.05) 0%,
            transparent 50%
          );
        pointer-events: none;
      }

      .builder-title {
        font-size: 2.5rem;
        font-weight: 700;
        text-align: center;
        margin-bottom: 40px;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      }

      .essay-structure {
        display: flex;
        flex-direction: column;
        gap: 20px;
        max-width: 800px;
        margin: 0 auto;
      }

      .structure-part {
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        padding: 25px;
        backdrop-filter: blur(10px);
        cursor: pointer;
        transition: all 0.3s var(--smooth);
        position: relative;
      }

      .structure-part:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateX(10px);
      }

      .part-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .part-number {
        background: var(--writing-accent);
        color: white;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.1rem;
      }

      .part-description {
        color: rgba(255, 255, 255, 0.9);
        line-height: 1.6;
        margin-bottom: 15px;
      }

      .part-example {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        padding: 15px;
        font-style: italic;
        border-left: 4px solid var(--writing-accent);
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transition: all 0.4s var(--smooth);
      }

      .structure-part.expanded .part-example {
        opacity: 1;
        max-height: 200px;
        margin-top: 15px;
      }

      /* Writing Challenges */
      .challenges-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 30px;
        margin: 40px 0;
      }

      .challenge-card {
        background: linear-gradient(
          135deg,
          var(--writing-emerald),
          var(--writing-info)
        );
        border-radius: 20px;
        padding: 35px;
        color: white;
        position: relative;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.4s var(--bounce);
      }

      .challenge-card::before {
        content: "";
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        background: linear-gradient(
          45deg,
          var(--writing-accent),
          var(--writing-secondary)
        );
        border-radius: 22px;
        z-index: -1;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .challenge-card:hover::before {
        opacity: 1;
      }

      .challenge-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }

      .challenge-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
      }

      .challenge-title {
        font-size: 1.8rem;
        font-weight: 600;
      }

      .challenge-difficulty {
        background: rgba(255, 255, 255, 0.2);
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
      }

      .challenge-description {
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 25px;
        opacity: 0.9;
      }

      .challenge-prompt {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 10px;
        padding: 20px;
        font-style: italic;
        border-left: 4px solid var(--writing-accent);
        margin: 20px 0;
      }

      .challenge-timer {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 20px;
        font-weight: 500;
      }

      .timer-display {
        background: rgba(255, 255, 255, 0.2);
        padding: 8px 15px;
        border-radius: 20px;
        font-family: monospace;
        font-size: 1.1rem;
        min-width: 80px;
        text-align: center;
      }

      .challenge-controls {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .control-btn {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.3);
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .control-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      .control-btn.active {
        background: var(--writing-accent);
        border-color: var(--writing-accent);
      }

      /* Grammar Detective Game */
      .grammar-game {
        background: linear-gradient(
          135deg,
          var(--writing-rose),
          var(--writing-secondary)
        );
        border-radius: 20px;
        padding: 50px;
        color: white;
        text-align: center;
        position: relative;
      }

      .game-title {
        font-size: 2.8rem;
        font-weight: 700;
        margin-bottom: 30px;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
      }

      .sentence-display {
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        font-size: 1.4rem;
        line-height: 1.8;
        backdrop-filter: blur(10px);
        min-height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .error-word {
        background: rgba(255, 255, 255, 0.3);
        padding: 4px 8px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 0 2px;
      }

      .error-word:hover {
        background: var(--writing-accent);
        transform: scale(1.1);
      }

      .error-word.found {
        background: var(--writing-success);
        animation: foundError 0.6s ease;
      }

      @keyframes foundError {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
        }
      }

      .game-stats {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin: 30px 0;
        flex-wrap: wrap;
      }

      .stat-box {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        padding: 15px 25px;
        text-align: center;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 700;
        display: block;
      }

      .stat-name {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      /* Word Frequency Analyzer */
      .analyzer-container {
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 40px;
        margin: 30px 0;
      }

      .analyzer-title {
        font-size: 2.2rem;
        font-weight: 600;
        color: var(--writing-info);
        margin-bottom: 25px;
        text-align: center;
      }

      .text-input-area {
        width: 100%;
        background: rgba(0, 0, 0, 0.3);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        padding: 20px;
        color: white;
        font-size: 1.1rem;
        font-family: inherit;
        min-height: 200px;
        resize: vertical;
        transition: border-color 0.3s ease;
      }

      .text-input-area:focus {
        outline: none;
        border-color: var(--writing-info);
        box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
      }

      .text-input-area::placeholder {
        color: rgba(255, 255, 255, 0.5);
      }

      .analysis-results {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 30px;
      }

      .result-card {
        background: linear-gradient(
          135deg,
          rgba(6, 182, 212, 0.1),
          rgba(139, 92, 246, 0.1)
        );
        border: 1px solid rgba(6, 182, 212, 0.2);
        border-radius: 12px;
        padding: 25px;
        text-align: center;
      }

      .result-number {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--writing-info);
        display: block;
        margin-bottom: 10px;
      }

      .result-label {
        color: rgba(255, 255, 255, 0.8);
        font-size: 1.1rem;
      }

      /* Progress Tracker */
      .progress-section {
        background: linear-gradient(
          135deg,
          var(--writing-purple),
          var(--writing-primary)
        );
        border-radius: 20px;
        padding: 40px;
        color: white;
        margin: 40px 0;
      }

      .progress-title {
        font-size: 2.5rem;
        font-weight: 700;
        text-align: center;
        margin-bottom: 40px;
      }

      .skills-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 25px;
      }

      .skill-item {
        text-align: center;
      }

      .skill-circle {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: conic-gradient(
          var(--writing-accent) 0deg,
          var(--writing-accent) calc(var(--progress) * 3.6deg),
          rgba(255, 255, 255, 0.2) calc(var(--progress) * 3.6deg)
        );
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px;
        position: relative;
      }

      .skill-circle::before {
        content: "";
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: linear-gradient(
          135deg,
          var(--writing-purple),
          var(--writing-primary)
        );
        position: absolute;
      }

      .skill-percentage {
        font-size: 1.5rem;
        font-weight: 700;
        position: relative;
        z-index: 1;
      }

      .skill-name {
        font-size: 1.2rem;
        font-weight: 500;
        margin-bottom: 10px;
      }

      .skill-description {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .lesson-title {
          font-size: 2.8rem;
        }

        .lesson-header {
          padding: 40px 30px;
        }

        .lesson-section {
          padding: 30px;
        }

        .fundamentals-grid,
        .challenges-container {
          grid-template-columns: 1fr;
        }

        .lesson-stats {
          gap: 20px;
        }

        .section-title {
          font-size: 2.2rem;
        }

        .essay-structure {
          padding: 0 10px;
        }
      }

      /* Animations */
      .fade-in {
        animation: fadeIn 0.6s ease-out forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .typing-animation::after {
        content: "|";
        animation: blink 1s infinite;
      }

      @keyframes blink {
        0%,
        50% {
          opacity: 1;
        }
        51%,
        100% {
          opacity: 0;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <!-- Header -->
      <div class="lesson-header">
        <h1 class="lesson-title">Writing Mastery Hub</h1>
        <p class="lesson-subtitle">
          Level up your writing game with interactive exercises, real-time
          feedback, and engaging challenges. Designed specifically for ESL teens
          and university students ready to dominate academic and creative
          writing.
        </p>
        <div class="lesson-stats">
          <div class="stat-item">
            <span class="stat-number">15+</span>
            <span class="stat-label">Interactive Exercises</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">Writing Challenges</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">100+</span>
            <span class="stat-label">Writing Tips</span>
          </div>
        </div>
      </div>

      <!-- Writing Fundamentals -->
      <div class="lesson-section">
        <h2 class="section-title">
          <span class="section-icon">📚</span>
          Writing Fundamentals
        </h2>
        <p>
          Master the core elements that make writing powerful and persuasive.
          Click each card to explore detailed explanations and examples.
        </p>

        <div class="fundamentals-grid">
          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">🎯</div>
              <div class="card-title">Thesis Statements</div>
            </div>
            <div class="card-content">
              <p>
                A thesis statement is your essay's roadmap - it tells readers
                exactly what you're going to argue and why it matters.
              </p>
              <div class="card-examples">
                <strong>Strong:</strong> "Social media negatively impacts teen
                mental health by promoting unrealistic comparisons, reducing
                face-to-face interactions, and creating addictive usage
                patterns."<br /><br />
                <strong>Weak:</strong> "Social media is bad for teenagers."
              </div>
              <p>
                <strong>Pro Tips:</strong> Be specific, arguable, and focused.
                Your thesis should be 1-2 sentences that preview your main
                points.
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">🔗</div>
              <div class="card-title">Cohesion & Flow</div>
            </div>
            <div class="card-content">
              <p>
                Great writing flows like a river - each sentence connects
                naturally to the next, creating a smooth reading experience.
              </p>
              <div class="card-examples">
                <strong>Transition words:</strong> However, Furthermore, In
                contrast, As a result, Similarly<br />
                <strong>Repetition of key terms:</strong> Use consistent
                vocabulary throughout<br />
                <strong>Pronouns:</strong> This, these, such, it (referring to
                previous ideas)
              </div>
              <p>
                <strong>Quick Test:</strong> Read your writing aloud. If you
                stumble, your readers will too!
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">💪</div>
              <div class="card-title">Strong Evidence</div>
            </div>
            <div class="card-content">
              <p>
                Evidence is what transforms opinions into convincing arguments.
                Use facts, statistics, expert quotes, and real examples.
              </p>
              <div class="card-examples">
                <strong>Statistics:</strong> "According to a 2023 study by the
                American Psychological Association..."<br />
                <strong>Expert Opinion:</strong> "Dr. Sarah Johnson, a leading
                researcher in adolescent psychology, argues that..."<br />
                <strong>Real Examples:</strong> "For instance, Finland's
                education system demonstrates..."
              </div>
              <p>
                <strong>Remember:</strong> Always cite your sources and explain
                how the evidence supports your point!
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">🎨</div>
              <div class="card-title">Tone & Voice</div>
            </div>
            <div class="card-content">
              <p>
                Your voice is what makes your writing uniquely yours, while tone
                adapts to your audience and purpose.
              </p>
              <div class="card-examples">
                <strong>Academic Tone:</strong> "Research indicates that..."
                (formal, objective)<br />
                <strong>Conversational Tone:</strong> "Here's what's
                interesting..." (friendly, approachable)<br />
                <strong>Persuasive Tone:</strong> "Consider the impact when..."
                (compelling, urgent)<br />
                <strong>Personal Voice:</strong> Use specific details, personal
                anecdotes, and your unique perspective
              </div>
              <p>
                <strong>Voice Tip:</strong> Write like you're explaining to a
                smart friend. Be yourself, but dress appropriately for the
                occasion!
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">📝</div>
              <div class="card-title">Paragraph Structure</div>
            </div>
            <div class="card-content">
              <p>
                Strong paragraphs follow the PEEL structure: Point, Evidence,
                Explanation, Link. Each paragraph should focus on one main idea.
              </p>
              <div class="card-examples">
                <strong>P</strong> - Point: Topic sentence stating your main
                idea<br />
                <strong>E</strong> - Evidence: Facts, quotes, or examples
                supporting your point<br />
                <strong>E</strong> - Explanation: Analysis of how the evidence
                supports your argument<br />
                <strong>L</strong> - Link: Connection to your thesis or
                transition to next paragraph
              </div>
              <p>
                <strong>Length Tip:</strong> Academic paragraphs typically run
                5-8 sentences. If it's longer, consider splitting it!
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">🔍</div>
              <div class="card-title">Citation & Attribution</div>
            </div>
            <div class="card-content">
              <p>
                Proper citations give credit where it's due and boost your
                credibility. Learn the formats your instructors expect.
              </p>
              <div class="card-examples">
                <strong>APA:</strong> (Smith, 2023, p. 45) or Smith (2023)
                argues that...<br />
                <strong>MLA:</strong> (Smith 45) or According to Smith...<br />
                <strong>Paraphrasing:</strong> Put ideas in your own words but
                still cite the source<br />
                <strong>Direct Quotes:</strong> Use sparingly and integrate
                smoothly into your text
              </div>
              <p>
                <strong>Pro Tip:</strong> When in doubt, cite it! It's better to
                over-cite than face plagiarism accusations.
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">👥</div>
              <div class="card-title">Audience Awareness</div>
            </div>
            <div class="card-content">
              <p>
                Great writers always consider their audience. Who are you
                writing for? What do they need to know? What's their level of
                expertise?
              </p>
              <div class="card-examples">
                <strong>Academic Audience:</strong> Professors, researchers -
                expect formal tone, citations, complex analysis<br />
                <strong>General Public:</strong> Define technical terms, use
                accessible language, provide context<br />
                <strong>Peers:</strong> Fellow students - balance formality with
                relatability<br />
                <strong>Professionals:</strong> Industry-specific language,
                practical applications
              </div>
              <p>
                <strong>Test:</strong> Would your grandmother understand this?
                Would your professor respect it? Adjust accordingly!
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">✂️</div>
              <div class="card-title">Concision & Clarity</div>
            </div>
            <div class="card-content">
              <p>
                Say more with less. Every word should earn its place in your
                writing. Cut the fluff, strengthen the core.
              </p>
              <div class="card-examples">
                <strong>Wordy:</strong> "Due to the fact that..." →
                <strong>Better:</strong> "Because..."<br />
                <strong>Wordy:</strong> "In order to..." →
                <strong>Better:</strong> "To..."<br />
                <strong>Passive:</strong> "Mistakes were made" →
                <strong>Active:</strong> "I made mistakes"<br />
                <strong>Vague:</strong> "Very important" →
                <strong>Specific:</strong> "Essential" or "Critical"
              </div>
              <p>
                <strong>Edit Ruthlessly:</strong> First draft = get ideas down.
                Second draft = make them shine!
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>

          <div class="fundamental-card" onclick="toggleCard(this)">
            <div class="card-header">
              <div class="card-emoji">🎭</div>
              <div class="card-title">Narrative Techniques</div>
            </div>
            <div class="card-content">
              <p>
                Even academic writing benefits from storytelling techniques.
                Engage your readers with compelling narratives and vivid
                descriptions.
              </p>
              <div class="card-examples">
                <strong>Show, Don't Tell:</strong> "The cafeteria buzzed with
                nervous energy" vs. "Students were anxious"<br />
                <strong>Hook Openings:</strong> Start with a question,
                surprising fact, or vivid scene<br />
                <strong>Dialogue:</strong> Use quotes to bring sources to
                life<br />
                <strong>Sensory Details:</strong> Appeal to sight, sound, smell,
                touch, taste
              </div>
              <p>
                <strong>Balance:</strong> Use narrative techniques to enhance,
                not replace, solid argumentation and evidence.
              </p>
            </div>
            <div class="expand-hint">Click to explore!</div>
          </div>
        </div>
      </div>

      <!-- Essay Structure Builder -->
      <div class="lesson-section">
        <div class="essay-builder">
          <h2 class="builder-title">📋 Interactive Essay Builder</h2>
          <p style="text-align: center; margin-bottom: 30px; font-size: 1.2rem">
            Click each section to see detailed guidance and examples for
            building strong academic essays.
          </p>

          <div class="essay-structure">
            <div class="structure-part" onclick="toggleStructurePart(this)">
              <div class="part-title">
                <div class="part-number">1</div>
                Introduction Hook & Context
              </div>
              <div class="part-description">
                Start strong with an attention-grabbing hook, provide necessary
                background, and end with your thesis statement.
              </div>
              <div class="part-example">
                <strong>Hook Example:</strong> "Every 40 seconds, someone in the
                world dies by suicide—a statistic that reveals the urgent need
                for better mental health support in schools."<br /><br />
                <strong>Context:</strong> Brief background on the issue<br />
                <strong>Thesis:</strong> Clear argument with 2-3 main points
              </div>
            </div>

            <div class="structure-part" onclick="toggleStructurePart(this)">
              <div class="part-title">
                <div class="part-number">2</div>
                Body Paragraph 1
              </div>
              <div class="part-description">
                Your strongest argument goes first. Start with a clear topic
                sentence, provide evidence, explain its significance.
              </div>
              <div class="part-example">
                <strong>Topic Sentence:</strong> "Research consistently shows
                that students with access to school counselors have better
                academic outcomes."<br /><br />
                <strong>Evidence:</strong> Statistics, studies, expert quotes<br />
                <strong>Analysis:</strong> Explain why this evidence matters
              </div>
            </div>

            <div class="structure-part" onclick="toggleStructurePart(this)">
              <div class="part-title">
                <div class="part-number">3</div>
                Body Paragraph 2
              </div>
              <div class="part-description">
                Your second-strongest point. Address a different aspect of your
                argument while maintaining logical flow.
              </div>
              <div class="part-example">
                <strong>Transition:</strong> "Beyond academic benefits, mental
                health support also..."<br /><br />
                <strong>New Angle:</strong> Social, economic, or long-term
                implications<br />
                <strong>Connection:</strong> Link back to your main thesis
              </div>
            </div>

            <div class="structure-part" onclick="toggleStructurePart(this)">
              <div class="part-title">
                <div class="part-number">4</div>
                Counter-argument & Rebuttal
              </div>
              <div class="part-description">
                Address the strongest opposing viewpoint and explain why your
                argument is still valid. This shows critical thinking.
              </div>
              <div class="part-example">
                <strong>Acknowledgment:</strong> "Critics argue that hiring
                counselors is too expensive..."<br /><br />
                <strong>Rebuttal:</strong> "However, the long-term costs of
                untreated mental health issues far exceed..."<br />
                <strong>Evidence:</strong> Support your rebuttal with facts
              </div>
            </div>

            <div class="structure-part" onclick="toggleStructurePart(this)">
              <div class="part-title">
                <div class="part-number">5</div>
                Conclusion & Call to Action
              </div>
              <div class="part-description">
                Restate your thesis in new words, summarize key points, and end
                with a memorable final thought or call to action.
              </div>
              <div class="part-example">
                <strong>Restatement:</strong> "The evidence clearly
                demonstrates..."<br /><br />
                <strong>Summary:</strong> Briefly recap your main arguments<br />
                <strong>Final Thought:</strong> "The question isn't whether we
                can afford to invest in student mental health—it's whether we
                can afford not to."
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Writing Challenges -->
      <div class="lesson-section">
        <h2 class="section-title">
          <span class="section-icon">⚡</span>
          Writing Challenges
        </h2>
        <p>
          Push your limits with timed writing exercises. Choose your challenge
          level and start writing!
        </p>

        <div class="challenges-container">
          <div class="challenge-card">
            <div class="challenge-header">
              <h3 class="challenge-title">Speed Thesis</h3>
              <span class="challenge-difficulty">Beginner</span>
            </div>
            <div class="challenge-description">
              Write a strong thesis statement for a given topic in under 3
              minutes. Focus on clarity and arguability.
            </div>
            <div class="challenge-prompt">
              <strong>Topic:</strong> "Should schools require students to wear
              uniforms?"<br />
              <strong>Goal:</strong> Create a thesis with 2-3 clear main points
            </div>
            <div class="challenge-timer">
              ⏱️ <span class="timer-display" id="timer1">03:00</span>
            </div>
            <div class="challenge-controls">
              <button class="control-btn" onclick="startTimer('timer1', 180)">
                Start
              </button>
              <button class="control-btn" onclick="pauseTimer('timer1')">
                Pause
              </button>
              <button class="control-btn" onclick="resetTimer('timer1', 180)">
                Reset
              </button>
            </div>
          </div>

          <div class="challenge-card">
            <div class="challenge-header">
              <h3 class="challenge-title">Paragraph Power</h3>
              <span class="challenge-difficulty">Intermediate</span>
            </div>
            <div class="challenge-description">
              Write a complete body paragraph using the PEEL structure in 8
              minutes.
            </div>
            <div class="challenge-prompt">
              <strong>Topic:</strong> "Technology's impact on education"<br />
              <strong>Goal:</strong> Point, Evidence, Explanation, Link
            </div>
            <div class="challenge-timer">
              ⏱️ <span class="timer-display" id="timer2">08:00</span>
            </div>
            <div class="challenge-controls">
              <button class="control-btn" onclick="startTimer('timer2', 480)">
                Start
              </button>
              <button class="control-btn" onclick="pauseTimer('timer2')">
                Pause
              </button>
              <button class="control-btn" onclick="resetTimer('timer2', 480)">
                Reset
              </button>
            </div>
          </div>

          <div class="challenge-card">
            <div class="challenge-header">
              <h3 class="challenge-title">Counter-Attack</h3>
              <span class="challenge-difficulty">Intermediate</span>
            </div>
            <div class="challenge-description">
              Present a counter-argument and rebuttal in 5 minutes. Show both
              sides of the debate.
            </div>
            <div class="challenge-prompt">
              <strong>Position:</strong> "Online learning is superior to
              classroom learning"<br />
              <strong>Goal:</strong> Counter-argument + Strong rebuttal
            </div>
            <div class="challenge-timer">
              ⏱️ <span class="timer-display" id="timer3">05:00</span>
            </div>
            <div class="challenge-controls">
              <button class="control-btn" onclick="startTimer('timer3', 300)">
                Start
              </button>
              <button class="control-btn" onclick="pauseTimer('timer3')">
                Pause
              </button>
              <button class="control-btn" onclick="resetTimer('timer3', 300)">
                Reset
              </button>
            </div>
          </div>

          <div class="challenge-card">
            <div class="challenge-header">
              <h3 class="challenge-title">Revision Race</h3>
              <span class="challenge-difficulty">Advanced</span>
            </div>
            <div class="challenge-description">
              Improve a poorly written paragraph in 6 minutes. Focus on clarity,
              concision, and flow.
            </div>
            <div class="challenge-prompt">
              <strong>Fix This:</strong> "There are many reasons why students
              should not have to wear uniforms to school because it takes away
              their freedom of expression and also it costs money and some
              families can't afford it and it doesn't really help with anything
              important."
            </div>
            <div class="challenge-timer">
              ⏱️ <span class="timer-display" id="timer4">06:00</span>
            </div>
            <div class="challenge-controls">
              <button class="control-btn" onclick="startTimer('timer4', 360)">
                Start
              </button>
              <button class="control-btn" onclick="pauseTimer('timer4')">
                Pause
              </button>
              <button class="control-btn" onclick="resetTimer('timer4', 360)">
                Reset
              </button>
            </div>
          </div>

          <div class="challenge-card">
            <div class="challenge-header">
              <h3 class="challenge-title">Lightning Essay</h3>
              <span class="challenge-difficulty">Expert</span>
            </div>
            <div class="challenge-description">
              Write a complete 5-paragraph essay in 20 minutes. The ultimate
              test of your writing speed and skill.
            </div>
            <div class="challenge-prompt">
              <strong>Topic:</strong> "Should artificial intelligence be used in
              schools?"<br />
              <strong>Goal:</strong> Introduction, 3 body paragraphs, conclusion
            </div>
            <div class="challenge-timer">
              ⏱️ <span class="timer-display" id="timer5">20:00</span>
            </div>
            <div class="challenge-controls">
              <button class="control-btn" onclick="startTimer('timer5', 1200)">
                Start
              </button>
              <button class="control-btn" onclick="pauseTimer('timer5')">
                Pause
              </button>
              <button class="control-btn" onclick="resetTimer('timer5', 1200)">
                Reset
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Grammar Detective Game -->
      <div class="lesson-section">
        <div class="grammar-game">
          <h2 class="game-title">🕵️ Grammar Detective</h2>
          <p style="margin-bottom: 30px; font-size: 1.2rem">
            Find and click on the grammar mistakes in each sentence. Test your
            editing skills!
          </p>

          <div class="sentence-display" id="sentence-display">
            Click "New Sentence" to start hunting for errors!
          </div>

          <div class="game-stats">
            <div class="stat-box">
              <span class="stat-value" id="errors-found">0</span>
              <span class="stat-name">Errors Found</span>
            </div>
            <div class="stat-box">
              <span class="stat-value" id="total-errors">0</span>
              <span class="stat-name">Total Errors</span>
            </div>
            <div class="stat-box">
              <span class="stat-value" id="accuracy">0%</span>
              <span class="stat-name">Accuracy</span>
            </div>
            <div class="stat-box">
              <span class="stat-value" id="score">0</span>
              <span class="stat-name">Score</span>
            </div>
          </div>

          <div class="challenge-controls" style="justify-content: center">
            <button class="control-btn" onclick="newSentence()">
              New Sentence
            </button>
            <button class="control-btn" onclick="showHint()">Hint</button>
            <button class="control-btn" onclick="resetGame()">
              Reset Game
            </button>
          </div>
        </div>
      </div>

      <!-- Word Frequency Analyzer -->
      <div class="lesson-section">
        <div class="analyzer-container">
          <h2 class="analyzer-title">📊 Writing Analyzer</h2>
          <p
            style="
              text-align: center;
              margin-bottom: 25px;
              color: rgba(255, 255, 255, 0.8);
            "
          >
            Paste your writing below to get instant feedback on word usage,
            sentence structure, and readability.
          </p>

          <textarea
            class="text-input-area"
            id="text-analyzer"
            placeholder="Paste your writing here... Try it with an essay paragraph, a cover letter, or any text you want to analyze!"
            oninput="analyzeText()"
          ></textarea>

          <div class="analysis-results" id="analysis-results">
            <div class="result-card">
              <span class="result-number" id="word-count">0</span>
              <span class="result-label">Words</span>
            </div>
            <div class="result-card">
              <span class="result-number" id="sentence-count">0</span>
              <span class="result-label">Sentences</span>
            </div>
            <div class="result-card">
              <span class="result-number" id="paragraph-count">0</span>
              <span class="result-label">Paragraphs</span>
            </div>
            <div class="result-card">
              <span class="result-number" id="reading-time">0 min</span>
              <span class="result-label">Reading Time</span>
            </div>
            <div class="result-card">
              <span class="result-number" id="avg-sentence">0</span>
              <span class="result-label">Avg Words/Sentence</span>
            </div>
            <div class="result-card">
              <span class="result-number" id="readability">-</span>
              <span class="result-label">Readability</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Progress Tracker -->
      <div class="lesson-section">
        <div class="progress-section">
          <h2 class="progress-title">📈 Your Writing Journey</h2>
          <p
            style="
              text-align: center;
              margin-bottom: 40px;
              font-size: 1.1rem;
              opacity: 0.9;
            "
          >
            Track your progress across different writing skills. Complete
            exercises to level up!
          </p>

          <div class="skills-grid">
            <div class="skill-item">
              <div class="skill-circle" style="--progress: 75">
                <span class="skill-percentage">75%</span>
              </div>
              <div class="skill-name">Thesis Writing</div>
              <div class="skill-description">Strong, focused arguments</div>
            </div>

            <div class="skill-item">
              <div class="skill-circle" style="--progress: 60">
                <span class="skill-percentage">60%</span>
              </div>
              <div class="skill-name">Evidence Integration</div>
              <div class="skill-description">Supporting claims effectively</div>
            </div>

            <div class="skill-item">
              <div class="skill-circle" style="--progress: 85">
                <span class="skill-percentage">85%</span>
              </div>
              <div class="skill-name">Grammar & Mechanics</div>
              <div class="skill-description">Error-free writing</div>
            </div>

            <div class="skill-item">
              <div class="skill-circle" style="--progress: 45">
                <span class="skill-percentage">45%</span>
              </div>
              <div class="skill-name">Academic Style</div>
              <div class="skill-description">Professional tone & format</div>
            </div>

            <div class="skill-item">
              <div class="skill-circle" style="--progress: 70">
                <span class="skill-percentage">70%</span>
              </div>
              <div class="skill-name">Critical Analysis</div>
              <div class="skill-description">Deep thinking & evaluation</div>
            </div>

            <div class="skill-item">
              <div class="skill-circle" style="--progress: 90">
                <span class="skill-percentage">90%</span>
              </div>
              <div class="skill-name">Revision Skills</div>
              <div class="skill-description">Editing & improvement</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation Footer -->
      <div
        class="lesson-section"
        style="background: rgba(255, 255, 255, 0.03); text-align: center"
      >
        <h3 style="color: var(--writing-primary); margin-bottom: 20px">
          Ready for More?
        </h3>
        <div
          style="
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
          "
        >
          <a
            href="../index.html"
            class="control-btn"
            style="text-decoration: none; display: inline-block"
          >
            🏠 Home
          </a>
          <a
            href="../blog/blog.html"
            class="control-btn"
            style="text-decoration: none; display: inline-block"
          >
            📝 More Lessons
          </a>
          <a
            href="../english/grammar.html"
            class="control-btn"
            style="text-decoration: none; display: inline-block"
          >
            📚 Grammar Guide
          </a>
          <a
            href="../business/writing-assistant.html"
            class="control-btn"
            style="text-decoration: none; display: inline-block"
          >
            💼 Business Writing
          </a>
        </div>
        <p style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem">
          © 2024 ESL Online. Master your writing, master your future. 🚀
        </p>
      </div>
    </div>

    <script>
      // Card toggle functionality
      function toggleCard(card) {
        card.classList.toggle("revealed");
      }

      // Essay structure toggle
      function toggleStructurePart(part) {
        part.classList.toggle("expanded");
      }

      // Timer functionality
      let timers = {};

      function startTimer(timerId, duration) {
        if (timers[timerId]) {
          clearInterval(timers[timerId].interval);
        }

        let timeLeft = duration;
        const display = document.getElementById(timerId);

        timers[timerId] = {
          interval: setInterval(() => {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            display.textContent = `${minutes
              .toString()
              .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;

            if (timeLeft <= 0) {
              clearInterval(timers[timerId].interval);
              display.textContent = "TIME!";
              display.style.background = "var(--writing-error)";
              setTimeout(() => {
                display.style.background = "rgba(255, 255, 255, 0.2)";
              }, 3000);
              return;
            }
            timeLeft--;
          }, 1000),
          timeLeft: timeLeft,
        };
      }

      function pauseTimer(timerId) {
        if (timers[timerId]) {
          clearInterval(timers[timerId].interval);
        }
      }

      function resetTimer(timerId, duration) {
        if (timers[timerId]) {
          clearInterval(timers[timerId].interval);
        }
        const display = document.getElementById(timerId);
        const minutes = Math.floor(duration / 60);
        const seconds = duration % 60;
        display.textContent = `${minutes.toString().padStart(2, "0")}:${seconds
          .toString()
          .padStart(2, "0")}`;
        display.style.background = "rgba(255, 255, 255, 0.2)";
      }

      // Grammar game functionality
      const grammarSentences = [
        {
          text: "The students <span class='error-word' data-error='was'>was</span> excited about there <span class='error-word' data-error='their'>there</span> upcoming field trip.",
          errors: 2,
          corrections: { was: "were", there: "their" },
        },
        {
          text: "Between you and <span class='error-word' data-error='I'>I</span>, this essay <span class='error-word' data-error='need'>need</span> more evidence to support it's <span class='error-word' data-error='its'>it's</span> main argument.",
          errors: 3,
          corrections: { I: "me", need: "needs", "it's": "its" },
        },
        {
          text: "The affect <span class='error-word' data-error='affect'>affect</span> of social media on teenagers <span class='error-word' data-error='are'>are</span> more significant <span class='error-word' data-error='then'>then</span> many parents realize.",
          errors: 3,
          corrections: { affect: "effect", are: "is", then: "than" },
        },
        {
          text: "Each of the students <span class='error-word' data-error='have'>have</span> to submit <span class='error-word' data-error='their'>their</span> essay by Friday, irregardless <span class='error-word' data-error='irregardless'>irregardless</span> of the holiday.",
          errors: 3,
          corrections: {
            have: "has",
            their: "his or her",
            irregardless: "regardless",
          },
        },
      ];

      let currentSentence = 0;
      let gameStats = {
        errorsFound: 0,
        totalErrors: 0,
        score: 0,
      };

      function newSentence() {
        if (currentSentence < grammarSentences.length) {
          const sentence = grammarSentences[currentSentence];
          document.getElementById("sentence-display").innerHTML = sentence.text;
          document.getElementById("total-errors").textContent = sentence.errors;
          currentSentence++;

          // Add click handlers to error words
          document.querySelectorAll(".error-word").forEach((word) => {
            word.addEventListener("click", function () {
              if (!this.classList.contains("found")) {
                this.classList.add("found");
                gameStats.errorsFound++;
                gameStats.score += 10;
                updateGameStats();
              }
            });
          });
        } else {
          document.getElementById("sentence-display").innerHTML =
            "🎉 Congratulations! You've completed all sentences. Click 'Reset Game' to play again.";
        }
      }

      function showHint() {
        const errorWords = document.querySelectorAll(".error-word:not(.found)");
        if (errorWords.length > 0) {
          errorWords[0].style.backgroundColor = "var(--writing-accent)";
          setTimeout(() => {
            errorWords[0].style.backgroundColor = "rgba(255, 255, 255, 0.3)";
          }, 2000);
        }
      }

      function resetGame() {
        currentSentence = 0;
        gameStats = { errorsFound: 0, totalErrors: 0, score: 0 };
        updateGameStats();
        document.getElementById("sentence-display").innerHTML =
          "Click 'New Sentence' to start hunting for errors!";
      }

      function updateGameStats() {
        document.getElementById("errors-found").textContent =
          gameStats.errorsFound;
        const accuracy =
          gameStats.totalErrors > 0
            ? Math.round((gameStats.errorsFound / gameStats.totalErrors) * 100)
            : 0;
        document.getElementById("accuracy").textContent = accuracy + "%";
        document.getElementById("score").textContent = gameStats.score;
      }

      // Text analyzer functionality
      function analyzeText() {
        const text = document.getElementById("text-analyzer").value;

        if (!text.trim()) {
          // Reset all counts if no text
          document.getElementById("word-count").textContent = "0";
          document.getElementById("sentence-count").textContent = "0";
          document.getElementById("paragraph-count").textContent = "0";
          document.getElementById("reading-time").textContent = "0 min";
          document.getElementById("avg-sentence").textContent = "0";
          document.getElementById("readability").textContent = "-";
          return;
        }

        // Word count
        const words = text
          .trim()
          .split(/\s+/)
          .filter((word) => word.length > 0);
        const wordCount = words.length;

        // Sentence count
        const sentences = text
          .split(/[.!?]+/)
          .filter((s) => s.trim().length > 0);
        const sentenceCount = sentences.length;

        // Paragraph count
        const paragraphs = text
          .split(/\n\s*\n/)
          .filter((p) => p.trim().length > 0);
        const paragraphCount = paragraphs.length;

        // Reading time (average 200 words per minute)
        const readingTime = Math.ceil(wordCount / 200);

        // Average words per sentence
        const avgWordsPerSentence =
          sentenceCount > 0 ? Math.round(wordCount / sentenceCount) : 0;

        // Simple readability assessment
        let readability = "Easy";
        if (avgWordsPerSentence > 20) readability = "Hard";
        else if (avgWordsPerSentence > 15) readability = "Medium";

        // Update display
        document.getElementById("word-count").textContent = wordCount;
        document.getElementById("sentence-count").textContent = sentenceCount;
        document.getElementById("paragraph-count").textContent = paragraphCount;
        document.getElementById("reading-time").textContent =
          readingTime + " min";
        document.getElementById("avg-sentence").textContent =
          avgWordsPerSentence;
        document.getElementById("readability").textContent = readability;
      }

      // Initialize game stats
      updateGameStats();

      // Add fade-in animations on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("fade-in");
          }
        });
      }, observerOptions);

      // Observe all lesson sections
      document.querySelectorAll(".lesson-section").forEach((section) => {
        observer.observe(section);
      });
    </script>
  </body>
</html>
