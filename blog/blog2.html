<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Conversation Mastery - Interactive Practice | ESL Fun Online</title>
    <meta
      name="description"
      content="Master the art of meaningful adult conversation through interactive practice. Learn conversation skills in psychology, philosophy, health, hobbies, travel, and food discussions."
    />
    <meta
      name="keywords"
      content="conversation skills, English conversation, adult learning, ESL conversation, speaking practice, conversation topics"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph -->
    <meta
      property="og:title"
      content="Conversation Mastery - Interactive Practice"
    />
    <meta
      property="og:description"
      content="Master meaningful adult conversation skills through interactive practice across various topics"
    />
    <meta property="og:type" content="article" />
    <meta
      property="og:url"
      content="https://eslfunonline.com/blog/blog2.html"
    />
    <meta property="og:image" content="../images/image copy 7.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Conversation Mastery - Interactive Practice"
    />
    <meta
      name="twitter:description"
      content="Master meaningful adult conversation skills"
    />
    <meta name="twitter:image" content="../images/image copy 7.png" />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Conversation Mastery - Interactive Practice",
        "description": "Master the art of meaningful adult conversation through interactive practice",
        "author": {
          "@type": "Organization",
          "name": "ESL Fun Online"
        },
        "publisher": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "logo": {
            "@type": "ImageObject",
            "url": "https://eslfunonline.com/images/1.png"
          }
        },
        "datePublished": "2025-06-15",
        "dateModified": "2025-06-15",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://eslfunonline.com/blog/blog2.html"
        }
      }
    </script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .nav {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 30px;
        flex-wrap: wrap;
      }

      .nav-btn {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid white;
        color: white;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .nav-btn:hover,
      .nav-btn.active {
        background: white;
        color: #667eea;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      }

      .content-area {
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
        min-height: 500px;
      }

      .topic-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .topic-card {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 25px;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
      }

      .topic-card:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
      }

      .topic-card h3 {
        font-size: 1.5em;
        margin-bottom: 10px;
      }

      .quiz-container,
      .game-container {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
      }

      .question {
        font-size: 1.2em;
        margin-bottom: 20px;
        color: #2c3e50;
      }

      .options {
        display: grid;
        gap: 10px;
        margin-bottom: 20px;
      }

      .option {
        background: white;
        border: 2px solid #e9ecef;
        padding: 15px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .option:hover {
        border-color: #667eea;
        background: #f8f9ff;
      }

      .option.correct {
        background: #d4edda;
        border-color: #28a745;
      }

      .option.incorrect {
        background: #f8d7da;
        border-color: #dc3545;
      }

      .option.selected {
        background: #e7f3ff;
        border-color: #2196f3;
        transform: scale(1.02);
      }

      .btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1em;
        transition: all 0.3s ease;
        margin: 10px 5px;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      }

      .progress-bar {
        background: #e9ecef;
        border-radius: 10px;
        height: 20px;
        margin: 20px 0;
        overflow: hidden;
      }

      .progress-fill {
        background: linear-gradient(90deg, #667eea, #764ba2);
        height: 100%;
        transition: width 0.3s ease;
      }

      .conversation-starter {
        background: #e3f2fd;
        border-left: 4px solid #2196f3;
        padding: 15px;
        margin: 15px 0;
        border-radius: 5px;
      }

      .hidden {
        display: none;
      }

      .score {
        text-align: center;
        font-size: 1.5em;
        margin: 20px 0;
        color: #2c3e50;
      }

      .game-board {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
        margin: 20px 0;
      }

      .game-card {
        background: #667eea;
        color: white;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        min-height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .game-card:hover {
        background: #764ba2;
        transform: scale(1.05);
      }

      .game-card.flipped {
        background: white;
        color: #333;
        border: 2px solid #667eea;
      }

      @media (max-width: 768px) {
        .nav {
          flex-direction: column;
          align-items: center;
        }

        .topic-grid {
          grid-template-columns: 1fr;
        }

        .game-board {
          grid-template-columns: repeat(2, 1fr);
        }

        .hero-content {
          padding: 1.5rem 1rem;
        }

        .content-area {
          padding: 20px;
          margin: 10px;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 0 10px;
        }

        .nav-btn {
          padding: 10px 20px;
          font-size: 0.9rem;
        }

        .topic-card {
          padding: 20px;
        }

        .post-title {
          font-size: 1.3rem;
        }
      }

      /* Loading states */
      .loading {
        opacity: 0.6;
        pointer-events: none;
        position: relative;
      }

      .loading::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 20px;
        height: 20px;
        margin: -10px 0 0 -10px;
        border: 2px solid #f3f3f3;
        border-top: 2px solid #667eea;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Focus management */
      *:focus {
        outline: 3px solid #667eea;
        outline-offset: 2px;
      }

      /* Skip link for accessibility */
      .skip-link {
        position: absolute;
        top: -40px;
        left: 6px;
        background: #667eea;
        color: white;
        padding: 8px;
        text-decoration: none;
        border-radius: 4px;
        z-index: 10000;
      }

      .skip-link:focus {
        top: 6px;
      }

      /* Screen reader only text */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      /* High contrast mode support */
      @media (prefers-contrast: high) {
        .topic-card,
        .option,
        .btn {
          border: 2px solid;
        }
      }

      /* Reduced motion support */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Enhanced button states */
      .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .btn:focus-visible {
        outline: 3px solid #4338ca;
        outline-offset: 2px;
      }

      /* Improved quiz styling */
      .quiz-container {
        position: relative;
      }

      .quiz-timer {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(102, 126, 234, 0.1);
        padding: 5px 10px;
        border-radius: 15px;
        font-size: 0.9rem;
        color: #667eea;
      }

      /* Success animations */
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      .success-animation {
        animation: pulse 0.6s ease-in-out;
      }

      /* Topic completion indicators */
      .topic-card.completed {
        border: 2px solid #10b981;
        background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      }

      .topic-card.completed::after {
        content: "✅";
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 1.2rem;
      }

      .topic-card {
        position: relative;
      }

      /* Practice scenario styling */
      .conversation-practice {
        max-width: 800px;
        margin: 0 auto;
      }

      .scenario-box {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 1px solid #cbd5e0;
        border-radius: 12px;
        padding: 20px;
        margin: 20px 0;
        position: relative;
      }

      .scenario-box::before {
        content: "";
        position: absolute;
        top: -1px;
        left: -1px;
        right: -1px;
        bottom: -1px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 12px;
        z-index: -1;
        opacity: 0.1;
      }

      /* Improved memory game styling */
      .game-card.matched {
        background: #10b981 !important;
        color: white;
        transform: scale(0.95);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      }

      .game-card.wrong {
        animation: shake 0.5s ease-in-out;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      /* Tooltip system */
      .tooltip {
        position: relative;
        cursor: help;
      }

      .tooltip::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 125%;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
        font-size: 0.8rem;
        z-index: 1000;
      }

      .tooltip:hover::after,
      .tooltip:focus::after {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="container">
      <header>
        <div class="header">
          <h1>🗣️ Conversation Mastery</h1>
          <p>
            Master the art of meaningful adult conversation through interactive
            practice
          </p>
        </div>
      </header>

      <nav aria-label="Main navigation">
        <div class="nav">
          <button
            class="nav-btn active"
            onclick="showSection('home')"
            aria-controls="home"
          >
            🏠 Home
          </button>
          <button
            class="nav-btn"
            onclick="showSection('topics')"
            aria-controls="topics"
          >
            📚 Topics
          </button>
          <button
            class="nav-btn"
            onclick="showSection('quiz')"
            aria-controls="quiz"
          >
            🧠 Quiz
          </button>
          <button
            class="nav-btn"
            onclick="showSection('games')"
            aria-controls="games"
          >
            🎮 Games
          </button>
          <button
            class="nav-btn"
            onclick="showSection('practice')"
            aria-controls="practice"
          >
            💬 Practice
          </button>
        </div>
      </nav>

      <main id="main-content" class="content-area" role="main">
        <!-- HOME SECTION -->
        <div id="home" class="section">
          <h2>Welcome to Conversation Mastery! 🌟</h2>
          <p style="font-size: 1.1em; line-height: 1.6; margin-bottom: 30px">
            Develop your conversation skills across intellectual and casual
            topics. This interactive platform offers comprehensive practice in
            psychology, philosophy, health, hobbies, travel, and food
            discussions.
          </p>

          <div class="topic-grid">
            <div class="topic-card" onclick="showTopicDetail('psychology')">
              <h3>🧠 Psychology</h3>
              <p>Explore human behavior, emotions, and mental processes</p>
            </div>
            <div class="topic-card" onclick="showTopicDetail('philosophy')">
              <h3>🤔 Philosophy</h3>
              <p>Discuss life's big questions and ethical dilemmas</p>
            </div>
            <div class="topic-card" onclick="showTopicDetail('health')">
              <h3>💪 Health & Wellness</h3>
              <p>Talk about fitness, nutrition, and well-being</p>
            </div>
            <div class="topic-card" onclick="showTopicDetail('hobbies')">
              <h3>🎨 Hobbies</h3>
              <p>Share interests and creative pursuits</p>
            </div>
            <div class="topic-card" onclick="showTopicDetail('travel')">
              <h3>✈️ Travel</h3>
              <p>Exchange stories and travel experiences</p>
            </div>
            <div class="topic-card" onclick="showTopicDetail('food')">
              <h3>🍽️ Food & Cuisine</h3>
              <p>Discuss culinary experiences and preferences</p>
            </div>
          </div>

          <div class="progress-bar">
            <div
              class="progress-fill"
              id="overall-progress"
              style="width: 0%"
            ></div>
          </div>
          <p style="text-align: center; color: #666">
            Your overall progress: <span id="progress-text">0%</span>
          </p>
        </div>

        <!-- TOPICS SECTION -->
        <div id="topics" class="section hidden">
          <h2>📚 Conversation Topics & Explanations</h2>
          <div id="topic-content">
            <!-- Dynamic content will be loaded here -->
          </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz" class="section hidden">
          <h2>🧠 Conversation Skills Quiz</h2>
          <div class="quiz-container">
            <div class="progress-bar">
              <div
                class="progress-fill"
                id="quiz-progress"
                style="width: 0%"
              ></div>
            </div>
            <div id="quiz-content">
              <p>Test your conversation knowledge across all topics!</p>
              <button class="btn" onclick="startQuiz()">Start Quiz</button>
            </div>
          </div>
        </div>

        <!-- GAMES SECTION -->
        <div id="games" class="section hidden">
          <h2>🎮 Conversation Games</h2>
          <div class="game-container">
            <h3>Memory Match - Conversation Starters</h3>
            <p>Match conversation topics with their appropriate starters!</p>
            <div class="score">
              Score: <span id="game-score">0</span> | Time:
              <span id="game-time">0</span>s
            </div>
            <button class="btn" onclick="startMemoryGame()">Start Game</button>
            <div id="memory-game" class="game-board hidden"></div>
          </div>
        </div>

        <!-- PRACTICE SECTION -->
        <div id="practice" class="section hidden">
          <h2>💬 Conversation Practice</h2>
          <div id="practice-content">
            <p>Select a scenario to practice your conversation skills:</p>
            <div class="topic-grid" style="margin-top: 20px">
              <div
                class="topic-card"
                onclick="startPracticeScenario('networking')"
              >
                <h3>🤝 Networking Event</h3>
                <p>Practice professional conversations</p>
              </div>
              <div class="topic-card" onclick="startPracticeScenario('dinner')">
                <h3>🍽️ Dinner Party</h3>
                <p>Casual social conversations</p>
              </div>
              <div
                class="topic-card"
                onclick="startPracticeScenario('intellectual')"
              >
                <h3>🎓 Book Club</h3>
                <p>Deep intellectual discussions</p>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Footer -->
    <footer role="contentinfo">
      <div class="container">
        <div
          style="
            text-align: center;
            padding: 2rem 0;
            color: #666;
            border-top: 1px solid #eee;
            margin-top: 2rem;
          "
        >
          <p>&copy; 2025 ESL Fun Online. All rights reserved.</p>
          <p style="font-size: 0.9rem; margin-top: 0.5rem">
            <a
              href="../index.html"
              style="color: #667eea; text-decoration: none; margin: 0 10px"
              >Home</a
            >
            <a
              href="../blog/blog.html"
              style="color: #667eea; text-decoration: none; margin: 0 10px"
              >More Articles</a
            >
            <a
              href="../english/eslresources.html"
              style="color: #667eea; text-decoration: none; margin: 0 10px"
              >English Resources</a
            >
          </p>
        </div>
      </div>
    </footer>

    <!-- Back to top button -->
    <button
      id="backToTop"
      class="back-to-top"
      aria-label="Back to top"
      style="
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #667eea;
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        opacity: 0;
        transition: all 0.3s ease;
        z-index: 1000;
      "
    >
      <i style="font-size: 1.2rem">↑</i>
    </button>

    <script>
      // Global state
      let currentSection = "home";
      let quizData = [];
      let currentQuizIndex = 0;
      let quizScore = 0;
      let gameScore = 0;
      let gameStartTime = 0;
      let gameTimer = null;
      let completedActivities = new Set();

      // Topic data
      const topicData = {
        psychology: {
          title: "Psychology - Understanding Human Behavior",
          content: `
                    <h3>🧠 Key Conversation Areas in Psychology</h3>
                    <div class="conversation-starter">
                        <strong>Emotional Intelligence:</strong> "I've been reading about emotional intelligence lately. Do you think it's more important than IQ in daily life?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Cognitive Biases:</strong> "Have you ever noticed how confirmation bias affects the way we consume news and social media?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Stress Management:</strong> "What are some healthy coping mechanisms you've found effective for managing stress?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Personal Growth:</strong> "Do you believe people can fundamentally change their personality, or are we mostly set by adulthood?"
                    </div>
                    
                    <h4>🎯 Practice Tips:</h4>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>Ask open-ended questions about personal experiences</li>
                        <li>Share relatable examples from your own life</li>
                        <li>Avoid giving unsolicited advice or diagnosing</li>
                        <li>Listen actively and reflect what you hear</li>
                    </ul>
                `,
          questions: [
            {
              question:
                "What's the best way to start a conversation about mental health?",
              options: [
                "Directly ask about their problems",
                "Share a personal experience first",
                "Give advice immediately",
                "Avoid the topic entirely",
              ],
              correct: 1,
              explanation:
                "Sharing a personal experience creates trust and makes the other person feel comfortable opening up.",
            },
          ],
        },
        philosophy: {
          title: "Philosophy - Exploring Life's Big Questions",
          content: `
                    <h3>🤔 Engaging Philosophical Conversations</h3>
                    <div class="conversation-starter">
                        <strong>Ethics & Morality:</strong> "If you could implement one moral principle that everyone had to follow, what would it be?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Meaning & Purpose:</strong> "Do you think life has inherent meaning, or do we create our own purpose?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Free Will:</strong> "To what extent do you think our choices are truly our own versus influenced by factors beyond our control?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Technology & Society:</strong> "How do you think social media is changing the way we form relationships and view ourselves?"
                    </div>
                    
                    <h4>🎯 Discussion Guidelines:</h4>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>Embrace different perspectives without judgment</li>
                        <li>Use thought experiments to explore ideas</li>
                        <li>Ask "What if..." questions to deepen discussion</li>
                        <li>Connect abstract concepts to real-life examples</li>
                    </ul>
                `,
          questions: [
            {
              question: "When discussing philosophy, what should you avoid?",
              options: [
                "Different viewpoints",
                "Personal examples",
                "Being preachy or dismissive",
                "Abstract thinking",
              ],
              correct: 2,
              explanation:
                "Being preachy or dismissive shuts down meaningful philosophical dialogue. Stay open and curious.",
            },
          ],
        },
        health: {
          title: "Health & Wellness - Living Your Best Life",
          content: `
                    <h3>💪 Health Conversation Topics</h3>
                    <div class="conversation-starter">
                        <strong>Fitness Journey:</strong> "What's been your most effective approach to staying active? I'm always looking for new ideas."
                    </div>
                    <div class="conversation-starter">
                        <strong>Nutrition:</strong> "Have you tried any eating patterns that really worked for you? I'm curious about different approaches."
                    </div>
                    <div class="conversation-starter">
                        <strong>Mental Health:</strong> "What daily habits do you find most helpful for maintaining good mental health?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Sleep & Recovery:</strong> "How important do you think sleep quality is compared to sleep quantity?"
                    </div>
                    
                    <h4>🎯 Conversation Best Practices:</h4>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>Focus on personal experiences rather than medical advice</li>
                        <li>Respect different body types and health journeys</li>
                        <li>Share what works for you without prescribing</li>
                        <li>Ask about motivations and challenges</li>
                    </ul>
                `,
          questions: [
            {
              question:
                "What's the best approach when discussing health topics?",
              options: [
                "Give specific medical advice",
                "Share personal experiences",
                "Criticize others' choices",
                "Recommend supplements",
              ],
              correct: 1,
              explanation:
                "Sharing personal experiences keeps conversations authentic and avoids giving medical advice you're not qualified to give.",
            },
          ],
        },
        hobbies: {
          title: "Hobbies - Sharing Your Passions",
          content: `
                    <h3>🎨 Hobby Conversations That Connect</h3>
                    <div class="conversation-starter">
                        <strong>Creative Pursuits:</strong> "What's a hobby you've always wanted to try but haven't had the chance to yet?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Learning New Skills:</strong> "What's the most challenging skill you've learned recently? How did you stick with it?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Collecting:</strong> "Do you collect anything? What got you started with that hobby?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Outdoor Activities:</strong> "What's your favorite way to spend time outdoors? I love hearing about different activities."
                    </div>
                    
                    <h4>🎯 Engagement Strategies:</h4>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>Show genuine curiosity about unfamiliar hobbies</li>
                        <li>Ask about the learning process and challenges</li>
                        <li>Share the emotions and satisfaction hobbies bring</li>
                        <li>Discuss how hobbies have changed over time</li>
                    </ul>
                `,
          questions: [
            {
              question:
                "How should you respond when someone shares a hobby you're not familiar with?",
              options: [
                "Change the subject",
                "Ask genuine questions about it",
                "Pretend to know about it",
                "Dismiss it as boring",
              ],
              correct: 1,
              explanation:
                "Asking genuine questions shows interest and can lead to fascinating conversations about passions you never knew existed.",
            },
          ],
        },
        travel: {
          title: "Travel - Adventures and Discoveries",
          content: `
                    <h3>✈️ Travel Conversations That Inspire</h3>
                    <div class="conversation-starter">
                        <strong>Cultural Experiences:</strong> "What's the most surprising cultural difference you've encountered while traveling?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Hidden Gems:</strong> "What's a place you've been that you think is underrated or overlooked by most tourists?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Travel Philosophy:</strong> "Do you prefer planning every detail of a trip or being spontaneous? What works best for you?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Local Connections:</strong> "Have you ever had a meaningful interaction with a local that changed your perspective on a place?"
                    </div>
                    
                    <h4>🎯 Travel Talk Tips:</h4>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>Focus on experiences and emotions, not just places</li>
                        <li>Ask about challenges and unexpected moments</li>
                        <li>Share stories that reveal personal growth</li>
                        <li>Discuss how travel has influenced your worldview</li>
                    </ul>
                `,
          questions: [
            {
              question:
                "What makes travel conversations more engaging than just listing places?",
              options: [
                "Talking about expenses",
                "Sharing personal stories and growth",
                "Comparing destinations",
                "Discussing logistics",
              ],
              correct: 1,
              explanation:
                "Personal stories and growth experiences create emotional connections and make travel conversations memorable and meaningful.",
            },
          ],
        },
        food: {
          title: "Food & Cuisine - Culinary Adventures",
          content: `
                    <h3>🍽️ Food Conversations That Satisfy</h3>
                    <div class="conversation-starter">
                        <strong>Culinary Adventures:</strong> "What's the most unusual food you've tried? Would you eat it again?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Cooking Experiences:</strong> "Do you have a signature dish you love to make? What's the story behind it?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Food Memories:</strong> "Is there a particular dish that always brings back childhood memories for you?"
                    </div>
                    <div class="conversation-starter">
                        <strong>Cultural Cuisine:</strong> "What cuisine outside your own culture do you find most interesting? What draws you to it?"
                    </div>
                    
                    <h4>🎯 Foodie Conversation Skills:</h4>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>Connect food to memories and emotions</li>
                        <li>Ask about cooking experiences and failures</li>
                        <li>Discuss how food relates to culture and identity</li>
                        <li>Share restaurant discoveries and recommendations</li>
                    </ul>
                `,
          questions: [
            {
              question:
                "What's the best way to keep food conversations interesting?",
              options: [
                "Only talk about expensive restaurants",
                "Connect food to stories and memories",
                "Criticize others' tastes",
                "Focus only on health aspects",
              ],
              correct: 1,
              explanation:
                "Connecting food to personal stories, memories, and emotions makes conversations rich and relatable rather than superficial.",
            },
          ],
        },
      };

      // Quiz questions
      const allQuizQuestions = [
        {
          question:
            "Which question best demonstrates active listening in a conversation?",
          options: [
            "That reminds me of my own experience...",
            "You mentioned feeling frustrated. Can you tell me more about that?",
            "Have you tried what I do?",
            "That's interesting, but let me tell you about...",
          ],
          correct: 1,
          explanation:
            "Reflecting back what someone said and asking for elaboration shows you're truly listening and engaged.",
        },
        {
          question:
            "When discussing controversial topics, what's the best approach?",
          options: [
            "Avoid them completely",
            "Try to win the argument",
            "Listen to understand, not to respond",
            "Change the subject immediately",
          ],
          correct: 2,
          explanation:
            "Listening to understand rather than to formulate your rebuttal creates more meaningful and respectful dialogue.",
        },
        {
          question: "What's a sign of a balanced conversation?",
          options: [
            "One person talks most of the time",
            "Both people share and ask questions equally",
            "Everyone agrees on everything",
            "The conversation stays on one topic",
          ],
          correct: 1,
          explanation:
            "A good conversation involves mutual exchange where both parties contribute and show interest in each other.",
        },
        {
          question: "How should you handle awkward silences?",
          options: [
            "Fill them immediately with any topic",
            "Leave and find someone else to talk to",
            "Allow brief pauses and then ask an open-ended question",
            "Point out how awkward it is",
          ],
          correct: 2,
          explanation:
            "Brief pauses are natural. Following up with an open-ended question can restart conversation flow naturally.",
        },
        {
          question:
            "What's the best way to show interest in someone's hobby you know nothing about?",
          options: [
            "Pretend you know about it",
            "Ask what got them started and what they enjoy about it",
            "Change to a topic you do know",
            "Tell them about your different hobbies instead",
          ],
          correct: 1,
          explanation:
            "Genuine curiosity about their passion and journey shows respect and often leads to fascinating conversations.",
        },
      ];

      // Memory game data
      const memoryCards = [
        { id: 1, text: "Psychology", match: "How do you handle stress?" },
        { id: 2, text: "Philosophy", match: "What gives life meaning?" },
        { id: 3, text: "Health", match: "What's your fitness routine?" },
        { id: 4, text: "Hobbies", match: "What do you do for fun?" },
        { id: 5, text: "Travel", match: "Where's your dream destination?" },
        { id: 6, text: "Food", match: "What's your favorite cuisine?" },
        { id: 7, text: "How do you handle stress?", match: "Psychology" },
        { id: 8, text: "What gives life meaning?", match: "Philosophy" },
        { id: 9, text: "What's your fitness routine?", match: "Health" },
        { id: 10, text: "What do you do for fun?", match: "Hobbies" },
        { id: 11, text: "Where's your dream destination?", match: "Travel" },
        { id: 12, text: "What's your favorite cuisine?", match: "Food" },
      ];

      // Utility functions
      function showSection(sectionName) {
        document
          .querySelectorAll(".section")
          .forEach((section) => section.classList.add("hidden"));
        document
          .querySelectorAll(".nav-btn")
          .forEach((btn) => btn.classList.remove("active"));

        document.getElementById(sectionName).classList.remove("hidden");
        event.target.classList.add("active");
        currentSection = sectionName;
      }

      function showTopicDetail(topicKey) {
        const topic = topicData[topicKey];
        if (!topic) return;

        showSection("topics");
        document.querySelector(".nav-btn:nth-child(2)").classList.add("active");

        document.getElementById("topic-content").innerHTML = `
                <div>
                    <h3>${topic.title}</h3>
                    ${topic.content}
                    <button class="btn" onclick="practiceTopicQuestions('${topicKey}')">Practice Questions</button>
                    <button class="btn" onclick="showSection('home')">Back to Home</button>
                </div>
            `;
      }

      function practiceTopicQuestions(topicKey) {
        const topic = topicData[topicKey];
        if (!topic.questions || topic.questions.length === 0) return;

        const question = topic.questions[0];
        document.getElementById("topic-content").innerHTML = `
                <div class="quiz-container">
                    <h3>Practice Question - ${topic.title}</h3>
                    <div class="question">${question.question}</div>
                    <div class="options" id="topic-options">
                        ${question.options
                          .map(
                            (option, index) =>
                              `<div class="option" onclick="checkTopicAnswer(${index}, ${question.correct}, '${question.explanation}')">${option}</div>`
                          )
                          .join("")}
                    </div>
                    <div id="topic-result"></div>
                    <button class="btn" onclick="showTopicDetail('${topicKey}')">Back to Topic</button>
                </div>
            `;
      }

      function checkTopicAnswer(selected, correct, explanation) {
        const options = document.querySelectorAll("#topic-options .option");
        options.forEach((option, index) => {
          if (index === correct) {
            option.classList.add("correct");
          } else if (index === selected && index !== correct) {
            option.classList.add("incorrect");
          }
          option.style.pointerEvents = "none";
        });

        const resultDiv = document.getElementById("topic-result");
        const isCorrect = selected === correct;
        resultDiv.innerHTML = `
                <div style="margin: 20px 0; padding: 15px; border-radius: 8px; background: ${
                  isCorrect ? "#d4edda" : "#f8d7da"
                };">
                    <strong>${
                      isCorrect ? "✅ Correct!" : "❌ Not quite right."
                    }</strong><br>
                    ${explanation}
                </div>
            `;
      }

      // Quiz functions
      function startQuiz() {
        quizData = [...allQuizQuestions].sort(() => Math.random() - 0.5);
        currentQuizIndex = 0;
        quizScore = 0;
        showQuizQuestion();
      }

      function showQuizQuestion() {
        if (currentQuizIndex >= quizData.length) {
          showQuizResults();
          return;
        }

        const question = quizData[currentQuizIndex];
        const progress = (currentQuizIndex / quizData.length) * 100;

        document.getElementById("quiz-progress").style.width = progress + "%";
        document.getElementById("quiz-content").innerHTML = `
                <div class="question">Question ${currentQuizIndex + 1} of ${
          quizData.length
        }: ${question.question}</div>
                <div class="options" id="quiz-options">
                    ${question.options
                      .map(
                        (option, index) =>
                          `<div class="option" onclick="selectQuizAnswer(${index})">${option}</div>`
                      )
                      .join("")}
                </div>
                <div id="quiz-result"></div>
                <button class="btn" onclick="checkQuizAnswer()" id="check-answer" disabled>Check Answer</button>
                <button class="btn hidden" onclick="nextQuestion()" id="next-question">Next Question</button>
            `;
      }

      let selectedAnswer = null;

      function selectQuizAnswer(index) {
        selectedAnswer = index;

        // Update UI
        document
          .querySelectorAll("#quiz-options .option")
          .forEach((option, i) => {
            option.classList.toggle("selected", i === index);
          });

        // Enable check button
        document.getElementById("check-answer").disabled = false;
      }

      function checkQuizAnswer() {
        if (selectedAnswer === null) return;

        const question = quizData[currentQuizIndex];
        const options = document.querySelectorAll("#quiz-options .option");
        const isCorrect = selectedAnswer === question.correct;

        if (isCorrect) quizScore++;

        // Show correct/incorrect styling
        options.forEach((option, index) => {
          if (index === question.correct) {
            option.classList.add("correct");
          } else if (index === selectedAnswer && index !== question.correct) {
            option.classList.add("incorrect");
          }
          option.style.pointerEvents = "none";
        });

        // Show result
        document.getElementById("quiz-result").innerHTML = `
                <div style="margin: 20px 0; padding: 15px; border-radius: 8px; background: ${
                  isCorrect ? "#d4edda" : "#f8d7da"
                };">
                    <strong>${
                      isCorrect ? "✅ Correct!" : "❌ Not quite right."
                    }</strong><br>
                    ${question.explanation}
                </div>
            `;

        // Update buttons
        document.getElementById("check-answer").classList.add("hidden");
        document.getElementById("next-question").classList.remove("hidden");
      }

      function nextQuestion() {
        selectedAnswer = null;
        currentQuizIndex++;
        showQuizQuestion();
      }

      function showQuizResults() {
        const percentage = Math.round((quizScore / quizData.length) * 100);
        let message = "";
        let rating = "";

        if (percentage >= 90) {
          message = "Outstanding! You're a conversation expert!";
          rating = "🌟 Expert Level";
        } else if (percentage >= 70) {
          message = "Great job! You have strong conversation skills!";
          rating = "🎯 Advanced Level";
        } else if (percentage >= 50) {
          message = "Good progress! Keep practicing to improve!";
          rating = "📈 Intermediate Level";
        } else {
          message = "Keep learning! Review the topics and try again!";
          rating = "📚 Beginner Level";
        }

        document.getElementById("quiz-content").innerHTML = `
                <div class="score">
                    <h3>${rating}</h3>
                    <div style="font-size: 2em; margin: 20px 0; color: #667eea;">
                        ${quizScore}/${quizData.length} (${percentage}%)
                    </div>
                    <p>${message}</p>
                    <div style="margin: 30px 0;">
                        <button class="btn" onclick="startQuiz()">Try Again</button>
                        <button class="btn" onclick="showSection('home')">Back to Home</button>
                    </div>
                </div>
            `;

        // Mark quiz as completed
        completedActivities.add("quiz");
        updateOverallProgress();
      }

      // Memory game functions
      function startMemoryGame() {
        gameScore = 0;
        gameStartTime = Date.now();

        document.getElementById("game-score").textContent = gameScore;
        document.getElementById("game-time").textContent = "0";

        // Create shuffled cards
        const shuffledCards = [...memoryCards].sort(() => Math.random() - 0.5);

        const gameBoard = document.getElementById("memory-game");
        gameBoard.innerHTML = "";
        gameBoard.classList.remove("hidden");

        shuffledCards.forEach((card, index) => {
          const cardElement = document.createElement("div");
          cardElement.className = "game-card";
          cardElement.textContent = card.text;
          cardElement.dataset.id = card.id;
          cardElement.dataset.match = card.match;
          cardElement.onclick = () => flipCard(cardElement, index);
          gameBoard.appendChild(cardElement);
        });

        // Start timer
        startGameTimer();
      }

      let flippedCards = [];
      let matchedPairs = 0;

      function flipCard(cardElement, index) {
        if (
          cardElement.classList.contains("flipped") ||
          flippedCards.length >= 2
        )
          return;

        cardElement.classList.add("flipped");
        flippedCards.push(cardElement);

        if (flippedCards.length === 2) {
          setTimeout(checkMatch, 1000);
        }
      }

      function checkMatch() {
        const [card1, card2] = flippedCards;
        const match1 = card1.dataset.match;
        const match2 = card2.textContent;

        if (match1 === match2 || card1.textContent === card2.dataset.match) {
          // Match found!
          card1.style.background = "#10b981";
          card2.style.background = "#10b981";
          matchedPairs++;
          gameScore += 10;
          document.getElementById("game-score").textContent = gameScore;

          if (matchedPairs === 6) {
            // Game complete!
            clearInterval(gameTimer);
            setTimeout(() => {
              alert(
                `Congratulations! You completed the game with ${gameScore} points in ${Math.floor(
                  (Date.now() - gameStartTime) / 1000
                )} seconds!`
              );
              completedActivities.add("memory-game");
              updateOverallProgress();
            }, 500);
          }
        } else {
          // No match
          setTimeout(() => {
            card1.classList.remove("flipped");
            card2.classList.remove("flipped");
          }, 500);
        }

        flippedCards = [];
      }

      function startGameTimer() {
        gameTimer = setInterval(() => {
          const elapsed = Math.floor((Date.now() - gameStartTime) / 1000);
          document.getElementById("game-time").textContent = elapsed;
        }, 1000);
      }

      // Practice scenarios
      const practiceScenarios = {
        networking: {
          title: "🤝 Networking Event Practice",
          situations: [
            {
              scenario:
                "You're at a professional networking event. Someone approaches you by the refreshment table.",
              starter:
                "Hi! I'm Sarah from the marketing team at TechCorp. What brings you to this event?",
              tips: [
                "Give a brief introduction including your name and role",
                "Show interest in their background",
                "Ask about their current projects or challenges",
                "Share something relevant about your own experience",
              ],
              responses: [
                "Hi Sarah! I'm [Your Name], I work in [Your Field] at [Company]. I'm here to learn about new trends in digital marketing and connect with industry professionals like yourself.",
                "Nice to meet you! I'm excited to hear about TechCorp - I've heard great things about your recent campaigns.",
                "What's the most exciting project you're working on at TechCorp right now?",
              ],
            },
          ],
        },
        dinner: {
          title: "🍽️ Dinner Party Practice",
          situations: [
            {
              scenario:
                "You're at a dinner party with friends and acquaintances. The conversation turns to weekend hobbies.",
              starter:
                "I've been trying to get into gardening lately, but I'm terrible with plants! What do you like to do on weekends?",
              tips: [
                "Share your genuine interests and experiences",
                "Ask follow-up questions about their hobbies",
                "Find common ground or express curiosity about new activities",
                "Keep the tone light and conversational",
              ],
              responses: [
                "Oh, gardening can be tricky! I've killed more plants than I care to admit. I usually spend weekends hiking or trying new recipes.",
                "That's so interesting! What kind of plants are you trying to grow? I'd love to hear about your successes and failures.",
                "Have you considered starting with herbs? They're usually more forgiving, and you can use them in cooking!",
              ],
            },
          ],
        },
        intellectual: {
          title: "🎓 Book Club Discussion Practice",
          situations: [
            {
              scenario:
                "You're at a book club meeting discussing themes of artificial intelligence and human consciousness from a recent sci-fi novel.",
              starter:
                "The author raises fascinating questions about what it means to be conscious. Do you think an AI could ever truly experience emotions the way humans do?",
              tips: [
                "Present your viewpoint with reasoning",
                "Acknowledge different perspectives",
                "Use examples from the book or real life",
                "Ask thought-provoking follow-up questions",
              ],
              responses: [
                "That's such a profound question. I think the challenge is that we don't fully understand human consciousness ourselves, so how can we determine if an AI's experience is genuine?",
                "The book made me consider whether emotions are just complex patterns of information processing. What do you think distinguishes 'real' emotions from sophisticated simulations?",
                "I found the character of ARIA compelling because her struggles felt authentic, even though we knew she was artificial. Maybe authenticity matters more than origin?",
              ],
            },
          ],
        },
      };

      function startPracticeScenario(scenarioKey) {
        const scenario = practiceScenarios[scenarioKey];
        if (!scenario) return;

        const situation = scenario.situations[0];

        document.getElementById("practice-content").innerHTML = `
                <div class="conversation-practice">
                    <h3>${scenario.title}</h3>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>🎭 Scenario</h4>
                        <p>${situation.scenario}</p>
                    </div>
                    
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>💬 They say:</strong><br>
                        <em>"${situation.starter}"</em>
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <h4>💡 Sample Responses:</h4>
                        ${situation.responses
                          .map(
                            (response) =>
                              `<div style="background: #f0f9ff; padding: 12px; margin: 10px 0; border-left: 4px solid #3b82f6; border-radius: 5px;">
                                "${response}"
                            </div>`
                          )
                          .join("")}
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <h4>🎯 Key Tips:</h4>
                        <ul style="padding-left: 20px;">
                            ${situation.tips
                              .map(
                                (tip) =>
                                  `<li style="margin: 8px 0;">${tip}</li>`
                              )
                              .join("")}
                        </ul>
                    </div>
                    
                    <div style="margin: 30px 0; text-align: center;">
                        <button class="btn" onclick="completePractice('${scenarioKey}')">Mark as Practiced</button>
                        <button class="btn" onclick="showSection('practice')">Try Another Scenario</button>
                    </div>
                </div>
            `;
      }

      function completePractice(scenarioKey) {
        completedActivities.add(`practice-${scenarioKey}`);
        updateOverallProgress();

        alert("Great job practicing! Your conversation skills are improving!");
        showSection("practice");
      }

      // Progress tracking
      function updateOverallProgress() {
        const totalActivities = 10; // 6 topics + quiz + memory game + 3 practice scenarios - we'll adjust this
        const completedCount = completedActivities.size;
        const percentage = Math.round((completedCount / totalActivities) * 100);

        document.getElementById("overall-progress").style.width =
          percentage + "%";
        document.getElementById("progress-text").textContent = percentage + "%";

        // Save progress to localStorage
        localStorage.setItem(
          "conversationMasteryProgress",
          JSON.stringify({
            completed: Array.from(completedActivities),
            percentage: percentage,
          })
        );
      }

      // Load saved progress
      function loadProgress() {
        const saved = localStorage.getItem("conversationMasteryProgress");
        if (saved) {
          try {
            const data = JSON.parse(saved);
            data.completed.forEach((activity) =>
              completedActivities.add(activity)
            );
            updateOverallProgress();
          } catch (e) {
            console.log("Could not load saved progress");
          }
        }
      }

      // Initialize the application
      document.addEventListener("DOMContentLoaded", function () {
        loadProgress();
        setupBackToTop();

        // Add keyboard navigation
        document.addEventListener("keydown", function (e) {
          // Don't interfere with form inputs
          if (
            document.activeElement.tagName === "INPUT" ||
            document.activeElement.tagName === "TEXTAREA" ||
            document.activeElement.isContentEditable
          )
            return;

          // Press 'h' to go home
          if (e.key === "h") {
            showSection("home");
            e.preventDefault();
          }
          // Press 'q' for quiz
          if (e.key === "q") {
            showSection("quiz");
            e.preventDefault();
          }
          // Press 'g' for games
          if (e.key === "g") {
            showSection("games");
            e.preventDefault();
          }
          // Press 'p' for practice
          if (e.key === "p") {
            showSection("practice");
            e.preventDefault();
          }
          // Press 't' for topics
          if (e.key === "t") {
            showSection("topics");
            e.preventDefault();
          }
          // Press '?' for help
          if (e.key === "?" || (e.shiftKey && e.key === "/")) {
            showKeyboardHelp();
            e.preventDefault();
          }
        });

        // Show home section by default
        showSection("home");
      });

      // Back to top functionality
      function setupBackToTop() {
        const backToTopButton = document.getElementById("backToTop");

        if (backToTopButton) {
          window.addEventListener("scroll", function () {
            if (window.pageYOffset > 300) {
              backToTopButton.style.opacity = "1";
              backToTopButton.style.pointerEvents = "auto";
            } else {
              backToTopButton.style.opacity = "0";
              backToTopButton.style.pointerEvents = "none";
            }
          });

          backToTopButton.addEventListener("click", function () {
            window.scrollTo({
              top: 0,
              behavior: "smooth",
            });
          });
        }
      }

      // Show keyboard shortcuts help
      function showKeyboardHelp() {
        const helpContent = `
                <div style="text-align: left; max-width: 400px;">
                    <h3 style="margin-bottom: 20px;">⌨️ Keyboard Shortcuts</h3>
                    <div style="margin-bottom: 10px;"><strong>H</strong> - Go to Home</div>
                    <div style="margin-bottom: 10px;"><strong>T</strong> - Go to Topics</div>
                    <div style="margin-bottom: 10px;"><strong>Q</strong> - Go to Quiz</div>
                    <div style="margin-bottom: 10px;"><strong>G</strong> - Go to Games</div>
                    <div style="margin-bottom: 10px;"><strong>P</strong> - Go to Practice</div>
                    <div style="margin-bottom: 10px;"><strong>?</strong> - Show this help</div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" onclick="closeHelp()">Got it!</button>
                    </div>
                </div>
            `;

        const helpModal = document.createElement("div");
        helpModal.id = "helpModal";
        helpModal.innerHTML = `
                <div style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.8);
                    z-index: 10000;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                " onclick="closeHelp()">
                    <div style="
                        background: white;
                        padding: 30px;
                        border-radius: 15px;
                        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    " onclick="event.stopPropagation()">
                        ${helpContent}
                    </div>
                </div>
            `;

        document.body.appendChild(helpModal);

        // Focus trap
        const focusableElements = helpModal.querySelectorAll("button");
        if (focusableElements.length > 0) {
          focusableElements[0].focus();
        }
      }

      function closeHelp() {
        const helpModal = document.getElementById("helpModal");
        if (helpModal) {
          document.body.removeChild(helpModal);
        }
      }

      // Add smooth scrolling and better UX
      function smoothScrollTo(elementId) {
        document.getElementById(elementId).scrollIntoView({
          behavior: "smooth",
        });
      }

      // Enhance the topic cards with completion tracking
      function showTopicDetail(topicKey) {
        const topic = topicData[topicKey];
        if (!topic) return;

        showSection("topics");
        document.querySelector(".nav-btn:nth-child(2)").classList.add("active");

        const isCompleted = completedActivities.has(`topic-${topicKey}`);

        document.getElementById("topic-content").innerHTML = `
                <div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3>${topic.title}</h3>
                        ${
                          isCompleted
                            ? '<span style="color: #10b981; font-size: 1.5em;">✅ Completed</span>'
                            : ""
                        }
                    </div>
                    ${topic.content}
                    <div style="margin: 30px 0; text-align: center;">
                        <button class="btn" onclick="practiceTopicQuestions('${topicKey}')">Practice Questions</button>
                        <button class="btn" onclick="completeTopicReview('${topicKey}')">Mark as Reviewed</button>
                        <button class="btn" onclick="showSection('home')">Back to Home</button>
                    </div>
                </div>
            `;
      }

      function completeTopicReview(topicKey) {
        completedActivities.add(`topic-${topicKey}`);
        updateOverallProgress();
        alert("Topic marked as reviewed! Great job learning!");
        showTopicDetail(topicKey);
      }

      // Add responsive mobile improvements
      function handleResize() {
        if (window.innerWidth <= 768) {
          // Adjust game board for mobile
          const gameBoard = document.getElementById("memory-game");
          if (gameBoard && !gameBoard.classList.contains("hidden")) {
            gameBoard.style.gridTemplateColumns = "repeat(3, 1fr)";
          }
        }
      }

      window.addEventListener("resize", handleResize);

      // Add accessibility improvements
      function announceToScreenReader(message) {
        const announcement = document.createElement("div");
        announcement.setAttribute("aria-live", "polite");
        announcement.setAttribute("aria-atomic", "true");
        announcement.className = "sr-only";
        announcement.style.position = "absolute";
        announcement.style.left = "-10000px";
        announcement.style.width = "1px";
        announcement.style.height = "1px";
        announcement.style.overflow = "hidden";
        announcement.textContent = message;

        document.body.appendChild(announcement);

        setTimeout(() => {
          if (document.body.contains(announcement)) {
            document.body.removeChild(announcement);
          }
        }, 1000);
      }

      // Enhanced section switching with announcements
      function showSection(sectionName) {
        document
          .querySelectorAll(".section")
          .forEach((section) => section.classList.add("hidden"));
        document
          .querySelectorAll(".nav-btn")
          .forEach((btn) => btn.classList.remove("active"));

        const targetSection = document.getElementById(sectionName);
        const targetButton = document.querySelector(
          `[onclick="showSection('${sectionName}')"]`
        );

        if (targetSection) {
          targetSection.classList.remove("hidden");
          announceToScreenReader(`Switched to ${sectionName} section`);
        }

        if (targetButton) {
          targetButton.classList.add("active");
        }

        currentSection = sectionName;
      }
    </script>
  </body>
</html>
