<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Play free ESL games online, explore fun activities, and learn English with interactive lessons. Perfect for students & teachers worldwide."
    />
    <meta
      name="keywords"
      content="ESL online learning, English language courses, IELTS preparation, TOEIC test prep, business English, coding tutorials, programming lessons, educational games, online teachers, interactive learning platform, English grammar, vocabulary building"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="geo.region" content="TH" />
    <meta name="geo.placename" content="Thailand" />
    <meta name="theme-color" content="#46bbe5" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Cache Control Meta Tags (Invisible to Users) -->
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Last-Modified" content="" />
    <meta http-equiv="ETag" content="" />

    <!-- Enhanced SEO Tags -->
    <meta name="google-site-verification" content="" />
    <link rel="alternate" hreflang="en" href="https://eslfunonline.com/" />
    <link rel="alternate" hreflang="th" href="https://eslfunonline.com/th/" />

    <!-- Open Graph tags for social sharing -->
    <meta
      property="og:title"
      content="ESL Fun Online | Free ESL Games, Activities & Lessons"
    />
    <meta
      property="og:description"
      content="Play free ESL games online, explore fun activities, and learn English with interactive lessons. Perfect for students & teachers worldwide."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://eslfunonline.com/" />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/hero.webp"
    />
    <meta property="og:site_name" content="ESL Fun Online" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="ESL Fun Online | Free ESL Games, Activities & Lessons"
    />
    <meta
      name="twitter:description"
      content="Play free ESL games online, explore fun activities, and learn English with interactive lessons. Perfect for students & teachers worldwide."
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/hero.webp"
    />
    <meta name="twitter:creator" content="@eslfunonline" />
    <meta name="twitter:site" content="@eslfunonline" />

    <link rel="canonical" href="https://eslfunonline.com/" />

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com" />

    <!-- Conditional preload for hero image on desktop only -->
    <link
      rel="preload"
      href="images/hero.webp"
      as="image"
      media="(min-width: 769px)"
    />

    <!-- Preload critical CSS for mobile -->
    <link
      rel="preload"
      href="css/hero-mobile.css"
      as="style"
      media="(max-width: 768px)"
    />

    <title>ESL Fun Online | Free ESL Games, Activities & Lessons</title>

    <!-- Enhanced Structured Data for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": ["EducationalOrganization", "OnlineStore"],
        "name": "ESL Fun Online",
        "alternateName": "ESL Fun Online Learning Platform",
        "description": "Premier online learning platform offering comprehensive English language courses, coding tutorials, test preparation, and interactive educational resources for learners worldwide",
        "url": "https://eslfunonline.com",
        "logo": {
          "@type": "ImageObject",
          "url": "https://eslfunonline.com/images/1.png",
          "width": 200,
          "height": 200
        },
        "image": "https://eslfunonline.com/images/hero.webp",
        "sameAs": [
          "https://www.facebook.com/eslfunonline",
          "https://twitter.com/eslfunonline",
          "https://www.instagram.com/eslfunonline",
          "https://www.linkedin.com/company/eslfunonline"
        ],
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "Global"
        },
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "Customer Service",
          "availableLanguage": ["English", "Thai"],
          "areaServed": "Global"
        },
        "offers": [
          {
            "@type": "Offer",
            "name": "English Language Courses",
            "description": "Comprehensive English learning courses from beginner to advanced levels",
            "category": "Educational Services",
            "availability": "https://schema.org/InStock",
            "price": "350",
            "priceCurrency": "THB"
          },
          {
            "@type": "Offer",
            "name": "Coding & Programming Courses",
            "description": "Learn programming languages and computer science fundamentals",
            "category": "Technical Education",
            "availability": "https://schema.org/InStock",
            "price": "350",
            "priceCurrency": "THB"
          },
          {
            "@type": "Offer",
            "name": "Test Preparation Services",
            "description": "IELTS, TOEIC, and other English proficiency test preparation",
            "category": "Test Preparation",
            "availability": "https://schema.org/InStock",
            "price": "420",
            "priceCurrency": "THB"
          }
        ],
        "areaServed": "Global",
        "availableLanguage": ["English", "Thai"],
        "foundingDate": "2020",
        "slogan": "Transform Your English & Coding Skills",
        "educationalCredentialAwarded": "Certificate of Completion",
        "hasCredential": {
          "@type": "EducationalOccupationalCredential",
          "name": "English Proficiency Certificate",
          "credentialCategory": "Language Certification"
        },
        "audience": {
          "@type": "EducationalAudience",
          "educationalRole": "student"
        },
        "teaches": [
          "English as a Second Language",
          "IELTS Test Preparation",
          "TOEIC Test Preparation",
          "Business English",
          "Programming Languages",
          "Computer Science Basics",
          "Web Development",
          "Educational Gaming"
        ],
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "reviewCount": "250",
          "bestRating": "5",
          "worstRating": "1"
        }
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9G9RD6BHLN");
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/header.css?v=" />
    <link rel="stylesheet" href="css/mobile-optimized.css" />
    <link rel="stylesheet" href="css/main.css?v=" />
    <link rel="stylesheet" href="css/layout-fixes.css?v=" />
    <link rel="stylesheet" href="css/mobile-footer.css?v=" />
    <link
      rel="stylesheet"
      href="css/hero-mobile.css?v="
      media="(max-width: 768px)"
    />

    <!-- Critical CSS for mobile hero - loads immediately -->
    <style>
      @media (max-width: 768px) {
        .hero {
          background: linear-gradient(
            135deg,
            #46bbe5 0%,
            #2d9cdb 50%,
            #10b981 100%
          ) !important;
          min-height: 85vh !important;
          padding: 2rem 0 !important;
        }
        .hero::before {
          display: none !important;
        }
        .floating-elements {
          display: none !important;
        }
        .hero-title,
        .hero-subtitle {
          color: #ffffff !important;
          text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15),
            0 4px 16px rgba(0, 0, 0, 0.1) !important;
        }
      }

      @media (max-width: 480px) {
        .hero {
          min-height: 75vh !important;
          padding: 1.5rem 0 !important;
        }
      }
    </style>

    <!-- Dynamic Cache Busting (Invisible to Users) -->
    <script>
      (function () {
        var timestamp = Date.now();
        var version = Math.floor(timestamp / 1000);

        // Update CSS cache busting
        var cssLinks = document.querySelectorAll(
          'link[rel="stylesheet"][href*="?v="]'
        );
        cssLinks.forEach(function (link) {
          link.href = link.href.replace("?v=", "?v=" + version);
        });

        // Update preload cache busting
        var preloadLinks = document.querySelectorAll(
          'link[rel="preload"][href*="css/"]'
        );
        preloadLinks.forEach(function (link) {
          if (link.href.indexOf("?") === -1) {
            link.href += "?v=" + version;
          }
        });

        // Set dynamic meta tags
        var lastModified = document.querySelector(
          'meta[http-equiv="Last-Modified"]'
        );
        var etag = document.querySelector('meta[http-equiv="ETag"]');
        if (lastModified) lastModified.content = new Date().toUTCString();
        if (etag) etag.content = '"' + version + '"';

        // Force reload on browser back/forward
        window.addEventListener("pageshow", function (event) {
          if (event.persisted) {
            window.location.reload();
          }
        });

        // Clear browser cache on load
        if ("caches" in window) {
          caches.keys().then(function (names) {
            names.forEach(function (name) {
              if (name.includes("eslfun") || name.includes("static")) {
                caches.delete(name);
              }
            });
          });
        }
      })();
    </script>

    <!-- Performance optimizations -->
    <style>
      @media (prefers-reduced-motion: reduce) {
        .hero-title,
        .hero-subtitle,
        .hero-stats,
        .hero-cta {
          animation: none !important;
          opacity: 1 !important;
          transform: none !important;
        }
      }
      @media (max-width: 480px) {
        .hero {
          min-height: 70vh !important;
        }
        .scroll-indicator {
          display: none !important;
        }
      }
    </style>

    <style>
      :root {
        --primary-color: #46bbe5;
        --primary-hover: #05425c;
        --secondary-color: #10b981;
        --accent-color: #f59e0b;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --text-light: #9ca3af;
        --bg-primary: #ffffff;
        --bg-secondary: #f9fafb;
        --border-color: #e5e7eb;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        --gradient-primary: linear-gradient(135deg, #46bbe5 0%, #2d9cdb 100%);
        --gradient-secondary: linear-gradient(135deg, #10b981 0%, #059669 100%);
        --gradient-hero: linear-gradient(
          135deg,
          #46bbe5 0%,
          #2d9cdb 50%,
          #10b981 100%
        );
        --radius-sm: 4px;
        --radius: 8px;
        --radius-lg: 12px;
        --radius-xl: 16px;
        --radius-2xl: 24px;
        --radius-full: 9999px;
        --transition-normal: all 0.3s ease;
      }

      .dark-mode {
        --text-primary: #f3f4f6;
        --text-secondary: #d1d5db;
        --text-light: #9ca3af;
        --bg-primary: #1f2937;
        --bg-secondary: #111827;
        --border-color: #374151;
      }

      html {
        scroll-behavior: smooth;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont,
          "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        color: var(--text-primary);
        background: var(--bg-primary);
        transition: all 0.3s ease;
        overflow-x: hidden;
      }

      /* Smooth scroll indicator */
      .scroll-progress {
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 3px;
        background: var(--gradient-primary);
        z-index: 10000;
        transition: width 0.1s ease;
      }

      /* Enhanced focus styles for accessibility */
      *:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
        transition: outline 0.2s ease;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }

      /* Enhanced Hero Section */
      .hero {
        position: relative;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        background: transparent;
        overflow: hidden;
      }

      .hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: var(--hero-bg-loaded, none) center/cover no-repeat;
        opacity: 1;
        z-index: 0;
        transition: opacity 0.3s ease;
      }

      .hero.bg-loaded::before {
        opacity: 1;
      }

      /* Mobile-first hero optimization */
      @media (max-width: 768px) {
        .hero {
          min-height: 80vh;
          padding: 1rem 0;
        }

        .hero::before {
          background: none !important;
          opacity: 0;
        }
      }

      @media (max-width: 480px) {
        .hero {
          min-height: 70vh;
        }
      }

      .hero-content {
        position: relative;
        z-index: 2;
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
        color: var(--text-primary);
      }

      .hero-title {
        font-family: "Poppins", sans-serif;
        font-size: clamp(2.5rem, 6vw, 4rem);
        font-weight: 800;
        margin-bottom: 1.5rem;
        letter-spacing: -0.02em;
        background: linear-gradient(
          135deg,
          #00d4ff 0%,
          #46bbe5 25%,
          #2d9cdb 50%,
          #10b981 75%,
          #0ea97a 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: none;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 1s ease 0.5s forwards, gradientFlow 6s ease infinite;
        background-size: 300% 300%;
      }

      @keyframes gradientFlow {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .hero-subtitle {
        font-size: clamp(1.1rem, 2.5vw, 1.4rem);
        font-weight: 500;
        opacity: 0.95;
        margin-bottom: 3rem;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
        color: #2d3748;
        text-shadow: 0 2px 6px rgba(255, 255, 255, 0.9),
          0 3px 12px rgba(255, 255, 255, 0.5);
        line-height: 1.7;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 1s ease 0.7s forwards;
      }

      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hero-stats {
        display: flex;
        justify-content: center;
        gap: 3rem;
        margin: 3rem 0;
        flex-wrap: wrap;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 1s ease 0.9s forwards;
      }

      .stat-item {
        text-align: center;
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        color: #ffd700;
        display: block;
        margin-bottom: 0.5rem;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .hero-cta {
        display: flex;
        gap: 1.5rem;
        justify-content: center;
        margin-top: 3rem;
        flex-wrap: wrap;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 1s ease 1.1s forwards;
      }

      .cta-primary,
      .cta-secondary {
        padding: 1.2rem 2.5rem;
        border: none;
        border-radius: var(--radius-lg);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1.1rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        min-width: 200px;
        justify-content: center;
        text-decoration: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .cta-primary {
        background: rgba(255, 255, 255, 0.95);
        color: #1a202c;
        backdrop-filter: blur(10px);
        font-weight: 600;
        text-shadow: none;
      }

      .cta-primary:hover {
        background: white;
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
      }

      .cta-secondary {
        background: transparent;
        color: #1a202c;
        border: 2px solid rgba(26, 32, 44, 0.6);
        backdrop-filter: blur(10px);
        font-weight: 600;
        text-shadow: 0 1px 3px rgba(255, 255, 255, 0.7);
      }

      .cta-secondary:hover {
        background: rgba(255, 255, 255, 0.25);
        border-color: #1a202c;
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      /* Mobile CTA button improvements */
      @media (max-width: 768px) {
        .cta-primary,
        .cta-secondary {
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
          font-weight: 700;
        }

        .cta-primary {
          background: #ffffff;
        }

        .cta-secondary {
          background: rgba(255, 255, 255, 0.15);
          border: 2px solid rgba(255, 255, 255, 0.8);
          color: #ffffff;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
      }

      .scroll-indicator {
        position: absolute;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        color: white;
        opacity: 0.7;
        cursor: pointer;
        animation: bounce 2s infinite;
      }

      @media (max-width: 480px) {
        .scroll-indicator {
          display: none; /* Hide on small mobile screens */
        }
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateX(-50%) translateY(0);
        }
        40% {
          transform: translateX(-50%) translateY(-10px);
        }
        60% {
          transform: translateX(-50%) translateY(-5px);
        }
      }

      /* Floating Elements */
      .floating-elements {
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: 1;
      }

      .floating-element {
        position: absolute;
        opacity: 0.6;
        animation: float 6s ease-in-out infinite;
      }

      .floating-element:nth-child(1) {
        top: 20%;
        left: 10%;
        animation-delay: 0s;
      }

      .floating-element:nth-child(2) {
        top: 60%;
        right: 15%;
        animation-delay: 2s;
      }

      .floating-element:nth-child(3) {
        bottom: 30%;
        left: 15%;
        animation-delay: 4s;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        33% {
          transform: translateY(-20px) rotate(120deg);
        }
        66% {
          transform: translateY(10px) rotate(240deg);
        }
      }

      /* Hide floating elements on mobile for performance */
      @media (max-width: 768px) {
        .floating-elements {
          display: none;
        }
      }

      /* Features Showcase Section */
      .features-showcase {
        padding: 6rem 0;
        background: var(--bg-primary);
        position: relative;
      }

      /* Alternating section backgrounds for better flow */
      section:nth-of-type(even) {
        background: var(--bg-secondary);
      }

      section:nth-of-type(odd) {
        background: var(--bg-primary);
      }

      /* Add subtle dividers between sections */
      section {
        position: relative;
        padding: 5rem 0;
      }

      section::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        max-width: 1000px;
        height: 1px;
        background: linear-gradient(
          to right,
          transparent,
          var(--border-color),
          transparent
        );
        opacity: 0.5;
      }

      section:last-of-type::after {
        display: none;
      }

      .section-header {
        text-align: center;
        margin-bottom: 4rem;
      }

      .section-title {
        font-family: "Poppins", sans-serif;
        font-size: clamp(2rem, 4vw, 3rem);
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 1rem;
        position: relative;
      }

      .section-subtitle {
        font-size: 1.2rem;
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2.5rem;
        margin-top: 3rem;
      }

      .feature-card {
        background: var(--bg-secondary);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-xl);
        padding: 2.5rem;
        text-align: center;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
      }

      .feature-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-primary);
        transform: scaleX(0);
        transition: transform 0.4s ease;
      }

      .feature-card:hover::before {
        transform: scaleX(1);
      }

      .feature-card:hover {
        transform: translateY(-10px) scale(1.02);
        box-shadow: var(--shadow-xl);
        border-color: var(--primary-color);
      }

      .feature-card:hover .feature-icon {
        transform: scale(1.1) rotate(5deg);
        color: var(--primary-color);
      }

      .feature-card:hover .feature-link {
        color: var(--primary-color);
        transform: translateX(5px);
      }

      .feature-icon {
        width: 80px;
        height: 80px;
        background: var(--gradient-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: white;
        margin: 0 auto 1.5rem;
        transition: transform 0.3s ease;
      }

      .feature-card:hover .feature-icon {
        transform: scale(1.1) rotate(10deg);
      }

      .feature-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 1rem;
      }

      .feature-description {
        color: var(--text-secondary);
        line-height: 1.6;
        margin-bottom: 1.5rem;
      }

      .feature-link {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: color 0.3s ease;
      }

      .feature-link:hover {
        color: var(--primary-hover);
      }

      /* Blog Card Hover Effects */
      .blog-post-card {
        transition: all 0.3s ease;
      }
      .blog-post-card:hover {
        transform: translateY(-10px);
        background: rgba(255, 255, 255, 0.15) !important;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      }

      /* Interactive Activity Section */
      .activity-section {
        padding: 6rem 0;
        background: var(--bg-secondary);
        text-align: center;
      }

      .activity-container {
        max-width: 800px;
        margin: 0 auto;
        background: var(--bg-primary);
        border-radius: var(--radius-2xl);
        padding: 3rem;
        box-shadow: var(--shadow-lg);
        border: 2px solid var(--border-color);
      }

      .activity-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 1rem;
        text-align: center;
        position: relative;
      }

      .challenge-badge {
        display: inline-block;
        background: linear-gradient(45deg, #ff6b35, #f7931e);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        font-size: 0.7rem;
        font-weight: 600;
        letter-spacing: 1px;
        margin-bottom: 0.5rem;
        animation: pulse 2s infinite;
        box-shadow: 0 2px 10px rgba(255, 107, 53, 0.3);
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .activity-subtitle {
        color: var(--text-secondary);
        margin-bottom: 2rem;
        font-size: 1.1rem;
      }

      .vocabulary-game {
        background: linear-gradient(
          135deg,
          var(--bg-secondary) 0%,
          rgba(70, 187, 229, 0.1) 100%
        );
        padding: 2.5rem;
        border-radius: 20px;
        box-shadow: var(--shadow-lg);
        border: 2px solid var(--primary-color);
        background-clip: padding-box;
        position: relative;
        overflow: hidden;
        margin: 2rem 0;
      }

      .vocabulary-game::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          45deg,
          var(--primary-color),
          var(--secondary-color)
        );
        opacity: 0.1;
        z-index: 0;
        border-radius: inherit;
      }

      .word-card {
        background: var(--bg-primary);
        padding: 2rem;
        border-radius: 15px;
        font-size: 1.5rem;
        font-weight: 600;
        text-align: center;
        margin-bottom: 2rem;
        box-shadow: 0 4px 12px rgba(70, 187, 229, 0.2);
        border: 3px solid var(--primary-color);
        position: relative;
        transform: translateY(0);
        transition: all 0.3s ease;
        color: var(--text-primary);
        z-index: 1;
      }

      /* Dark mode support for quiz */
      .dark-mode .word-card {
        background: var(--bg-secondary);
        box-shadow: 0 4px 12px rgba(70, 187, 229, 0.3);
        border-color: #46bbe5;
      }

      .dark-mode .vocabulary-game {
        border-color: #46bbe5;
        box-shadow: 0 8px 24px rgba(70, 187, 229, 0.15);
      }

      .word-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(70, 187, 229, 0.3);
      }

      /* Enhanced question display styling */
      .question-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .question-number {
        font-size: 0.9rem;
        color: var(--primary-color);
        font-weight: 600;
      }

      .difficulty-badge {
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.7rem;
        font-weight: 600;
        letter-spacing: 0.5px;
        text-transform: uppercase;
      }

      .difficulty-badge.easy {
        background: linear-gradient(45deg, #10b981, #34d399);
        color: white;
      }

      .difficulty-badge.medium {
        background: linear-gradient(45deg, #f59e0b, #fbbf24);
        color: white;
      }

      .difficulty-badge.expert {
        background: linear-gradient(45deg, #ef4444, #f87171);
        color: white;
        animation: expertPulse 2s infinite;
      }

      @keyframes expertPulse {
        0%,
        100% {
          box-shadow: 0 0 5px rgba(239, 68, 68, 0.5);
        }
        50% {
          box-shadow: 0 0 20px rgba(239, 68, 68, 0.8);
        }
      }
      .question-number {
        font-size: 0.9rem;
        color: var(--primary-color);
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .word-display {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-primary);
        margin: 1rem 0;
        text-decoration: underline;
        text-decoration-color: var(--primary-color);
      }

      .context-sentence {
        font-style: italic;
        color: var(--text-secondary);
        font-size: 1.1rem;
        margin: 1rem 0;
        padding: 1rem;
        background: rgba(70, 187, 229, 0.1);
        border-radius: 8px;
        border-left: 4px solid var(--primary-color);
      }

      /* Dark mode support for context */
      .dark-mode .context-sentence {
        background: rgba(70, 187, 229, 0.15);
        border-left-color: #46bbe5;
        color: var(--text-secondary);
      }

      .question-prompt {
        font-weight: 600;
        color: var(--text-primary);
        margin-top: 1rem;
      }

      .option-letter {
        color: var(--primary-color);
        font-weight: 700;
        margin-right: 0.5rem;
      }

      /* Dark mode support for option letters */
      .dark-mode .option-letter {
        color: #46bbe5;
      }

      /* Game results styling */
      .game-results {
        text-align: center;
        padding: 1rem;
      }

      .result-header h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        color: var(--text-primary);
      }

      .score-display {
        font-size: 3rem;
        font-weight: 900;
        margin: 0.5rem 0;
      }

      .percentage {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .result-message {
        font-size: 1.2rem;
        font-weight: 600;
        margin: 1rem 0;
        padding: 1rem;
        border-radius: 8px;
      }

      .result-stats {
        margin-top: 1rem;
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      .result-stats p {
        margin: 0.3rem 0;
      }

      /* Result type styling */
      .legendary .score-display {
        color: #ffd700;
      }
      .legendary .result-message {
        background: linear-gradient(45deg, #ffd700, #ffed4e);
        color: #000;
      }

      .exceptional .score-display {
        color: #ff6b35;
      }
      .exceptional .result-message {
        background: linear-gradient(45deg, #ff6b35, #f7931e);
        color: white;
      }

      .impressive .score-display {
        color: var(--secondary-color);
      }
      .impressive .result-message {
        background: var(--secondary-color);
        color: white;
      }

      .decent .score-display {
        color: var(--primary-color);
      }
      .decent .result-message {
        background: var(--primary-color);
        color: white;
      }

      .challenging .score-display {
        color: #ef4444;
      }
      .challenging .result-message {
        background: #ef4444;
        color: white;
      }

      /* Enhanced game set styling */
      .game-set-info {
        margin: 1rem 0;
      }

      .set-badge {
        display: inline-block;
        background: linear-gradient(
          45deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
        box-shadow: 0 2px 10px rgba(var(--primary-rgb), 0.3);
      }

      /* Social sharing styling */
      .social-share {
        margin-top: 1.5rem;
        padding-top: 1rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .share-btn {
        background: linear-gradient(45deg, #1da1f2, #0d8bd9);
        color: white;
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 25px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(29, 161, 242, 0.3);
      }

      .share-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(29, 161, 242, 0.4);
      }

      .motivational {
        background: linear-gradient(45deg, #4ade80, #22c55e);
        color: white;
        padding: 0.8rem;
        border-radius: 8px;
        margin: 1rem 0;
        font-weight: 500;
      }

      /* Game set indicator */
      .game-set-indicator {
        font-size: 0.9rem;
        color: var(--secondary-color);
        font-weight: 600;
        margin-bottom: 0.5rem;
        padding: 0.3rem 0.8rem;
        background: rgba(var(--secondary-rgb), 0.1);
        border-radius: 15px;
        display: inline-block;
        animation: fadeInScale 0.6s ease-out;
      }

      @keyframes fadeInScale {
        0% {
          opacity: 0;
          transform: scale(0.8);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* Success and error animations */
      .success-pulse {
        animation: successPulse 0.6s ease-out;
      }

      .error-shake {
        animation: errorShake 0.6s ease-out;
      }

      @keyframes successPulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 30px rgba(34, 197, 94, 0.4);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes errorShake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      /* Feedback messages */
      .feedback-message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 1rem 2rem;
        border-radius: 10px;
        font-weight: 600;
        font-size: 1.1rem;
        z-index: 100;
        animation: feedbackFade 1s ease-out;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      }

      .feedback-message.success {
        background: linear-gradient(45deg, #22c55e, #16a34a);
        color: white;
      }

      .feedback-message.error {
        background: linear-gradient(45deg, #ef4444, #dc2626);
        color: white;
      }

      @keyframes feedbackFade {
        0% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.8);
        }
        20% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1.1);
        }
        80% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
        100% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.9);
        }
      }

      /* Enhanced score display */
      .score-container {
        text-align: center;
        padding: 1rem;
        background: white;
        border-radius: 10px;
        box-shadow: var(--shadow-sm);
        margin: 1rem 0;
      }

      .current-score {
        font-size: 1.2rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background: #e5e7eb;
        border-radius: 4px;
        overflow: hidden;
        margin: 0.5rem 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(
          90deg,
          var(--primary-color),
          var(--secondary-color)
        );
        transition: width 0.3s ease;
      }

      .progress-text {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-top: 0.5rem;
      }

      .accuracy {
        font-size: 0.9rem;
        font-weight: 600;
        color: var(--primary-color);
        margin-top: 0.3rem;
      }

      .options-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .option-btn {
        background: var(--bg-primary);
        border: 2px solid var(--primary-color);
        padding: 1.2rem 1.5rem;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-weight: 500;
        font-size: 1rem;
        text-align: left;
        position: relative;
        overflow: hidden;
        color: var(--text-primary);
      }

      /* Dark mode support for option buttons */
      .dark-mode .option-btn {
        background: var(--bg-secondary);
        border-color: #46bbe5;
        box-shadow: 0 2px 8px rgba(70, 187, 229, 0.15);
      }

      .option-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(70, 187, 229, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .option-btn:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 8px 25px rgba(70, 187, 229, 0.4);
      }

      .option-btn:hover::before {
        left: 100%;
      }

      .option-btn.correct {
        background: var(--secondary-color);
        border-color: var(--secondary-color);
        color: white;
        animation: correctAnswer 0.6s ease;
      }

      .option-btn.incorrect {
        background: #ef4444;
        border-color: #ef4444;
        color: white;
        animation: shake 0.5s ease;
      }

      @keyframes correctAnswer {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      .activity-score {
        font-size: 1.2rem;
        font-weight: 600;
        color: var(--primary-color);
        margin-top: 1rem;
      }

      /* About Us Section */
      .about-section {
        padding: 6rem 0;
        background: var(--bg-primary);
      }

      .about-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: center;
      }

      .about-text .section-header {
        text-align: left;
        margin-bottom: 2rem;
      }

      .about-description p {
        color: var(--text-secondary);
        font-size: 1.1rem;
        line-height: 1.7;
        margin-bottom: 1.5rem;
      }

      .about-features {
        margin-top: 3rem;
      }

      .about-features .feature-item {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .feature-icon-small {
        width: 50px;
        height: 50px;
        background: var(--gradient-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.2rem;
        flex-shrink: 0;
      }

      .about-features .feature-content h4 {
        color: var(--text-primary);
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .about-features .feature-content p {
        color: var(--text-secondary);
        font-size: 0.95rem;
        margin: 0;
      }

      .about-visual {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .brand-showcase {
        background: var(--bg-secondary);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-2xl);
        padding: 3rem;
        text-align: center;
        box-shadow: var(--shadow-lg);
        max-width: 400px;
        width: 100%;
      }

      .logo-display {
        margin-bottom: 2.5rem;
      }

      .about-logo {
        width: 100px;
        height: 100px;
        margin-bottom: 1rem;
        border-radius: 50%;
        border: 3px solid var(--primary-color);
        padding: 10px;
      }

      .logo-display h3 {
        color: var(--text-primary);
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .brand-tagline {
        color: var(--primary-color);
        font-weight: 600;
        font-style: italic;
      }

      .credentials {
        display: grid;
        gap: 1rem;
      }

      .credential-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        background: var(--bg-primary);
        border-radius: var(--radius);
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
      }

      .credential-item:hover {
        border-color: var(--primary-color);
        transform: translateX(5px);
      }

      .credential-item i {
        color: var(--primary-color);
        font-size: 1.1rem;
      }

      .credential-item span {
        color: var(--text-primary);
        font-weight: 500;
        font-size: 0.9rem;
      }

      /* Statistics Section */
      .stats-section {
        padding: 4rem 0;
        background: var(--gradient-primary);
        color: white;
        text-align: center;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
      }

      .stat-card {
        padding: 1.5rem;
      }

      .stat-card .stat-number {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: #ffd700;
      }

      .stat-card .stat-label {
        font-size: 1rem;
        opacity: 0.9;
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .hero {
          padding: 2rem 1rem;
          min-height: 85vh;
          padding-top: calc(70px + 2rem); /* Account for header height */
        }

        .hero-content {
          padding: 1.5rem 1rem;
        }

        .hero-stats {
          gap: 1.5rem;
          margin: 2.5rem 0;
          padding: 0 0.5rem;
          flex-wrap: wrap;
          justify-content: center;
        }

        .stat-item {
          flex: 0 1 calc(50% - 0.75rem);
          min-width: 120px;
        }

        .stat-number {
          font-size: 2rem !important;
        }

        .stat-label {
          font-size: 0.85rem;
          line-height: 1.3;
        }

        .hero-cta {
          flex-direction: column;
          align-items: stretch;
          gap: 1rem;
          margin-top: 2.5rem;
          padding: 0 1rem;
        }

        .cta-primary,
        .cta-secondary {
          width: 100%;
          max-width: 100%;
          padding: 1rem 1.5rem;
          font-size: 1rem;
          justify-content: center;
        }

        .features-grid {
          grid-template-columns: 1fr;
          gap: 2rem;
          padding: 0 0.5rem;
        }

        .feature-card {
          padding: 2rem 1.5rem;
        }

        .options-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .about-content {
          grid-template-columns: 1fr;
          gap: 3rem;
        }

        .about-text .section-header {
          text-align: center;
        }

        .brand-showcase {
          padding: 2.5rem 1.5rem;
        }

        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 1.5rem;
        }

        .section-header {
          margin-bottom: 3rem;
          padding: 0 1rem;
        }

        .section-title {
          font-size: clamp(1.75rem, 5vw, 2.5rem);
          margin-bottom: 1.25rem;
        }

        .section-subtitle {
          font-size: 1.05rem;
          line-height: 1.65;
        }

        /* Mobile AdSense optimization */
        .adsbygoogle {
          margin: 2rem auto !important;
          max-width: 100%;
        }

        /* Better mobile hero section */
        .hero-title {
          font-size: 2rem !important;
          line-height: 1.25;
          margin-bottom: 1.25rem;
          margin-top: 1rem;
        }

        .hero-subtitle {
          font-size: 1rem !important;
          margin-bottom: 2rem;
          line-height: 1.6;
        }

        /* Optimize scroll indicator for mobile */
        .scroll-indicator {
          bottom: 1rem;
          font-size: 1.2rem;
        }

        /* Optimize activity section for mobile */
        .vocabulary-game {
          padding: 2rem 1.5rem;
        }

        .word-card {
          padding: 2rem 1.5rem;
          font-size: 1.5rem;
          margin-bottom: 1.75rem;
        }

        .option-btn {
          padding: 1rem 1.25rem;
          font-size: 1rem;
          margin: 0.5rem 0;
        }

        /* Better section spacing on mobile */
        section {
          padding: 3.5rem 0;
        }

        .features-showcase,
        .activity-section,
        .blog-preview-section {
          padding: 4rem 0;
        }

        /* Improve readability */
        p {
          font-size: 1rem;
          line-height: 1.7;
        }

        .activity-title {
          font-size: 2rem;
        }
      }

      /* Clean AdSense styling */
      .adsbygoogle {
        display: block;
        margin: 2rem auto;
        text-align: center;
        max-width: 100%;
      }

      /* Mobile touch optimizations */
      @media (hover: none) and (pointer: coarse) {
        .feature-card:hover,
        .stat-card:hover,
        .cta-primary:hover,
        .cta-secondary:hover {
          transform: none;
        }

        .feature-card:active,
        .stat-card:active {
          transform: scale(0.98);
        }

        * {
          -webkit-tap-highlight-color: transparent;
        }
      }

      /* Small mobile screens - Enhanced */
      @media (max-width: 480px) {
        .hero {
          min-height: 75vh !important;
          padding: 1.5rem 0.75rem !important;
          padding-top: calc(60px + 1.5rem) !important;
        }

        .hero-content {
          padding: 1rem 0.75rem;
        }

        .hero-title {
          font-size: 1.75rem !important;
          margin-bottom: 1rem;
        }

        .hero-subtitle {
          font-size: 0.95rem !important;
          margin-bottom: 1.75rem;
        }

        .hero-stats {
          gap: 1rem;
          margin: 2rem 0;
        }

        .stat-item {
          flex: 0 1 calc(50% - 0.5rem);
          min-width: 100px;
        }

        .stat-number {
          font-size: 1.75rem !important;
        }

        .stat-label {
          font-size: 0.8rem;
        }

        .hero-cta {
          gap: 0.875rem;
          margin-top: 2rem;
          padding: 0 0.75rem;
        }

        .cta-primary,
        .cta-secondary {
          padding: 0.875rem 1.25rem;
          font-size: 0.95rem;
        }

        .section-title {
          font-size: 1.5rem !important;
        }

        .section-subtitle {
          font-size: 0.95rem;
        }

        .feature-card {
          padding: 1.5rem 1rem;
        }

        .feature-icon {
          width: 60px;
          height: 60px;
          font-size: 1.5rem;
        }

        .feature-title {
          font-size: 1.25rem;
        }

        .activity-title {
          font-size: 1.75rem;
        }

        .vocabulary-game {
          padding: 1.5rem 1rem;
        }

        .word-card {
          padding: 1.5rem 1rem;
          font-size: 1.25rem;
        }

        .option-btn {
          padding: 0.875rem 1rem;
          font-size: 0.95rem;
        }
      }

      /* AI Bot Assistant */
      .ai-bot-container {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        z-index: 1000;
        font-family: "Inter", sans-serif;
      }

      .ai-bot-button {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #46bbe5 0%, #2d9cdb 100%);
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 20px rgba(70, 187, 229, 0.4);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
        visibility: hidden;
        transform: scale(0.8);
        position: relative;
        overflow: hidden;
      }

      .ai-bot-button.show {
        opacity: 1;
        visibility: visible;
        transform: scale(1);
      }

      .ai-bot-button:hover {
        transform: scale(1.1);
        box-shadow: 0 8px 30px rgba(70, 187, 229, 0.6);
      }

      .ai-bot-button::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .ai-bot-button:hover::before {
        width: 300px;
        height: 300px;
      }

      .ai-bot-icon {
        font-size: 1.8rem;
        position: relative;
        z-index: 1;
        animation: botFloat 3s ease-in-out infinite;
      }

      @keyframes botFloat {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-5px);
        }
      }

      .ai-bot-pulse {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: linear-gradient(135deg, #46bbe5 0%, #2d9cdb 100%);
        opacity: 0;
        animation: pulse 2s ease-out infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 0.8;
        }
        100% {
          transform: scale(1.5);
          opacity: 0;
        }
      }

      .ai-bot-chat {
        position: absolute;
        bottom: 80px;
        right: 0;
        width: 350px;
        max-height: 500px;
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        display: none;
        flex-direction: column;
        overflow: hidden;
        transform: translateY(20px) scale(0.95);
        opacity: 0;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .ai-bot-chat.active {
        display: flex;
        transform: translateY(0) scale(1);
        opacity: 1;
      }

      .ai-bot-header {
        background: linear-gradient(135deg, #46bbe5 0%, #2d9cdb 100%);
        color: white;
        padding: 1.2rem 1.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-radius: 20px 20px 0 0;
      }

      .ai-bot-header-content {
        display: flex;
        align-items: center;
        gap: 0.8rem;
      }

      .ai-bot-avatar {
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem;
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .ai-bot-status {
        display: flex;
        flex-direction: column;
      }

      .ai-bot-name {
        font-weight: 600;
        font-size: 1rem;
      }

      .ai-bot-online {
        font-size: 0.75rem;
        opacity: 0.9;
        display: flex;
        align-items: center;
        gap: 0.4rem;
      }

      .status-dot {
        width: 6px;
        height: 6px;
        background: #4ade80;
        border-radius: 50%;
        animation: blink 2s ease-in-out infinite;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.3;
        }
      }

      .ai-bot-close {
        background: none;
        border: none;
        color: white;
        font-size: 1.3rem;
        cursor: pointer;
        padding: 0.3rem;
        transition: transform 0.2s;
      }

      .ai-bot-close:hover {
        transform: rotate(90deg);
      }

      .ai-bot-messages {
        flex: 1;
        padding: 1.5rem;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        background: #f9fafb;
        max-height: 350px;
      }

      .ai-bot-messages::-webkit-scrollbar {
        width: 6px;
      }

      .ai-bot-messages::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      .ai-bot-messages::-webkit-scrollbar-thumb {
        background: #46bbe5;
        border-radius: 3px;
      }

      .bot-message {
        display: flex;
        gap: 0.8rem;
        animation: slideIn 0.3s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .bot-message-avatar {
        width: 30px;
        height: 30px;
        background: linear-gradient(135deg, #46bbe5 0%, #2d9cdb 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 0.9rem;
        flex-shrink: 0;
      }

      .bot-message-content {
        background: white;
        padding: 0.8rem 1rem;
        border-radius: 12px 12px 12px 4px;
        max-width: 80%;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        color: var(--text-primary);
        line-height: 1.5;
        font-size: 0.9rem;
      }

      .quick-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }

      .quick-action-btn {
        background: linear-gradient(135deg, #46bbe5 0%, #2d9cdb 100%);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.2s;
        font-weight: 500;
      }

      .quick-action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(70, 187, 229, 0.4);
      }

      .typing-indicator {
        display: flex;
        gap: 0.3rem;
        padding: 0.8rem;
      }

      .typing-dot {
        width: 8px;
        height: 8px;
        background: #46bbe5;
        border-radius: 50%;
        animation: typing 1.4s infinite;
      }

      .typing-dot:nth-child(2) {
        animation-delay: 0.2s;
      }

      .typing-dot:nth-child(3) {
        animation-delay: 0.4s;
      }

      @keyframes typing {
        0%,
        60%,
        100% {
          transform: translateY(0);
          opacity: 0.7;
        }
        30% {
          transform: translateY(-10px);
          opacity: 1;
        }
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .ai-bot-container {
          bottom: 1rem;
          right: 1rem;
        }

        .ai-bot-chat {
          width: calc(100vw - 2rem);
          bottom: 70px;
          right: -1rem;
          max-height: 400px;
        }

        .ai-bot-button {
          width: 55px;
          height: 55px;
        }
      }

      /* Scroll Progress Indicator */
      .scroll-progress {
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 3px;
        background: var(--gradient-primary);
        z-index: 10000;
        transition: width 0.1s ease;
      }

      /* Loading Spinner */
      .page-loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--bg-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        transition: opacity 0.5s ease;
      }

      .page-loader.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .spinner {
        width: 50px;
        height: 50px;
        border: 4px solid var(--border-color);
        border-top: 4px solid var(--primary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Smooth scroll behavior */
      html {
        scroll-behavior: smooth;
      }

      /* Reduced motion support */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }

        html {
          scroll-behavior: auto;
        }
      }

      .reduced-motion * {
        animation: none !important;
        transition: none !important;
      }

      /* Enhanced focus styles for accessibility */
      *:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
        transition: outline 0.2s ease;
      }

      /* Improved button interactions */
      .cta-primary,
      .cta-secondary,
      .ai-bot-button {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .cta-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(70, 187, 229, 0.3);
      }

      .cta-secondary:hover {
        background: var(--primary-color);
        color: white;
        transform: translateY(-2px);
      }

      /* Small Mobile Optimization */
      @media (max-width: 480px) {
        .container {
          padding: 0 1rem;
        }

        .hero {
          padding: 2rem 0 1rem;
          min-height: 70vh;
        }

        .hero-content {
          padding: 0.5rem;
        }

        .hero {
          padding-top: 8rem !important;
          min-height: 100vh;
        }

        .hero-title {
          font-size: 1.75rem !important;
          margin-bottom: 1rem;
          line-height: 1.3;
          padding: 0 1rem;
        }

        .hero-intro {
          font-size: 1rem !important;
          padding: 0 1rem;
        }

        .hero-subtitle {
          font-size: 0.9rem !important;
          margin-bottom: 1.5rem;
          padding: 0 1rem;
          line-height: 1.5;
        }

        .hero-stats {
          gap: 0.5rem;
          margin: 1.5rem 0;
          flex-wrap: wrap;
          justify-content: space-around;
        }

        .stat-item {
          min-width: 70px;
          flex: 0 1 30%;
        }

        .stat-number {
          font-size: 1.5rem !important;
        }

        .stat-label {
          font-size: 0.7rem;
          line-height: 1.2;
        }

        .hero-cta {
          margin-top: 1.5rem;
        }

        .cta-primary,
        .cta-secondary {
          padding: 0.9rem 1.2rem;
          font-size: 0.95rem;
          min-height: 48px;
        }

        .stats-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .stat-card {
          padding: 1.5rem 1rem;
        }

        .stat-number {
          font-size: 2rem !important;
        }

        .activity-container {
          padding: 2rem 1rem;
        }

        .activity-title {
          font-size: 1.8rem;
        }

        .challenge-badge {
          font-size: 0.6rem;
          padding: 0.2rem 0.6rem;
        }

        .vocabulary-game {
          padding: 1rem;
        }

        .word-card {
          padding: 1rem;
          font-size: 1.1rem;
        }

        .word-display {
          font-size: 1.5rem;
        }

        .context-sentence {
          font-size: 1rem;
          padding: 0.75rem;
        }

        .score-display {
          font-size: 2rem;
        }

        .result-message {
          font-size: 1rem;
        }

        /* Features Grid Mobile */
        .features-grid {
          grid-template-columns: 1fr !important;
          gap: 1.5rem !important;
        }

        .feature-card {
          padding: 1.5rem !important;
        }

        /* Games Grid Mobile */
        .games-grid {
          grid-template-columns: 1fr !important;
          gap: 1.5rem !important;
        }

        .game-card {
          padding: 1.5rem !important;
        }

        /* Blog Grid Mobile */
        .blog-posts-grid {
          grid-template-columns: 1fr !important;
          gap: 1.5rem !important;
        }

        .blog-post-card {
          padding: 1.5rem !important;
        }

        .section-header h2 {
          font-size: 1.8rem !important;
        }

        .section-header p {
          font-size: 1rem !important;
          padding: 0 1rem;
        }

        .question-header {
          flex-direction: column;
          gap: 0.5rem;
          align-items: center;
        }

        .difficulty-badge {
          font-size: 0.6rem;
          padding: 0.2rem 0.6rem;
        }

        .feature-card {
          padding: 1.5rem 1rem;
        }

        .feature-title {
          font-size: 1.3rem;
        }

        .logo-text {
          font-size: 1.2rem;
        }

        .nav-links {
          font-size: 0.85rem;
        }

        .section-title {
          font-size: 2rem;
        }

        .section-subtitle {
          font-size: 1rem;
        }

        /* Optimize touch targets for mobile */
        .cta-primary,
        .cta-secondary {
          min-height: 48px;
          padding: 1rem 1.5rem;
        }

        .option-button {
          min-height: 48px;
          touch-action: manipulation;
        }

        .ai-bot-button {
          min-height: 48px;
          min-width: 48px;
        }

        /* Improve readability on small screens */
        body {
          font-size: 16px;
          line-height: 1.6;
        }

        /* Optimize form elements for mobile */
        button,
        input,
        select,
        textarea {
          font-size: 16px; /* Prevents zoom on iOS */
        }
      }
    </style>
  </head>

  <body>
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress" id="scrollProgress"></div>
    <!-- Header & Navigation -->
    <header>
      <div class="container">
        <nav class="navbar">
          <a href="index.html" class="logo-container">
            <img
              src="images/1.png"
              alt="ESL Fun Online Logo"
              class="logo-image"
            />
            <span class="logo-text">ESL Fun Online</span>
          </a>

          <ul
            class="nav-links"
            id="navLinks"
            role="menubar"
            aria-label="Main navigation"
          >
            <li class="nav-item current" role="none">
              <a href="index.html" class="nav-link" role="menuitem">
                <i class="fas fa-home"></i>
                Home
              </a>
            </li>
            <li class="nav-item" role="none">
              <a
                href="#"
                class="nav-link"
                role="menuitem"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-book"></i>
                English
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown" role="menu" aria-label="English submenu">
                <a href="english/grammar.html" class="dropdown-item">
                  <i class="fas fa-spell-check"></i>
                  Grammar Guides
                </a>
                <a href="english/vocabguide.html" class="dropdown-item">
                  <i class="fas fa-book-open"></i>
                  Vocabulary Building
                </a>
                <a href="english/worksheets.html" class="dropdown-item">
                  <i class="fas fa-file-alt"></i>
                  Worksheets
                </a>
                <a href="english/writingf.html" class="dropdown-item">
                  <i class="fas fa-pen"></i>
                  Writing for Success
                </a>
                <a href="english/business.html" class="dropdown-item">
                  <i class="fas fa-briefcase"></i>
                  Business English
                </a>
                <a href="english/test.html" class="dropdown-item">
                  <i class="fas fa-graduation-cap"></i>
                  Test Preparation
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-code"></i>
                Coding
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="coding/computerbasics.html" class="dropdown-item">
                  <i class="fas fa-desktop"></i>
                  Computer Basics
                </a>
                <a href="coding/ai.html" class="dropdown-item">
                  <i class="fas fa-robot"></i>
                  AI Basics
                </a>
                <a href="coding/codingresources.html" class="dropdown-item">
                  <i class="fas fa-code"></i>
                  Coding Basics
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-music"></i>
                Music
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="music/fundamentals.html" class="dropdown-item">
                  <i class="fas fa-music"></i>
                  Music Fundamentals
                </a>
                <a href="music/guitar.html" class="dropdown-item">
                  <i class="fas fa-guitar"></i>
                  Guitar
                </a>
                <a href="music/bass.html" class="dropdown-item">
                  <i class="fas fa-bass-clef"></i>
                  Bass
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="games/games.html" class="nav-link">
                <i class="fas fa-dice"></i>
                Games
              </a>
            </li>
            <li class="nav-item">
              <a href="tools/tools.html" class="nav-link">
                <i class="fas fa-tools"></i>
                Toolkit
              </a>
            </li>
            <li class="nav-item">
              <a href="blog/blog.html" class="nav-link">
                <i class="fas fa-book-open"></i>
                Blog
              </a>
            </li>
          </ul>

          <div class="controls">
            <button
              class="control-btn theme-toggle"
              id="themeToggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
            <a
              class="control-btn admin-toggle"
              id="adminToggle"
              aria-label="Admin"
              href="login.html"
            >
              <i class="fas fa-user-shield"></i>
            </a>
          </div>
          <button
            class="control-btn mobile-toggle"
            id="mobileToggle"
            aria-label="Toggle mobile menu"
          >
            <i class="fas fa-bars"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- Enhanced Hero Section -->
    <section class="hero" id="hero">
      <div class="floating-elements">
        <div class="floating-element">
          <i
            class="fas fa-book"
            style="font-size: 2rem; color: rgba(255, 255, 255, 0.3)"
          ></i>
        </div>
        <div class="floating-element">
          <i
            class="fas fa-code"
            style="font-size: 2rem; color: rgba(255, 255, 255, 0.3)"
          ></i>
        </div>
        <div class="floating-element">
          <i
            class="fas fa-graduation-cap"
            style="font-size: 2rem; color: rgba(255, 255, 255, 0.3)"
          ></i>
        </div>
      </div>

      <div class="hero-content">
        <h1 class="hero-title">Fun ESL Games & Online English Learning</h1>
        <p
          class="hero-intro"
          style="
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 1rem;
            color: rgba(255, 255, 255, 0.95);
          "
        >
          ESL Fun Online offers free, interactive games and activities for
          English learners of all levels.
        </p>
        <p class="hero-subtitle">
          Transform your career with comprehensive online courses, expert
          teachers, and interactive learning experiences. Join thousands of
          successful learners worldwide.
        </p>

        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-number" data-target="100+">0</span>
            <span class="stat-label">Learning Resources</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" data-target="95%">0</span>
            <span class="stat-label">User Satisfaction</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" data-target="24/7">0</span>
            <span class="stat-label">Platform Access</span>
          </div>
        </div>

        <div class="hero-cta">
          <a href="english/grammar.html" class="cta-primary">
            <i class="fas fa-book"></i>
            Learn Grammar
          </a>
          <a href="games/games.html" class="cta-secondary">
            <i class="fas fa-gamepad"></i>
            Play Games
          </a>
        </div>
      </div>

      <div class="scroll-indicator" onclick="scrollToSection('features')">
        <i class="fas fa-chevron-down fa-2x"></i>
      </div>
    </section>

    <!-- Features Showcase Section -->
    <section class="features-showcase" id="features">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Featured Resources</h2>
          <p class="section-subtitle">
            Essential learning materials and tools to accelerate your English
            learning journey.
          </p>
        </div>

        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-comments"></i>
            </div>
            <h3 class="feature-title">50 Essential Idioms</h3>
            <p class="feature-description">
              Master the most commonly used English idioms with clear
              explanations, examples, and practice exercises to sound more
              natural.
            </p>
            <a href="english/idioms.html" class="feature-link">
              Learn Idioms <i class="fas fa-arrow-right"></i>
            </a>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-puzzle-piece"></i>
            </div>
            <h3 class="feature-title">50 Essential Phrasal Verbs</h3>
            <p class="feature-description">
              Unlock the secrets of phrasal verbs with comprehensive guides
              covering the most important combinations for everyday English.
            </p>
            <a href="english/phrasal-verbs.html" class="feature-link">
              Study Phrasal Verbs <i class="fas fa-arrow-right"></i>
            </a>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-clock"></i>
            </div>
            <h3 class="feature-title">Verb Tenses Mastery</h3>
            <p class="feature-description">
              Master all English verb tenses with detailed explanations,
              timeline charts, and practical exercises for perfect grammar.
            </p>
            <a href="english/verb-tenses.html" class="feature-link">
              Master Tenses <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Explore English Paths Section -->
    <section
      class="games-showcase"
      style="padding: 4rem 0; background: var(--bg-secondary)"
    >
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Explore English Paths</h2>
          <p class="section-subtitle">
            Choose your learning path and master English for your goals
          </p>
        </div>

        <div
          class="games-grid"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
          "
        >
          <div
            class="game-card"
            style="
              background: var(--bg-primary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
            "
          >
            <div
              class="game-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(45deg, #46bbe5, #2d9cdb);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin: 0 auto 1rem;
              "
            >
              <i class="fas fa-briefcase"></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                margin-bottom: 1rem;
                color: var(--text-primary);
              "
            >
              Business English
            </h3>
            <p
              style="
                color: var(--text-secondary);
                margin-bottom: 1.5rem;
                line-height: 1.6;
              "
            >
              Master professional English for the workplace, meetings,
              presentations, and business communication.
            </p>
            <a
              href="/english/business.html"
              class="game-link"
              style="
                color: var(--primary-color);
                text-decoration: none;
                font-weight: 600;
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                transition: color 0.3s ease;
              "
            >
              Start Business Path
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>

          <div
            class="game-card"
            style="
              background: var(--bg-primary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
            "
          >
            <div
              class="game-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(45deg, #10b981, #059669);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin: 0 auto 1rem;
              "
            >
              <i class="fas fa-graduation-cap"></i>
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                margin-bottom: 1rem;
                color: var(--text-primary);
              "
            >
              Test Preparation
            </h3>
            <p
              style="
                color: var(--text-secondary);
                margin-bottom: 1.5rem;
                line-height: 1.6;
              "
            >
              Prepare for IELTS, TOEIC, TOEFL, and other English proficiency
              exams with expert guidance.
            </p>
            <a
              href="/english/test.html"
              class="game-link"
              style="
                color: var(--primary-color);
                text-decoration: none;
                font-weight: 600;
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                transition: color 0.3s ease;
              "
            >
              Explore Test Prep
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Google AdSense -->
    <ins
      class="adsbygoogle"
      style="display: block; text-align: center; margin: 2rem auto"
      data-ad-client="ca-pub-2456627863532019"
      data-ad-slot="1718707782"
      data-ad-format="auto"
      data-full-width-responsive="true"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <!-- Interactive Activity Section -->
    <section class="activity-section" id="activity">
      <div class="container">
        <div class="activity-container">
          <h2 class="activity-title">
            <span class="challenge-badge">⚡ ULTIMATE TEST</span>
            Only 1% Can Pass This English Mastery Test!
          </h2>
          <p class="activity-subtitle">
            From everyday English to expert-level mastery. Start easy, but can
            you survive the final questions that stump even teachers?
          </p>

          <div class="vocabulary-game" id="vocabularyGame">
            <div class="word-card" id="wordCard">Loading...</div>
            <div class="options-grid" id="optionsGrid">
              <!-- Options will be populated by JavaScript -->
            </div>
            <div class="activity-score" id="gameScore">Score: 0/0</div>
          </div>

          <button
            onclick="resetGame()"
            style="
              padding: 1rem 2rem;
              background: var(--primary-color);
              color: white;
              border: none;
              border-radius: 8px;
              cursor: pointer;
              margin-top: 1rem;
            "
          >
            <i class="fas fa-shuffle"></i> New Challenge
          </button>
        </div>
      </div>
    </section>

    <!-- Google AdSense -->
    <ins
      class="adsbygoogle"
      style="display: block; text-align: center; margin: 2rem auto"
      data-ad-client="ca-pub-2456627863532019"
      data-ad-slot="1718707782"
      data-ad-format="auto"
      data-full-width-responsive="true"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <!-- Latest Blog Posts Section -->
    <section
      class="blog-preview-section"
      style="
        padding: 6rem 0;
        background: linear-gradient(
          135deg,
          var(--primary-color) 0%,
          var(--secondary-color) 100%
        );
        color: white;
      "
    >
      <div class="container">
        <div
          class="section-header"
          style="text-align: center; margin-bottom: 4rem"
        >
          <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: white">
            Latest Learning Tips & Insights
          </h2>
          <p
            style="
              font-size: 1.2rem;
              opacity: 0.9;
              margin-bottom: 2rem;
              color: rgba(255, 255, 255, 0.9);
            "
          >
            Stay updated with proven English learning strategies and expert
            advice
          </p>
        </div>

        <div
          class="blog-posts-grid"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
          "
        >
          <div
            class="blog-post-card"
            style="
              background: rgba(255, 255, 255, 0.1);
              backdrop-filter: blur(10px);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: var(--radius-xl);
              padding: 2rem;
              transition: all 0.3s ease;
              cursor: pointer;
            "
            onclick="window.location.href='blog/lesson-technology.html'"
          >
            <div
              class="blog-post-category"
              style="
                background: rgba(255, 255, 255, 0.2);
                color: white;
                padding: 0.5rem 1rem;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 600;
                margin-bottom: 1rem;
                display: inline-block;
              "
            >
              ESL Lessons
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                margin-bottom: 1rem;
                color: white;
              "
            >
              💻 Technology Lesson: Interactive ESL for 12-Year-Olds
            </h3>
            <p
              style="
                color: rgba(255, 255, 255, 0.8);
                line-height: 1.6;
                margin-bottom: 1.5rem;
              "
            >
              Complete interactive lesson with 10 vocabulary words, bingo game,
              grammar focus, and random generators. Perfect for teaching
              technology vocabulary!
            </p>
            <div
              class="blog-post-meta"
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                color: rgba(255, 255, 255, 0.7);
                font-size: 0.9rem;
              "
            >
              <span><i class="fas fa-calendar"></i> Just Now</span>
              <span><i class="fas fa-clock"></i> 45-60 min</span>
            </div>
          </div>

          <div
            class="blog-post-card"
            style="
              background: rgba(255, 255, 255, 0.1);
              backdrop-filter: blur(10px);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: var(--radius-xl);
              padding: 2rem;
              transition: all 0.3s ease;
              cursor: pointer;
            "
            onclick="window.location.href='blog/grammar-mistakes.html'"
          >
            <div
              class="blog-post-category"
              style="
                background: rgba(255, 255, 255, 0.2);
                color: white;
                padding: 0.5rem 1rem;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 600;
                margin-bottom: 1rem;
                display: inline-block;
              "
            >
              Grammar
            </div>
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                margin-bottom: 1rem;
                color: white;
              "
            >
              5 Common Grammar Mistakes to Avoid
            </h3>
            <p
              style="
                color: rgba(255, 255, 255, 0.8);
                line-height: 1.6;
                margin-bottom: 1.5rem;
              "
            >
              Learn about the most frequent grammar errors that even advanced
              English learners make and how to fix them...
            </p>
            <div
              class="blog-post-meta"
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                color: rgba(255, 255, 255, 0.7);
                font-size: 0.9rem;
              "
            >
              <span><i class="fas fa-calendar"></i> 1 week ago</span>
              <span><i class="fas fa-clock"></i> 7 min read</span>
            </div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 3rem">
          <a
            href="blog/blog.html"
            style="
              background: rgba(255, 255, 255, 0.2);
              color: white;
              padding: 1rem 2rem;
              border-radius: 50px;
              text-decoration: none;
              font-weight: 600;
              border: 2px solid rgba(255, 255, 255, 0.3);
              transition: all 0.3s ease;
              display: inline-flex;
              align-items: center;
              gap: 0.5rem;
              backdrop-filter: blur(10px);
            "
            onmouseover="this.style.background='rgba(255, 255, 255, 0.3)'"
            onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'"
          >
            <i class="fas fa-book-open"></i>
            Read More Articles
          </a>
        </div>
      </div>
    </section>

    <!-- About Us Section -->
    <section class="about-section">
      <div class="container">
        <div class="about-content">
          <div class="about-text">
            <div class="section-header">
              <h2 class="section-title">About ESL Fun Online</h2>
              <p class="section-subtitle">
                Your trusted partner in language learning and skill development
              </p>
            </div>

            <div class="about-description">
              <p>
                Founded in 2020, ESL Fun Online has emerged as a leading
                educational platform dedicated to making English learning and
                coding education accessible, engaging, and effective for
                learners worldwide.
              </p>

              <p>
                Our mission is to break down language barriers and bridge the
                digital divide by providing high-quality, interactive learning
                experiences that empower students to achieve their personal and
                professional goals.
              </p>
            </div>

            <div class="about-features">
              <div class="feature-item">
                <div class="feature-icon-small">
                  <i class="fas fa-award"></i>
                </div>
                <div class="feature-content">
                  <h4>Certified Excellence</h4>
                  <p>
                    All our instructors are certified professionals with proven
                    teaching experience
                  </p>
                </div>
              </div>

              <div class="feature-item">
                <div class="feature-icon-small">
                  <i class="fas fa-globe"></i>
                </div>
                <div class="feature-content">
                  <h4>Global Reach</h4>
                  <p>
                    Serving students in over 50 countries with culturally
                    adapted content
                  </p>
                </div>
              </div>

              <div class="feature-item">
                <div class="feature-icon-small">
                  <i class="fas fa-rocket"></i>
                </div>
                <div class="feature-content">
                  <h4>Innovation Focus</h4>
                  <p>
                    Cutting-edge learning technology and interactive
                    methodologies
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="about-visual">
            <div class="brand-showcase">
              <div class="logo-display">
                <img
                  src="images/1.png"
                  alt="ESL Fun Online Logo"
                  class="about-logo"
                />
                <h3>ESL Fun Online</h3>
                <p class="brand-tagline">Transform Your Future</p>
              </div>

              <div class="credentials">
                <div class="credential-item">
                  <i class="fas fa-certificate"></i>
                  <span>Accredited Learning Platform</span>
                </div>
                <div class="credential-item">
                  <i class="fas fa-shield-alt"></i>
                  <span>Secure & Trusted</span>
                </div>
                <div class="credential-item">
                  <i class="fas fa-book-open"></i>
                  <span>1000+ Learning Resources</span>
                </div>
                <div class="credential-item">
                  <i class="fas fa-star"></i>
                  <span>Quality Education Since 2020</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Google AdSense -->
    <ins
      class="adsbygoogle"
      style="display: block; text-align: center; margin: 2rem auto"
      data-ad-client="ca-pub-2456627863532019"
      data-ad-slot="1718707782"
      data-ad-format="auto"
      data-full-width-responsive="true"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <!-- Featured Tools Section -->
    <section
      class="featured-tools-section"
      style="padding: 6rem 0; background: var(--bg-primary)"
    >
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Featured Tools</h2>
          <p class="section-subtitle">
            Powerful resources to enhance your English learning journey
          </p>
        </div>

        <div
          class="tools-grid"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
          "
        >
          <!-- Tool 1: Grammar Ladder -->
          <div
            class="tool-card"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
              cursor: pointer;
            "
            onclick="window.location.href='english/grammar.html'"
          >
            <div
              class="tool-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(45deg, #46bbe5, #2d9cdb);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin: 0 auto 1rem;
              "
            >
              <i class="fas fa-chart-line"></i>
            </div>
            <h3
              style="
                font-size: 1.2rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
                color: var(--text-primary);
              "
            >
              Grammar Ladder
            </h3>
            <p
              style="
                color: var(--text-secondary);
                font-size: 0.95rem;
                line-height: 1.5;
              "
            >
              Climb to grammar mastery with progressive difficulty levels
            </p>
          </div>

          <!-- Tool 2: Vocabulary Builder -->
          <div
            class="tool-card"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
              cursor: pointer;
            "
            onclick="window.location.href='english/vocabguide.html'"
          >
            <div
              class="tool-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(45deg, #10b981, #059669);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin: 0 auto 1rem;
              "
            >
              <i class="fas fa-book"></i>
            </div>
            <h3
              style="
                font-size: 1.2rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
                color: var(--text-primary);
              "
            >
              Vocab Builder
            </h3>
            <p
              style="
                color: var(--text-secondary);
                font-size: 0.95rem;
                line-height: 1.5;
              "
            >
              Expand your word bank with flashcards and quizzes
            </p>
          </div>

          <!-- Tool 3: Writing Wizard -->
          <div
            class="tool-card"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
              cursor: pointer;
            "
            onclick="window.location.href='english/writingf.html'"
          >
            <div
              class="tool-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(45deg, #8b5cf6, #6d28d9);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin: 0 auto 1rem;
              "
            >
              <i class="fas fa-magic"></i>
            </div>
            <h3
              style="
                font-size: 1.2rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
                color: var(--text-primary);
              "
            >
              Writing Wizard
            </h3>
            <p
              style="
                color: var(--text-secondary);
                font-size: 0.95rem;
                line-height: 1.5;
              "
            >
              Generate creative writing prompts and story ideas instantly
            </p>
          </div>

          <!-- Tool 4: Custom Dice -->
          <div
            class="tool-card"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
              cursor: pointer;
            "
            onclick="window.location.href='tools/dice.html'"
          >
            <div
              class="tool-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(45deg, #f59e0b, #fbbf24);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin: 0 auto 1rem;
              "
            >
              <i class="fas fa-dice"></i>
            </div>
            <h3
              style="
                font-size: 1.2rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
                color: var(--text-primary);
              "
            >
              Custom Dice
            </h3>
            <p
              style="
                color: var(--text-secondary);
                font-size: 0.95rem;
                line-height: 1.5;
              "
            >
              Create custom dice for classroom games and activities
            </p>
          </div>

          <!-- Tool 5 (Center - Advertisement) -->
          <div
            class="tool-card ad-card"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
              display: flex;
              align-items: center;
              justify-content: center;
              min-height: 250px;
            "
          >
            <!-- Google AdSense -->
            <script
              async
              src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
              crossorigin="anonymous"
            ></script>
            <!-- ad boxes -->
            <ins
              class="adsbygoogle"
              style="display: block"
              data-ad-client="ca-pub-2456627863532019"
              data-ad-slot="7015224277"
              data-ad-format="auto"
              data-full-width-responsive="true"
            ></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
          </div>

          <!-- Tool 6: Random Generator -->
          <div
            class="tool-card"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-xl);
              padding: 2rem;
              text-align: center;
              transition: all 0.3s ease;
              box-shadow: var(--shadow-md);
              cursor: pointer;
            "
            onclick="window.location.href='tools/random.html'"
          >
            <div
              class="tool-icon"
              style="
                width: 60px;
                height: 60px;
                background: linear-gradient(45deg, #ef4444, #dc2626);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                margin: 0 auto 1rem;
              "
            >
              <i class="fas fa-random"></i>
            </div>
            <h3
              style="
                font-size: 1.2rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
                color: var(--text-primary);
              "
            >
              Random Generator
            </h3>
            <p
              style="
                color: var(--text-secondary);
                font-size: 0.95rem;
                line-height: 1.5;
              "
            >
              Generate random students, topics, and classroom selections
            </p>
          </div>
        </div>
      </div>
    </section>

    <style>
      .tool-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;
        border-color: var(--primary-color) !important;
      }

      .tool-card:not(.ad-card):hover .tool-icon {
        transform: scale(1.1) rotate(5deg);
      }

      @media (max-width: 768px) {
        .tools-grid {
          grid-template-columns: 1fr !important;
        }
      }
    </style>

    <!-- FAQ Section with Schema -->
    <section
      class="faq-section"
      style="padding: 4rem 0; background: var(--bg-primary)"
    >
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Frequently Asked Questions</h2>
          <p class="section-subtitle">
            Common questions about our free ESL games and learning platform
          </p>
        </div>

        <div
          class="faq-container"
          style="max-width: 800px; margin: 3rem auto 0"
        >
          <div
            class="faq-item"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-lg);
              padding: 2rem;
              margin-bottom: 1.5rem;
              box-shadow: var(--shadow-sm);
            "
          >
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i
                class="fas fa-question-circle"
                style="color: var(--primary-color)"
              ></i>
              Are the ESL games completely free?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.6;
                font-size: 1.1rem;
              "
            >
              Yes! All our ESL games and activities are completely free to play.
              We believe that quality English learning resources should be
              accessible to everyone, regardless of their financial situation.
              Simply visit our games section and start playing immediately - no
              registration or payment required.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-lg);
              padding: 2rem;
              margin-bottom: 1.5rem;
              box-shadow: var(--shadow-sm);
            "
          >
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i
                class="fas fa-chalkboard-teacher"
                style="color: var(--primary-color)"
              ></i>
              Can I use these games in my classroom?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.6;
                font-size: 1.1rem;
              "
            >
              Absolutely! Our ESL games are perfect for classroom use. Teachers
              around the world use our interactive activities to engage students
              and make learning fun. The games work on any device with an
              internet connection, making them ideal for both in-person and
              online classes. Many games include teacher guides and can be
              projected for whole-class activities.
            </p>
          </div>

          <div
            class="faq-item"
            style="
              background: var(--bg-secondary);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-lg);
              padding: 2rem;
              margin-bottom: 1.5rem;
              box-shadow: var(--shadow-sm);
            "
          >
            <h3
              style="
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 1rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
              "
            >
              <i class="fas fa-users" style="color: var(--primary-color)"></i>
              What English levels do your games support?
            </h3>
            <p
              style="
                color: var(--text-secondary);
                line-height: 1.6;
                font-size: 1.1rem;
              "
            >
              Our games cover all English proficiency levels from beginner (A1)
              to advanced (C2). Each game is clearly labeled with its difficulty
              level, and many games automatically adapt to your skill level as
              you play. Whether you're just starting to learn English or looking
              to refine advanced skills, you'll find games that challenge and
              engage you at the right level.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Schema Markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Are the ESL games completely free?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! All our ESL games and activities are completely free to play. We believe that quality English learning resources should be accessible to everyone, regardless of their financial situation. Simply visit our games section and start playing immediately - no registration or payment required."
            }
          },
          {
            "@type": "Question",
            "name": "Can I use these games in my classroom?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Absolutely! Our ESL games are perfect for classroom use. Teachers around the world use our interactive activities to engage students and make learning fun. The games work on any device with an internet connection, making them ideal for both in-person and online classes. Many games include teacher guides and can be projected for whole-class activities."
            }
          },
          {
            "@type": "Question",
            "name": "What English levels do your games support?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Our games cover all English proficiency levels from beginner (A1) to advanced (C2). Each game is clearly labeled with its difficulty level, and many games automatically adapt to your skill level as you play. Whether you're just starting to learn English or looking to refine advanced skills, you'll find games that challenge and engage you at the right level."
            }
          }
        ]
      }
    </script>

    <!-- FAQ Section with Schema -->
    <!-- Enhanced Professional Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <!-- Brand Section -->
          <div class="footer-section footer-brand">
            <div class="brand-header">
              <img
                src="images/1.png"
                alt="ESL Fun Online"
                class="footer-logo"
              />
              <h3>ESL Fun Online</h3>
            </div>
            <p>
              Transform your English and coding skills with our premium
              interactive resources.
            </p>
          </div>

          <!-- English Learning Section -->
          <div class="footer-section">
            <h3><i class="fas fa-graduation-cap"></i> English</h3>
            <ul>
              <li>
                <a href="english/grammar.html"
                  ><i class="fas fa-spell-check"></i><span>Grammar</span></a
                >
              </li>
              <li>
                <a href="english/vocabguide.html"
                  ><i class="fas fa-book-open"></i><span>Vocabulary</span></a
                >
              </li>
              <li>
                <a href="english/business.html"
                  ><i class="fas fa-handshake"></i><span>Business</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Programming Section -->
          <div class="footer-section">
            <h3><i class="fas fa-code"></i> Coding</h3>
            <ul>
              <li>
                <a href="coding/computerbasics.html"
                  ><i class="fas fa-desktop"></i><span>Basics</span></a
                >
              </li>
              <li>
                <a href="coding/ai.html"
                  ><i class="fas fa-robot"></i><span>AI</span></a
                >
              </li>
              <li>
                <a href="coding/codingresources.html"
                  ><i class="fas fa-terminal"></i><span>Resources</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Quick Links Section -->
          <div class="footer-section">
            <h3><i class="fas fa-link"></i> Quick Links</h3>
            <ul>
              <li>
                <a href="lessons.html"
                  ><i class="fas fa-chalkboard-teacher"></i
                  ><span>Lessons</span></a
                >
              </li>
              <li>
                <a href="games/games.html"
                  ><i class="fas fa-gamepad"></i><span>Games</span></a
                >
              </li>
              <li>
                <a href="tools/tools.html"
                  ><i class="fas fa-tools"></i><span>Tools</span></a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="footer-bottom-center">
            <div class="footer-links">
              <a href="privacy.html"
                ><i class="fas fa-shield-alt"></i>Privacy</a
              >
              <a href="terms.html"><i class="fas fa-file-contract"></i>Terms</a>
              <a href="cookies.html"
                ><i class="fas fa-cookie-bite"></i>Cookies</a
              >
              <a href="contact.html"><i class="fas fa-envelope"></i>Contact</a>
            </div>
          </div>

          <div class="footer-bottom-left">
            <p>
              &copy; 2025 <strong>ESL Fun Online</strong>. All rights reserved.
            </p>
            <p class="footer-subtitle">Empowering learners worldwide</p>
          </div>

          <div class="footer-bottom-right">
            <div class="footer-badges">
              <div class="badge">
                <i class="fas fa-award"></i><span>Certified</span>
              </div>
              <div class="badge">
                <i class="fas fa-lock"></i><span>Secure</span>
              </div>
            </div>
          </div>
        </div>

        <!-- AI Bot Assistant -->
        <div class="ai-bot-container" id="aiBot">
          <button class="ai-bot-button" id="aiBotButton">
            <div class="ai-bot-pulse"></div>
            <i class="fas fa-robot ai-bot-icon"></i>
          </button>

          <div class="ai-bot-chat" id="aiBotChat">
            <div class="ai-bot-header">
              <div class="ai-bot-header-content">
                <div class="ai-bot-avatar">
                  <i class="fas fa-robot"></i>
                </div>
                <div class="ai-bot-status">
                  <span class="ai-bot-name">ESL Assistant</span>
                  <span class="ai-bot-online">
                    <span class="status-dot"></span>
                    Online
                  </span>
                </div>
              </div>
              <button class="ai-bot-close" id="aiBotClose">
                <i class="fas fa-times"></i>
              </button>
            </div>

            <div class="ai-bot-messages" id="aiBotMessages">
              <div class="bot-message">
                <div class="bot-message-avatar">
                  <i class="fas fa-robot"></i>
                </div>
                <div class="bot-message-content">
                  <p>
                    👋 Hi! I'm your ESL learning assistant. How can I help you
                    today?
                  </p>
                  <div class="quick-actions">
                    <button
                      class="quick-action-btn"
                      onclick="handleQuickAction('games')"
                    >
                      <i class="fas fa-gamepad"></i> Games
                    </button>
                    <button
                      class="quick-action-btn"
                      onclick="handleQuickAction('lessons')"
                    >
                      <i class="fas fa-book"></i> Lessons
                    </button>
                    <button
                      class="quick-action-btn"
                      onclick="handleQuickAction('tests')"
                    >
                      <i class="fas fa-clipboard-check"></i> Tests
                    </button>
                    <button
                      class="quick-action-btn"
                      onclick="handleQuickAction('top')"
                    >
                      <i class="fas fa-arrow-up"></i> Top
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Load scripts -->
    <script src="js/navigation.js?v="></script>

    <!-- Final Cache Control Script (Invisible to Users) -->
    <script>
      // Update navigation.js cache busting and final cache control
      (function () {
        var timestamp = Date.now();
        var version = Math.floor(timestamp / 1000);

        // Update all script tags with cache busting
        var scriptTags = document.querySelectorAll('script[src*="?v="]');
        scriptTags.forEach(function (script) {
          var newSrc = script.src.replace(/\?v=\d*/, "?v=" + version);
          if (
            newSrc !== script.src &&
            script.src.indexOf("navigation.js") !== -1
          ) {
            // For navigation.js, create a new script element
            var newScript = document.createElement("script");
            newScript.src = newSrc;
            newScript.async = script.async;
            newScript.defer = script.defer;
            script.parentNode.replaceChild(newScript, script);
          }
        });

        // Add additional cache busting headers via fetch override
        var originalFetch = window.fetch;
        window.fetch = function () {
          var args = Array.prototype.slice.call(arguments);
          if (args[1]) {
            args[1].headers = args[1].headers || {};
            args[1].headers["Cache-Control"] =
              "no-cache, no-store, must-revalidate";
            args[1].headers["Pragma"] = "no-cache";
            args[1].headers["Expires"] = "0";
          } else {
            args[1] = {
              headers: {
                "Cache-Control": "no-cache, no-store, must-revalidate",
                Pragma: "no-cache",
                Expires: "0",
              },
            };
          }
          return originalFetch.apply(this, args);
        };

        // Force browser to revalidate on focus
        window.addEventListener("focus", function () {
          if (document.visibilityState === "visible") {
            // Subtle cache refresh on window focus
            setTimeout(function () {
              var metaRefresh = document.querySelector(
                'meta[http-equiv="refresh"]'
              );
              if (!metaRefresh) {
                metaRefresh = document.createElement("meta");
                metaRefresh.setAttribute("http-equiv", "refresh");
                metaRefresh.setAttribute("content", "86400"); // 24 hours
                document.head.appendChild(metaRefresh);
              }
            }, 100);
          }
        });
      })();
    </script>

    <!-- Enhanced JavaScript for Interactive Features -->
    <script>
      // Progressive English Mastery Test - 1% Pass Rate
      // Three different game sets for variety
      const gameSet1 = [
        {
          word: "Grammar Basics",
          context: "Choose the correct sentence:",
          options: [
            "Me and John went to the store",
            "John and I went to the store",
            "John and me went to the store",
            "I and John went to the store",
          ],
          correct: 1,
        },
        {
          word: "Common Usage",
          context: "Which sentence is correct?",
          options: [
            "I could care less about that movie",
            "I couldn't care less about that movie",
            "I should care less about that movie",
            "I would care less about that movie",
          ],
          correct: 1,
        },
        {
          word: "Word Choice",
          context: "The weather will _____ our picnic plans.",
          options: ["effect", "affect", "infect", "defect"],
          correct: 1,
        },
        {
          word: "Phrasal Verbs",
          context: "I need to _____ this information before the meeting.",
          options: ["look up", "look over", "look into", "look after"],
          correct: 1,
        },
        {
          word: "Subjunctive Mood",
          context: "If I _____ you, I would accept that job offer.",
          options: ["was", "were", "am", "will be"],
          correct: 1,
        },
        {
          word: "Advanced Grammar",
          context:
            "Neither the CEO nor the board members _____ aware of the issue.",
          options: ["was", "were", "is", "are"],
          correct: 1,
        },
        {
          word: "Sophisticated Vocabulary",
          context:
            "Her argument was so _____ that even experts found flaws in the logic.",
          options: ["obvious", "clear", "specious", "honest"],
          correct: 2,
        },
        {
          word: "Literary Device",
          context: "The phrase 'deafening silence' is an example of:",
          options: ["metaphor", "simile", "oxymoron", "alliteration"],
          correct: 2,
        },
        {
          word: "Etymology Expert",
          context:
            "Which word means 'characterized by excessive eagerness to please'?",
          options: ["obsequious", "querulous", "garrulous", "incredulous"],
          correct: 0,
        },
        {
          word: "Master Level",
          context:
            "In the sentence 'The data suggest a correlation,' the verb form is:",
          options: [
            "incorrect - should be 'suggests'",
            "correct - 'data' is plural",
            "informal but acceptable",
            "archaic usage",
          ],
          correct: 1,
        },
      ];

      const gameSet2 = [
        {
          word: "Basic Grammar",
          context: "Which is the correct plural form?",
          options: ["childs", "children", "childrens", "child's"],
          correct: 1,
        },
        {
          word: "Common Mistakes",
          context: "Choose the correct sentence:",
          options: [
            "Between you and I, this is wrong",
            "Between you and me, this is correct",
            "Between I and you, this works",
            "Between me and you, sounds good",
          ],
          correct: 1,
        },
        {
          word: "Verb Forms",
          context: "Yesterday, I _____ my homework.",
          options: ["done", "did", "do", "doing"],
          correct: 1,
        },
        {
          word: "Prepositions",
          context: "She arrived _____ the airport at midnight.",
          options: ["in", "on", "at", "to"],
          correct: 2,
        },
        {
          word: "Modal Verbs",
          context: "You _____ smoke in the hospital.",
          options: ["mustn't", "don't have to", "needn't", "won't"],
          correct: 0,
        },
        {
          word: "Complex Grammar",
          context: "Had I known earlier, I _____ differently.",
          options: ["would act", "would have acted", "will act", "had acted"],
          correct: 1,
        },
        {
          word: "Nuanced Meaning",
          context: "The politician's response was deliberately _____.",
          options: ["clear", "honest", "equivocal", "simple"],
          correct: 2,
        },
        {
          word: "Figurative Language",
          context: "'Time is money' is an example of:",
          options: ["hyperbole", "metaphor", "alliteration", "personification"],
          correct: 1,
        },
        {
          word: "Advanced Vocabulary",
          context: "Which word means 'a person who pretends to have virtues'?",
          options: ["hypocrite", "skeptic", "cynic", "pessimist"],
          correct: 0,
        },
        {
          word: "Expert Grammar",
          context: "The sentence 'Whom did you see?' is:",
          options: [
            "incorrect - should be 'who'",
            "formally correct but sounds outdated",
            "always preferred in writing",
            "grammatically impossible",
          ],
          correct: 1,
        },
      ];

      const gameSet3 = [
        {
          word: "Simple Tenses",
          context: "She _____ to work every day.",
          options: ["go", "goes", "going", "gone"],
          correct: 1,
        },
        {
          word: "Article Usage",
          context: "I saw _____ movie last night.",
          options: ["a", "an", "the", "no article needed"],
          correct: 0,
        },
        {
          word: "Comparative Forms",
          context: "This book is _____ than that one.",
          options: ["more better", "better", "more good", "gooder"],
          correct: 1,
        },
        {
          word: "Question Formation",
          context: "How to ask about someone's job?",
          options: [
            "What you do for work?",
            "What do you do for work?",
            "What are you do for work?",
            "What you are doing for work?",
          ],
          correct: 1,
        },
        {
          word: "Conditional Sentences",
          context: "If it rains tomorrow, we _____ inside.",
          options: ["stay", "will stay", "stayed", "staying"],
          correct: 1,
        },
        {
          word: "Perfect Tenses",
          context: "By next year, I _____ here for five years.",
          options: [
            "will work",
            "will be working",
            "will have worked",
            "will have been working",
          ],
          correct: 3,
        },
        {
          word: "Sophisticated Usage",
          context: "The solution was both elegant and _____.",
          options: ["simple", "complex", "parsimonious", "obvious"],
          correct: 2,
        },
        {
          word: "Literary Terms",
          context: "A story within a story is called:",
          options: ["metaphor", "allegory", "frame narrative", "symbolism"],
          correct: 2,
        },
        {
          word: "Rare Vocabulary",
          context: "Which word means 'existing in name only'?",
          options: ["nominal", "formal", "official", "temporary"],
          correct: 0,
        },
        {
          word: "Expert Level",
          context: "The correct use of 'lie' vs 'lay' in past tense:",
          options: [
            "Yesterday I laid down (correct)",
            "Yesterday I lay down (correct)",
            "Yesterday I lied down (correct)",
            "All forms are acceptable",
          ],
          correct: 1,
        },
      ];

      // Game sets collection
      const allGameSets = [gameSet1, gameSet2, gameSet3];
      let currentGameSet = 0;
      let vocabularyQuestions = allGameSets[currentGameSet];

      let currentQuestion = 0;
      let score = 0;
      let gameActive = true;

      // Initialize vocabulary game
      function initVocabularyGame() {
        // Randomly select a game set for variety
        currentGameSet = Math.floor(Math.random() * allGameSets.length);
        vocabularyQuestions = allGameSets[currentGameSet];

        currentQuestion = 0;
        score = 0;
        gameActive = true;

        // Show which game set is selected
        console.log(
          `Starting Game Set ${currentGameSet + 1} of ${allGameSets.length}`
        );

        loadQuestion();
      }

      function loadQuestion() {
        if (currentQuestion >= vocabularyQuestions.length) {
          endGame();
          return;
        }

        const question = vocabularyQuestions[currentQuestion];
        const wordCard = document.getElementById("wordCard");

        // Determine difficulty level for visual feedback
        let difficultyLevel = "";
        let difficultyClass = "";
        if (currentQuestion <= 2) {
          difficultyLevel = "EASY - Hook Questions";
          difficultyClass = "easy";
        } else if (currentQuestion <= 5) {
          difficultyLevel = "MEDIUM - Building Difficulty";
          difficultyClass = "medium";
        } else {
          difficultyLevel = "EXPERT - Only 1% Pass These";
          difficultyClass = "expert";
        }

        // Enhanced question display with context and difficulty
        const gameSetNames = [
          "Grammar Master",
          "Language Expert",
          "Word Wizard",
        ];
        const gameSetIcons = ["📚", "🧠", "✨"];
        const currentSetName = gameSetNames[currentGameSet];
        const currentSetIcon = gameSetIcons[currentGameSet];

        wordCard.innerHTML = `
          <div class="question-header">
            <div class="game-set-indicator">
              ${currentSetIcon} ${currentSetName} Challenge
            </div>
            <div class="question-number">Question ${currentQuestion + 1} of ${
          vocabularyQuestions.length
        }</div>
            <div class="difficulty-badge ${difficultyClass}">${difficultyLevel}</div>
          </div>
          <div class="word-display">${question.word}</div>
          <div class="context-sentence">${question.context}</div>
          <div class="question-prompt">Choose the best answer:</div>
        `;

        const optionsGrid = document.getElementById("optionsGrid");
        optionsGrid.innerHTML = "";

        question.options.forEach((option, index) => {
          const button = document.createElement("button");
          button.className = "option-btn";
          button.innerHTML = `<span class="option-letter">${String.fromCharCode(
            65 + index
          )}.</span> ${option}`;
          button.onclick = () => selectAnswer(index);
          optionsGrid.appendChild(button);
        });

        updateScore();
      }

      function selectAnswer(selectedIndex) {
        if (!gameActive) return;

        const question = vocabularyQuestions[currentQuestion];
        const buttons = document.querySelectorAll(".option-btn");
        const wordCard = document.getElementById("wordCard");

        buttons.forEach((btn, index) => {
          btn.disabled = true;
          if (index === question.correct) {
            btn.classList.add("correct");
          } else if (index === selectedIndex && index !== question.correct) {
            btn.classList.add("incorrect");
          }
        });

        // Visual feedback based on answer
        if (selectedIndex === question.correct) {
          score++;
          // Add success animation to word card
          wordCard.classList.add("success-pulse");
          // Show temporary success message
          const successMsg = document.createElement("div");
          successMsg.className = "feedback-message success";
          successMsg.innerHTML = "✅ Correct! Well done!";
          wordCard.appendChild(successMsg);

          setTimeout(() => {
            successMsg.remove();
            wordCard.classList.remove("success-pulse");
          }, 1000);
        } else {
          // Add error animation
          wordCard.classList.add("error-shake");
          // Show temporary error message
          const errorMsg = document.createElement("div");
          errorMsg.className = "feedback-message error";
          errorMsg.innerHTML =
            "❌ Incorrect. The right answer was highlighted.";
          wordCard.appendChild(errorMsg);

          setTimeout(() => {
            errorMsg.remove();
            wordCard.classList.remove("error-shake");
          }, 1000);
        }

        setTimeout(() => {
          currentQuestion++;
          loadQuestion();
        }, 1500);
      }

      function updateScore() {
        const scoreElement = document.getElementById("gameScore");
        const percentage =
          currentQuestion > 0 ? Math.round((score / currentQuestion) * 100) : 0;
        scoreElement.innerHTML = `
          <div class="score-container">
            <div class="current-score">Score: ${score}/${currentQuestion}</div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${
                (currentQuestion / vocabularyQuestions.length) * 100
              }%"></div>
            </div>
            <div class="progress-text">Question ${currentQuestion}/${
          vocabularyQuestions.length
        }</div>
            ${
              currentQuestion > 0
                ? `<div class="accuracy">Accuracy: ${percentage}%</div>`
                : ""
            }
          </div>
        `;
      }

      function endGame() {
        gameActive = false;
        const percentage = Math.round(
          (score / vocabularyQuestions.length) * 100
        );
        let resultMessage = "";
        let resultIcon = "";
        let resultClass = "";

        if (percentage >= 90) {
          resultMessage = "🏆 LEGENDARY! You're in the top 1%!";
          resultClass = "legendary";
        } else if (percentage >= 80) {
          resultMessage = "🔥 EXCEPTIONAL! Almost perfect!";
          resultClass = "exceptional";
        } else if (percentage >= 70) {
          resultMessage = "⭐ IMPRESSIVE! Above average intelligence!";
          resultClass = "impressive";
        } else if (percentage >= 60) {
          resultMessage = "👍 DECENT! Room for improvement.";
          resultClass = "decent";
        } else {
          resultMessage = "📚 CHALLENGING! These words stump 99% of people.";
          resultClass = "challenging";
        }

        // Create motivational message based on game set
        const gameSetNames = [
          "Grammar Master",
          "Language Expert",
          "Word Wizard",
        ];
        const currentSetName = gameSetNames[currentGameSet];

        document.getElementById("wordCard").innerHTML = `
          <div class="game-results ${resultClass}">
            <div class="result-header">
              <h3>Challenge Complete!</h3>
              <div class="game-set-info">
                <span class="set-badge">Game Set: ${currentSetName}</span>
              </div>
              <div class="score-display">${score}/${
          vocabularyQuestions.length
        }</div>
              <div class="percentage">${percentage}%</div>
            </div>
            <div class="result-message">${resultMessage}</div>
            <div class="result-stats">
              <p><strong>Test Type:</strong> Progressive English Mastery</p>
              <p><strong>Average Score:</strong> 4.2/10 (42%)</p>
              <p><strong>Your Level:</strong> ${
                percentage >= 90
                  ? "Native-Level Mastery"
                  : percentage >= 80
                  ? "Advanced Proficiency"
                  : percentage >= 70
                  ? "Upper-Intermediate"
                  : percentage >= 60
                  ? "Intermediate"
                  : percentage >= 40
                  ? "Pre-Intermediate"
                  : "Elementary - Keep Practicing!"
              }</p>
              <p><strong>Progression:</strong> Easy (1-3) → Medium (4-6) → Expert (7-10)</p>
              ${
                percentage < 70
                  ? '<p class="motivational"><strong>💡 Tip:</strong> Try different game sets to improve your English skills across various topics!</p>'
                  : ""
              }
            </div>
            <div class="social-share">
              <p><strong>Share your score:</strong></p>
              <button onclick="shareScore()" class="share-btn">📱 Share Results</button>
            </div>
          </div>
        `;
        document.getElementById("optionsGrid").innerHTML = "";
      }

      // Share score function
      function shareScore() {
        const percentage = Math.round(
          (score / vocabularyQuestions.length) * 100
        );
        const gameSetNames = [
          "Grammar Master",
          "Language Expert",
          "Word Wizard",
        ];
        const currentSetName = gameSetNames[currentGameSet];
        const shareText = `I just scored ${score}/${vocabularyQuestions.length} (${percentage}%) on the ${currentSetName} English Test! Only 1% can pass this challenge. Can you beat my score? Try it at ESLonline.com`;

        if (navigator.share) {
          navigator.share({
            title: "English Mastery Test Results",
            text: shareText,
            url: window.location.href,
          });
        } else {
          // Fallback for browsers without Web Share API
          navigator.clipboard
            .writeText(shareText)
            .then(() => {
              alert("Results copied to clipboard! Share with your friends.");
            })
            .catch(() => {
              // Final fallback
              const textarea = document.createElement("textarea");
              textarea.value = shareText;
              document.body.appendChild(textarea);
              textarea.select();
              document.execCommand("copy");
              document.body.removeChild(textarea);
              alert("Results copied to clipboard! Share with your friends.");
            });
        }
      }

      function resetGame() {
        initVocabularyGame();
      }

      // Enhanced Stats Counter Animation
      function initStatsCounter() {
        const statNumbers = document.querySelectorAll(".stat-number");
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const target = entry.target;
                const targetValue = target.getAttribute("data-target");
                animateCounter(target, targetValue);
                observer.unobserve(target);
              }
            });
          },
          { threshold: 0.5 }
        );

        statNumbers.forEach((stat) => observer.observe(stat));
      }

      function animateCounter(element, targetValue) {
        const isPercentage = targetValue.includes("%");
        const hasPlus = targetValue.includes("+");
        const is247 = targetValue.includes("/");

        let numericValue;
        let suffix = "";

        if (is247) {
          element.textContent = targetValue;
          return;
        } else if (isPercentage) {
          numericValue = parseInt(targetValue);
          suffix = "%";
        } else if (hasPlus) {
          numericValue = parseInt(targetValue);
          suffix = "+";
        } else {
          numericValue = parseInt(targetValue) || 0;
        }

        const startTime = performance.now();
        const duration = 2000;

        function updateCounter(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const easeOutQuart = 1 - Math.pow(1 - progress, 4);
          const current = Math.floor(numericValue * easeOutQuart);

          element.textContent = current + suffix;

          if (progress < 1) {
            requestAnimationFrame(updateCounter);
          }
        }

        requestAnimationFrame(updateCounter);
      }

      // Enhanced smooth scroll function
      function scrollToSection(sectionId) {
        const element = document.getElementById(sectionId);
        if (element) {
          const headerOffset = 80;
          const elementPosition = element.getBoundingClientRect().top;
          const offsetPosition =
            elementPosition + window.pageYOffset - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: "smooth",
          });
        }
      }

      // Scroll to top function
      function scrollToTop() {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      }

      // AI Bot Assistant functionality
      function initAIBot() {
        const aiBotButton = document.getElementById("aiBotButton");
        const aiBotChat = document.getElementById("aiBotChat");
        const aiBotClose = document.getElementById("aiBotClose");
        const aiBotMessages = document.getElementById("aiBotMessages");

        if (!aiBotButton) return;

        // Show/hide bot button on scroll
        function toggleBotVisibility() {
          if (window.scrollY > 300) {
            aiBotButton.classList.add("show");
          } else {
            aiBotButton.classList.remove("show");
          }
        }

        // Toggle chat window
        aiBotButton.addEventListener("click", () => {
          aiBotChat.classList.toggle("active");
        });

        // Close chat window
        aiBotClose.addEventListener("click", (e) => {
          e.stopPropagation();
          aiBotChat.classList.remove("active");
        });

        // Close chat when clicking outside
        document.addEventListener("click", (e) => {
          if (
            !aiBotChat.contains(e.target) &&
            !aiBotButton.contains(e.target)
          ) {
            aiBotChat.classList.remove("active");
          }
        });

        // Throttled scroll handler
        let ticking = false;
        function requestTick() {
          if (!ticking) {
            requestAnimationFrame(toggleBotVisibility);
            ticking = true;
            setTimeout(() => {
              ticking = false;
            }, 100);
          }
        }

        window.addEventListener("scroll", requestTick);
        toggleBotVisibility();
      }

      // Handle quick action buttons
      function handleQuickAction(action) {
        const messagesContainer = document.getElementById("aiBotMessages");

        // Show typing indicator
        showTypingIndicator();

        setTimeout(() => {
          removeTypingIndicator();

          let response = "";
          let actionButtons = "";

          switch (action) {
            case "games":
              response =
                "🎮 Great choice! We have various ESL games to help you learn:";
              actionButtons = `
                <div class="quick-actions">
                  <button class="quick-action-btn" onclick="window.location.href='games/games.html'">
                    <i class="fas fa-play"></i> Browse Games
                  </button>
                  <button class="quick-action-btn" onclick="window.location.href='games/memory-match.html'">
                    <i class="fas fa-spell-check"></i> Memory Match
                  </button>
                  <button class="quick-action-btn" onclick="window.location.href='games/quizchamp.html'">
                    <i class="fas fa-trophy"></i> Quiz Champion
                  </button>
                </div>
              `;
              break;

            case "lessons":
              response = "📚 Perfect! Here are our lesson categories:";
              actionButtons = `
                <div class="quick-actions">
                  <button class="quick-action-btn" onclick="window.location.href='lessons.html'">
                    <i class="fas fa-list"></i> All Lessons
                  </button>
                  <button class="quick-action-btn" onclick="window.location.href='english/grammar.html'">
                    <i class="fas fa-language"></i> Grammar
                  </button>
                  <button class="quick-action-btn" onclick="window.location.href='blog/blog.html'">
                    <i class="fas fa-newspaper"></i> Blog
                  </button>
                </div>
              `;
              break;

            case "tests":
              response =
                "✅ Ready to test your skills? Here are our test options:";
              actionButtons = `
                <div class="quick-actions">
                  <button class="quick-action-btn" onclick="window.location.href='english/ielts.html'">
                    <i class="fas fa-graduation-cap"></i> IELTS
                  </button>
                  <button class="quick-action-btn" onclick="window.location.href='english/toeic.html'">
                    <i class="fas fa-certificate"></i> TOEIC
                  </button>
                  <button class="quick-action-btn" onclick="window.location.href='english/eiken.html'">
                    <i class="fas fa-medal"></i> EIKEN
                  </button>
                </div>
              `;
              break;

            case "top":
              scrollToTop();
              response = "⬆️ Taking you to the top!";
              actionButtons = `
                <div class="quick-actions">
                  <button class="quick-action-btn" onclick="handleQuickAction('games')">
                    <i class="fas fa-gamepad"></i> Games
                  </button>
                  <button class="quick-action-btn" onclick="handleQuickAction('lessons')">
                    <i class="fas fa-book"></i> Lessons
                  </button>
                </div>
              `;
              break;

            default:
              response = "👋 How else can I help you?";
              actionButtons = `
                <div class="quick-actions">
                  <button class="quick-action-btn" onclick="handleQuickAction('games')">
                    <i class="fas fa-gamepad"></i> Games
                  </button>
                  <button class="quick-action-btn" onclick="handleQuickAction('lessons')">
                    <i class="fas fa-book"></i> Lessons
                  </button>
                  <button class="quick-action-btn" onclick="handleQuickAction('tests')">
                    <i class="fas fa-clipboard-check"></i> Tests
                  </button>
                </div>
              `;
          }

          addBotMessage(response + actionButtons);
        }, 800);
      }

      // Show typing indicator
      function showTypingIndicator() {
        const messagesContainer = document.getElementById("aiBotMessages");
        const typingDiv = document.createElement("div");
        typingDiv.className = "bot-message typing-message";
        typingDiv.id = "typingIndicator";
        typingDiv.innerHTML = `
          <div class="bot-message-avatar">
            <i class="fas fa-robot"></i>
          </div>
          <div class="bot-message-content">
            <div class="typing-indicator">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
          </div>
        `;
        messagesContainer.appendChild(typingDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }

      // Remove typing indicator
      function removeTypingIndicator() {
        const typingIndicator = document.getElementById("typingIndicator");
        if (typingIndicator) {
          typingIndicator.remove();
        }
      }

      // Add bot message
      function addBotMessage(content) {
        const messagesContainer = document.getElementById("aiBotMessages");
        const messageDiv = document.createElement("div");
        messageDiv.className = "bot-message";
        messageDiv.innerHTML = `
          <div class="bot-message-avatar">
            <i class="fas fa-robot"></i>
          </div>
          <div class="bot-message-content">
            ${content}
          </div>
        `;
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }

      // Notification system
      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.className = `notification notification-${type}`;
        notification.innerHTML = `
          <div class="notification-content">
            <i class="fas fa-${getNotificationIcon(type)}"></i>
            <span>${message}</span>
            <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
              <i class="fas fa-times"></i>
            </button>
          </div>
        `;

        // Add notification styles if not already added
        if (!document.querySelector("#notification-styles")) {
          const styles = document.createElement("style");
          styles.id = "notification-styles";
          styles.textContent = `
            .notification {
              position: fixed;
              top: 100px;
              right: 20px;
              z-index: 10000;
              max-width: 400px;
              padding: 1rem 1.5rem;
              border-radius: 12px;
              box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
              backdrop-filter: blur(10px);
              animation: slideInRight 0.3s ease-out;
              margin-bottom: 10px;
            }
            
            .notification-info {
              background: linear-gradient(135deg, #3b82f6, #1d4ed8);
              color: white;
            }
            
            .notification-success {
              background: linear-gradient(135deg, #10b981, #059669);
              color: white;
            }
            
            .notification-content {
              display: flex;
              align-items: center;
              gap: 12px;
            }
            
            .notification-close {
              background: none;
              border: none;
              color: currentColor;
              cursor: pointer;
              padding: 4px;
              border-radius: 4px;
              margin-left: auto;
              opacity: 0.8;
              transition: opacity 0.2s ease;
            }
            
            .notification-close:hover {
              opacity: 1;
              background: rgba(255, 255, 255, 0.1);
            }
            
            @keyframes slideInRight {
              from {
                transform: translateX(100%);
                opacity: 0;
              }
              to {
                transform: translateX(0);
                opacity: 1;
              }
            }
            
            @media (max-width: 480px) {
              .notification {
                left: 20px;
                right: 20px;
                max-width: none;
              }
            }
          `;
          document.head.appendChild(styles);
        }

        document.body.appendChild(notification);

        // Auto remove after 5 seconds
        setTimeout(() => {
          if (notification.parentElement) {
            notification.style.animation = "slideInRight 0.3s ease-in reverse";
            setTimeout(() => notification.remove(), 300);
          }
        }, 5000);
      }

      function getNotificationIcon(type) {
        switch (type) {
          case "success":
            return "check-circle";
          case "warning":
            return "exclamation-triangle";
          case "error":
            return "times-circle";
          default:
            return "info-circle";
        }
      }

      // Initialize all features when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        try {
          // Initialize scroll features
          initScrollProgress();
          initSmoothScrolling();

          // Initialize existing features
          initVocabularyGame();
          initStatsCounter();
          initAIBot();
          initLazyLoading();
          initPerformanceOptimizations();
          initScrollAnimations();

          // Mark page as loaded
          document.body.style.opacity = "1";
        } catch (error) {
          console.error("Error initializing page features:", error);
        }
      });

      // Scroll-triggered animations
      function initScrollAnimations() {
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
            }
          });
        }, observerOptions);

        // Observe feature cards for staggered animation
        document
          .querySelectorAll(".feature-card, .stat-card, .credential-item")
          .forEach((el, index) => {
            el.style.opacity = "0";
            el.style.transform = "translateY(30px)";
            el.style.transition = `opacity 0.6s ease ${
              index * 0.1
            }s, transform 0.6s ease ${index * 0.1}s`;
            observer.observe(el);
          });
      }

      // Scroll progress indicator
      function initScrollProgress() {
        const progressBar = document.getElementById("scrollProgress");

        window.addEventListener("scroll", () => {
          // Don't interfere with dropdown menus during scroll
          if (
            document.querySelector(".nav-links.mobile-menu-open") ||
            document.querySelector(".nav-item.desktop-open") ||
            document.querySelector(".nav-item.dropdown-protected") ||
            document.querySelector(".nav-item:hover")
          ) {
            return;
          }

          const winScroll =
            document.body.scrollTop || document.documentElement.scrollTop;
          const height =
            document.documentElement.scrollHeight -
            document.documentElement.clientHeight;
          const scrolled = (winScroll / height) * 100;
          progressBar.style.width = scrolled + "%";
        });
      }

      // Enhanced smooth scrolling
      function initSmoothScrolling() {
        // Handle navbar links
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) {
              const headerOffset = 80;
              const elementPosition = target.getBoundingClientRect().top;
              const offsetPosition =
                elementPosition + window.pageYOffset - headerOffset;

              window.scrollTo({
                top: offsetPosition,
                behavior: "smooth",
              });
            }
          });
        });
      }

      // Lazy loading for images and content
      function initLazyLoading() {
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const img = entry.target;
              if (img.dataset.src) {
                img.src = img.dataset.src;
                img.classList.remove("lazy");
                observer.unobserve(img);
              }
            }
          });
        });

        document.querySelectorAll("img[data-src]").forEach((img) => {
          imageObserver.observe(img);
        });
      }

      // Performance optimizations
      function initPerformanceOptimizations() {
        // Debounce scroll events and avoid dropdown interference
        let scrollTimeout;
        const originalScrollHandler = window.onscroll;

        window.addEventListener("scroll", () => {
          // Don't process scroll events if dropdowns are open
          if (
            document.querySelector(".nav-links.mobile-menu-open") ||
            document.querySelector(".nav-item.desktop-open") ||
            document.querySelector(".nav-item.dropdown-protected") ||
            document.querySelector(".nav-item:hover")
          ) {
            return;
          }

          if (scrollTimeout) {
            clearTimeout(scrollTimeout);
          }
          scrollTimeout = setTimeout(() => {
            if (originalScrollHandler) originalScrollHandler();
          }, 10);
        });

        // Optimize animations for performance
        const prefersReducedMotion = window.matchMedia(
          "(prefers-reduced-motion: reduce)"
        );
        if (prefersReducedMotion.matches) {
          document.documentElement.style.setProperty(
            "--transition-normal",
            "none"
          );
        }

        // Add keyboard navigation for accessibility
        document.addEventListener("keydown", (e) => {
          // Press 'T' to go to top
          if (
            (e.key === "t" || e.key === "T") &&
            !e.target.matches("input, textarea")
          ) {
            e.preventDefault();
            scrollToTop();
          }
          // Press 'F' to go to features
          if (
            (e.key === "f" || e.key === "F") &&
            !e.target.matches("input, textarea")
          ) {
            e.preventDefault();
            scrollToSection("features");
          }
          // Press 'A' to go to activity
          if (
            (e.key === "a" || e.key === "A") &&
            !e.target.matches("input, textarea")
          ) {
            e.preventDefault();
            scrollToSection("activity");
          }
        });

        // Add visual feedback for reduced motion users
        if (prefersReducedMotion.matches) {
          document.body.classList.add("reduced-motion");
        }
      }

      // Hero Background Lazy Loading for Desktop Only
      function initHeroOptimization() {
        const hero = document.querySelector(".hero");
        const isMobile = window.innerWidth <= 768;

        if (!isMobile) {
          // Only load background image on desktop
          const img = new Image();
          img.onload = function () {
            hero.style.setProperty(
              "--hero-bg-loaded",
              'url("images/hero.webp")'
            );
            hero.classList.add("bg-loaded");
          };
          img.src = "images/hero.webp";
        } else {
          // On mobile, ensure background is just gradient
          hero.style.background =
            "linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)";
        }

        // Optimize scroll indicator for mobile
        const scrollIndicator = document.querySelector(".scroll-indicator");
        if (scrollIndicator && isMobile) {
          scrollIndicator.style.display = "none"; // Hide on very small screens
        }
      }

      // Call hero optimization on load
      document.addEventListener("DOMContentLoaded", initHeroOptimization);
      window.addEventListener("resize", initHeroOptimization);
    </script>
  </body>
</html>
