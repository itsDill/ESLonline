<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Student Portal - Your personal learning dashboard with schedule, grades, progress tracking, and review materials. Stay organized and excel in your studies!"
    />
    <meta
      name="keywords"
      content="student portal, learning dashboard, schedule tracker, grades, progress, ESL student, study materials, review games"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="language" content="English" />
    <meta property="og:title" content="Student Portal | ESL Fun Online" />
    <meta
      property="og:description"
      content="Personal learning dashboard for tracking progress, managing schedule, and accessing study materials."
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/education-4382169_1280.jpg"
    />
    <meta
      property="og:url"
      content="https://eslfunonline.com/students/example.html"
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Student Portal | ESL Fun Online" />
    <meta
      name="twitter:description"
      content="Personal learning dashboard for tracking progress and managing studies"
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/education-4382169_1280.jpg"
    />
    <link
      rel="canonical"
      href="https://eslfunonline.com/students/example.html"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <title>Student Portal | ESL Fun Online</title>

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "EducationalOrganization",
        "name": "ESL Fun Online - Student Portal",
        "description": "Personal learning dashboard for ESL students with schedule management, progress tracking, and study materials.",
        "url": "https://eslfunonline.com/students/example.html",
        "logo": "https://eslfunonline.com/images/1.png",
        "sameAs": [
          "https://www.facebook.com/eslfunonline",
          "https://twitter.com/eslfunonline"
        ],
        "offers": {
          "@type": "Offer",
          "category": "Student Portal Services",
          "description": "Personalized learning dashboard and study tracking tools"
        }
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-9G9RD6BHLN");
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/layout-fixes.css" />

    <style>
      /* CSS Variables for Student Portal Design */
      :root {
        --primary-color: #3b82f6;
        --primary-hover: #2563eb;
        --secondary-color: #06b6d4;
        --accent-color: #8b5cf6;
        --success-color: #10b981;
        --warning-color: #f59e0b;
        --danger-color: #ef4444;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --text-light: #9ca3af;
        --bg-primary: #ffffff;
        --bg-secondary: #f9fafb;
        --bg-tertiary: #f3f4f6;
        --border-color: #e5e7eb;
        --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px 0 rgb(0 0 0 / 0.06);
        --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -1px rgb(0 0 0 / 0.06);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1),
          0 4px 6px -2px rgb(0 0 0 / 0.05);
        --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1),
          0 10px 10px -5px rgb(0 0 0 / 0.04);
        --gradient-primary: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
        --gradient-secondary: linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%);
        --gradient-success: linear-gradient(135deg, #10b981 0%, #059669 100%);
        --sidebar-width: 280px;
      }

      /* Dark Mode Variables */
      .dark-mode {
        --text-primary: #f9fafb;
        --text-secondary: #d1d5db;
        --text-light: #9ca3af;
        --bg-primary: #111827;
        --bg-secondary: #1f2937;
        --bg-tertiary: #374151;
        --border-color: #374151;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont,
          "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        color: var(--text-primary);
        background: var(--bg-secondary);
        transition: all 0.3s ease;
        padding-top: 80px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }

      /* Dashboard Layout */
      .dashboard-layout {
        display: flex;
        min-height: calc(100vh - 80px);
        gap: 0;
      }

      /* Sidebar */
      .sidebar {
        width: var(--sidebar-width);
        background: var(--bg-primary);
        border-right: 1px solid var(--border-color);
        padding: 2rem 0;
        position: fixed;
        left: 0;
        top: 80px;
        height: calc(100vh - 80px);
        overflow-y: auto;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }

      .sidebar.active {
        transform: translateX(0);
      }

      .sidebar-header {
        padding: 0 1.5rem 2rem;
        border-bottom: 1px solid var(--border-color);
        text-align: center;
      }

      .student-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--gradient-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        font-size: 2rem;
        color: white;
        font-weight: bold;
      }

      .student-name {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.25rem;
        color: var(--text-primary);
      }

      .student-level {
        font-size: 0.875rem;
        color: var(--text-secondary);
        background: var(--bg-tertiary);
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        display: inline-block;
      }

      .sidebar-nav {
        padding: 2rem 0;
      }

      .nav-item {
        margin-bottom: 0.5rem;
      }

      .nav-link {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.875rem 1.5rem;
        color: var(--text-secondary);
        text-decoration: none;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .nav-link:hover,
      .nav-link.active {
        background: var(--bg-tertiary);
        color: var(--primary-color);
        border-right: 3px solid var(--primary-color);
      }

      .nav-link i {
        font-size: 1.25rem;
        width: 20px;
        text-align: center;
      }

      /* Main Content */
      .main-content {
        flex: 1;
        margin-left: 0;
        padding: 2rem;
        transition: margin-left 0.3s ease;
      }

      .sidebar.active ~ .main-content {
        margin-left: var(--sidebar-width);
      }

      /* Dashboard Header */
      .dashboard-header {
        display: flex;
        justify-content: between;
        align-items: center;
        margin-bottom: 2rem;
        flex-wrap: wrap;
        gap: 1rem;
      }

      .welcome-section {
        flex: 1;
      }

      .welcome-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .welcome-subtitle {
        color: var(--text-secondary);
        font-size: 1.125rem;
      }

      .dashboard-controls {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .toggle-sidebar {
        display: none;
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 0.75rem;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .toggle-sidebar:hover {
        background: var(--primary-hover);
        transform: translateY(-1px);
      }

      /* Calendar Section */
      .calendar-section {
        background: var(--bg-primary);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: var(--shadow-sm);
        margin-bottom: 2rem;
      }

      .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      .calendar-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-primary);
      }

      .calendar-nav {
        display: flex;
        gap: 0.5rem;
        align-items: center;
      }

      .calendar-nav button {
        background: var(--bg-tertiary);
        border: none;
        padding: 0.5rem;
        border-radius: 8px;
        cursor: pointer;
        color: var(--text-secondary);
        transition: all 0.3s ease;
      }

      .calendar-nav button:hover {
        background: var(--primary-color);
        color: white;
      }

      .calendar-month {
        font-size: 1.125rem;
        font-weight: 500;
        margin: 0 1rem;
        min-width: 150px;
        text-align: center;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
        background: var(--border-color);
        border-radius: 8px;
        overflow: hidden;
      }

      .calendar-day-header {
        background: var(--bg-tertiary);
        padding: 1rem 0.5rem;
        text-align: center;
        font-weight: 600;
        font-size: 0.875rem;
        color: var(--text-secondary);
      }

      .calendar-day {
        background: var(--bg-primary);
        padding: 1rem 0.5rem;
        min-height: 100px;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .calendar-day:hover {
        background: var(--bg-secondary);
      }

      .calendar-day.today {
        background: var(--primary-color);
        color: white;
      }

      .calendar-day.other-month {
        color: var(--text-light);
        background: var(--bg-secondary);
      }

      .calendar-day-number {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .calendar-event {
        background: var(--success-color);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        margin-bottom: 0.25rem;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .calendar-event.assignment {
        background: var(--warning-color);
      }

      .calendar-event.exam {
        background: var(--danger-color);
      }

      /* Dashboard Cards Grid */
      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2rem;
        margin-bottom: 2rem;
      }

      .dashboard-card {
        background: var(--bg-primary);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: var(--shadow-sm);
        transition: all 0.3s ease;
        border: 1px solid var(--border-color);
        position: relative;
        overflow: hidden;
      }

      .dashboard-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-primary);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .dashboard-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
      }

      .dashboard-card:hover::before {
        opacity: 1;
      }

      .card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1.5rem;
      }

      .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-primary);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .card-icon {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
        color: white;
      }

      .card-icon.grades {
        background: var(--gradient-success);
      }

      .card-icon.progress {
        background: var(--gradient-primary);
      }

      .card-icon.assignments {
        background: var(--gradient-secondary);
      }

      /* Grades Display */
      .grades-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .grade-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background: var(--bg-secondary);
        border-radius: 8px;
        margin-bottom: 1rem;
      }

      .grade-subject {
        font-weight: 500;
        color: var(--text-primary);
      }

      .grade-score {
        font-weight: 600;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.875rem;
      }

      .grade-score.excellent {
        background: var(--success-color);
        color: white;
      }

      .grade-score.good {
        background: var(--primary-color);
        color: white;
      }

      .grade-score.average {
        background: var(--warning-color);
        color: white;
      }

      .grade-score.needs-improvement {
        background: var(--danger-color);
        color: white;
      }

      /* Progress Bars */
      .progress-item {
        margin-bottom: 1.5rem;
      }

      .progress-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .progress-label {
        font-weight: 500;
        color: var(--text-primary);
      }

      .progress-percentage {
        font-weight: 600;
        color: var(--primary-color);
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background: var(--bg-tertiary);
        border-radius: 4px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: var(--gradient-primary);
        border-radius: 4px;
        transition: width 0.8s ease;
      }

      /* Assignment List */
      .assignment-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
        background: var(--bg-secondary);
        border-radius: 8px;
        margin-bottom: 1rem;
      }

      .assignment-info {
        flex: 1;
      }

      .assignment-title {
        font-weight: 500;
        color: var(--text-primary);
        margin-bottom: 0.25rem;
      }

      .assignment-due {
        font-size: 0.875rem;
        color: var(--text-secondary);
      }

      .assignment-status {
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.875rem;
        font-weight: 500;
      }

      .assignment-status.pending {
        background: var(--warning-color);
        color: white;
      }

      .assignment-status.submitted {
        background: var(--success-color);
        color: white;
      }

      .assignment-status.overdue {
        background: var(--danger-color);
        color: white;
      }

      /* Review Game Section */
      .review-game {
        background: var(--bg-primary);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: var(--shadow-sm);
        margin-top: 2rem;
      }

      .game-header {
        text-align: center;
        margin-bottom: 2rem;
      }

      .game-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .game-subtitle {
        color: var(--text-secondary);
      }

      .flashcard {
        background: var(--bg-secondary);
        border-radius: 16px;
        padding: 3rem 2rem;
        text-align: center;
        margin-bottom: 2rem;
        cursor: pointer;
        transition: all 0.4s ease;
        border: 2px solid transparent;
        position: relative;
        min-height: 220px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        box-shadow: var(--shadow-sm);
        overflow: hidden;
      }

      .flashcard::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--gradient-primary);
        opacity: 0;
        transition: opacity 0.4s ease;
        z-index: 1;
      }

      .flashcard .card-content {
        position: relative;
        z-index: 2;
      }

      .flashcard:hover {
        transform: scale(1.03);
        border-color: var(--primary-color);
        box-shadow: var(--shadow-lg);
      }

      .flashcard.flipped {
        background: transparent;
        color: white;
        border-color: var(--primary-color);
      }

      .flashcard.flipped::before {
        opacity: 1;
      }

      .card-content {
        font-size: 1.25rem;
        font-weight: 500;
        line-height: 1.4;
      }

      .card-hint {
        font-size: 0.875rem;
        color: var(--text-light);
        margin-top: 1rem;
        font-style: italic;
      }

      .game-controls {
        display: flex;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .game-btn {
        padding: 0.75rem 2rem;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .game-btn:hover {
        background: var(--primary-hover);
        transform: translateY(-1px);
      }

      .game-btn.secondary {
        background: var(--bg-tertiary);
        color: var(--text-primary);
      }

      .game-btn.secondary:hover {
        background: var(--border-color);
      }

      /* Stats Cards */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .stat-card {
        background: var(--bg-primary);
        padding: 1.5rem;
        border-radius: 12px;
        text-align: center;
        box-shadow: var(--shadow-sm);
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--gradient-primary);
        transform: translateX(-100%);
        transition: transform 0.6s ease;
      }

      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      .stat-card:hover::before {
        transform: translateX(0);
      }

      .stat-number {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
      }

      .stat-label {
        color: var(--text-secondary);
        font-size: 0.875rem;
        font-weight: 500;
      }

      /* Mobile Responsive */
      @media (max-width: 1024px) {
        .sidebar {
          transform: translateX(-100%);
        }

        .main-content {
          margin-left: 0;
        }

        .toggle-sidebar {
          display: flex;
          align-items: center;
          justify-content: center;
        }
      }

      @media (max-width: 768px) {
        body {
          padding-top: 70px;
        }

        .sidebar {
          top: 70px;
          height: calc(100vh - 70px);
        }

        .dashboard-grid {
          grid-template-columns: 1fr;
        }

        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .main-content {
          padding: 1rem;
        }

        .calendar-grid {
          font-size: 0.875rem;
        }

        .calendar-day {
          min-height: 80px;
          padding: 0.5rem;
        }

        .welcome-title {
          font-size: 1.5rem;
        }

        .dashboard-header {
          flex-direction: column;
          align-items: stretch;
          gap: 1rem;
        }

        /* Hero section mobile improvements */
        .hero-title {
          font-size: 2rem !important;
        }

        .hero-subtitle {
          font-size: 1rem !important;
        }

        .hero-content {
          padding: 1rem !important;
        }
      }

      @media (max-width: 480px) {
        .stats-grid {
          grid-template-columns: 1fr;
        }

        .hero-title {
          font-size: 1.75rem !important;
        }

        .hero-subtitle {
          font-size: 0.9rem !important;
        }

        /* Adjust FAB position on small screens */
        .quick-actions-fab {
          bottom: 1.5rem;
          right: 1.5rem;
        }

        .fab-main {
          width: 56px;
          height: 56px;
          font-size: 1.25rem;
        }

        .fab-item {
          width: 44px;
          height: 44px;
          font-size: 0.9rem;
        }
      }

      /* Focus styles for accessibility */
      a:focus,
      button:focus,
      .flashcard:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Enhanced Animation Classes */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .fade-in-up {
        animation: fadeInUp 0.8s ease-out;
      }

      .slide-in-right {
        animation: slideInRight 0.8s ease-out;
      }

      .animate-on-scroll {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s ease;
      }

      .animate-on-scroll.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Loading state improvements */
      .loaded .stat-card {
        animation: fadeInUp 0.6s ease-out backwards;
      }

      .loaded .stat-card:nth-child(1) {
        animation-delay: 0.1s;
      }
      .loaded .stat-card:nth-child(2) {
        animation-delay: 0.2s;
      }
      .loaded .stat-card:nth-child(3) {
        animation-delay: 0.3s;
      }
      .loaded .stat-card:nth-child(4) {
        animation-delay: 0.4s;
      }

      /* Improved focus styles */
      .sidebar .nav-link:focus,
      .flashcard:focus,
      .game-btn:focus {
        outline: 3px solid var(--primary-color);
        outline-offset: 2px;
        border-radius: 6px;
      }

      /* Enhanced hover effects */
      .calendar-day:hover {
        background: var(--bg-secondary);
        transform: scale(1.02);
      }

      .assignment-item:hover,
      .grade-item:hover {
        background: var(--bg-tertiary);
        transform: translateX(4px);
      }

      /* Review Exercises Styles */
      .vocabulary-review {
        margin-bottom: 1.5rem;
      }

      .vocabulary-item {
        background: var(--bg-secondary);
        border: 2px solid var(--border-color);
        border-radius: 12px;
        padding: 1.25rem;
        margin-bottom: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .vocabulary-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: var(--primary-color);
        transform: scaleY(0);
        transition: transform 0.3s ease;
      }

      .vocabulary-item:hover {
        border-color: var(--primary-color);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      .vocabulary-item:hover::before {
        transform: scaleY(1);
      }

      .vocabulary-item.expanded {
        border-color: var(--success-color);
        background: linear-gradient(
          135deg,
          var(--bg-secondary) 0%,
          rgba(16, 185, 129, 0.05) 100%
        );
      }

      .vocabulary-item.expanded::before {
        background: var(--success-color);
        transform: scaleY(1);
      }

      .vocab-word {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .vocab-word::after {
        content: "‚ñ∂";
        font-size: 0.875rem;
        transition: transform 0.3s ease;
        margin-left: auto;
      }

      .vocabulary-item.expanded .vocab-word::after {
        transform: rotate(90deg);
      }

      .vocab-meaning {
        color: var(--text-secondary);
        font-size: 1rem;
        margin-bottom: 0.75rem;
        line-height: 1.5;
        display: none;
      }

      .vocabulary-item.expanded .vocab-meaning {
        display: block;
        animation: fadeInDown 0.3s ease;
      }

      .vocab-example {
        font-style: italic;
        color: var(--text-light);
        background: rgba(59, 130, 246, 0.1);
        padding: 1rem;
        border-radius: 8px;
        border-left: 3px solid var(--primary-color);
        font-size: 0.9rem;
        line-height: 1.6;
        display: none;
      }

      .vocabulary-item.expanded .vocab-example {
        display: block;
        animation: fadeInDown 0.4s ease;
      }

      /* Practice Activities Styles */
      .practice-activities {
        text-align: center;
      }

      .practice-buttons {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .practice-btn {
        background: var(--gradient-primary);
        color: white;
        border: none;
        padding: 1rem 1.5rem;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        box-shadow: var(--shadow-sm);
      }

      .practice-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      .practice-btn.secondary {
        background: var(--gradient-success);
      }

      .practice-area {
        background: var(--bg-secondary);
        border: 2px dashed var(--border-color);
        border-radius: 16px;
        padding: 3rem 2rem;
        text-align: center;
        min-height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .practice-area.active {
        border-color: var(--primary-color);
        background: linear-gradient(
          135deg,
          var(--bg-primary) 0%,
          rgba(59, 130, 246, 0.05) 100%
        );
      }

      .practice-placeholder {
        text-align: center;
        color: var(--text-secondary);
      }

      .practice-placeholder h4 {
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      /* Conversation Practice Styles */
      .conversation-starters {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .starter-question {
        background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        border: 2px solid var(--success-color);
        border-radius: 12px;
        padding: 1.25rem;
        font-weight: 500;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .starter-question::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--success-color);
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 1;
      }

      .starter-question:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
        color: white;
      }

      .starter-question:hover::before {
        opacity: 0.9;
      }

      .starter-question:hover {
        position: relative;
        z-index: 2;
      }

      /* Quiz and Activity Styles */
      .quiz-container {
        text-align: left;
        width: 100%;
      }

      .quiz-question {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 1.5rem;
      }

      .quiz-options {
        display: grid;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
      }

      .quiz-option {
        background: var(--bg-primary);
        border: 2px solid var(--border-color);
        border-radius: 8px;
        padding: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .quiz-option:hover {
        border-color: var(--primary-color);
        background: rgba(59, 130, 246, 0.05);
      }

      .quiz-option.correct {
        background: var(--success-color);
        color: white;
        border-color: var(--success-color);
      }

      .quiz-option.incorrect {
        background: var(--danger-color);
        color: white;
        border-color: var(--danger-color);
      }

      .quiz-result {
        text-align: center;
        padding: 2rem;
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border-radius: 12px;
        margin-top: 1rem;
      }

      .review-stats {
        margin-top: 1.5rem;
      }

      /* Animations */
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .bounce {
        animation: bounce 1s ease;
      }

      /* Quick Actions Floating Button */
      .quick-actions-fab {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        z-index: 1000;
      }

      .fab-main {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: var(--gradient-primary);
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: var(--shadow-lg);
        transition: all 0.3s ease;
        position: relative;
        z-index: 1001;
      }

      .fab-main:hover {
        transform: scale(1.1);
        box-shadow: var(--shadow-xl);
      }

      .fab-main.active {
        transform: rotate(45deg);
      }

      .fab-menu {
        position: absolute;
        bottom: 70px;
        right: 0;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s ease;
        pointer-events: none;
      }

      .fab-menu.active {
        opacity: 1;
        transform: translateY(0);
        pointer-events: all;
      }

      .fab-item {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: var(--bg-primary);
        border: 2px solid var(--primary-color);
        color: var(--primary-color);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        box-shadow: var(--shadow-md);
      }

      .fab-item:hover {
        background: var(--primary-color);
        color: white;
        transform: scale(1.1);
      }

      /* Improved spacing and layout */
      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont,
          "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        color: var(--text-primary);
        background: var(--bg-secondary);
        transition: all 0.3s ease;
        padding-top: 80px;
        min-height: 100vh;
      }

      .main-content {
        flex: 1;
        margin-left: 0;
        padding: 2rem;
        transition: margin-left 0.3s ease;
        min-height: calc(100vh - 80px);
        padding-bottom: 3rem;
      }

      /* Dark mode improvements */
      .dark-mode {
        --text-primary: #f9fafb;
        --text-secondary: #d1d5db;
        --text-light: #9ca3af;
        --bg-primary: #111827;
        --bg-secondary: #1f2937;
        --bg-tertiary: #374151;
        --border-color: #374151;
      }

      .dark-mode .fab-item {
        background: var(--bg-tertiary);
        border-color: var(--primary-color);
      }

      /* Hero Section Styling */
      .hero {
        position: relative;
        min-height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        margin-left: 0;
        transition: margin-left 0.3s ease;
      }

      .sidebar.active ~ .hero {
        margin-left: var(--sidebar-width);
      }

      .hero-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 1;
        filter: brightness(0.7);
      }

      .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
        color: white;
        padding: 2rem;
        max-width: 800px;
        margin: 0 auto;
      }

      .hero-title {
        font-size: 3rem;
        font-weight: bold;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        line-height: 1.2;
      }

      .hero-subtitle {
        font-size: 1.25rem;
        max-width: 600px;
        margin: 0 auto;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        line-height: 1.6;
      }

      /* Ensure hero section aligns with main layout */
      @media (max-width: 1024px) {
        .hero {
          margin-left: 0 !important;
        }

        .hero-title {
          font-size: 2.5rem;
        }

        .hero-subtitle {
          font-size: 1.125rem;
        }
      }
    </style>
  </head>

  <body class="loaded">
    <!-- Skip to Content Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <!-- Header & Navigation -->
    <header>
      <div class="container">
        <nav class="navbar">
          <a href="../index.html" class="logo-container">
            <img
              src="../images/1.png"
              alt="ESL Fun Online Logo"
              class="logo-image"
            />
            <span class="logo-text">ESL Fun Online</span>
          </a>

          <ul class="nav-links" id="navLinks">
            <li class="nav-item">
              <a href="../index.html" class="nav-link">
                <i class="fas fa-home"></i>
                Home
              </a>
            </li>
            <li class="nav-item">
              <a href="../english/grammar.html" class="nav-link">
                <i class="fas fa-book"></i>
                English
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="../english/grammar.html" class="dropdown-item">
                  <i class="fas fa-spell-check"></i>
                  Grammar Guides
                </a>
                <a href="../english/vocabguide.html" class="dropdown-item">
                  <i class="fas fa-book-open"></i>
                  Vocabulary Building
                </a>
                <a href="../english/writingf.html" class="dropdown-item">
                  <i class="fas fa-pen"></i>
                  Writing for Success
                </a>
                <a href="../english/business.html" class="dropdown-item">
                  <i class="fas fa-briefcase"></i>
                  Business English
                </a>
                <a href="../english/test.html" class="dropdown-item">
                  <i class="fas fa-graduation-cap"></i>
                  Test Preparation
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="../coding/computerbasics.html" class="nav-link">
                <i class="fas fa-code"></i>
                Coding
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="../coding/computerbasics.html" class="dropdown-item">
                  <i class="fas fa-desktop"></i>
                  Computer Basics
                </a>
                <a href="../coding/ai.html" class="dropdown-item">
                  <i class="fas fa-robot"></i>
                  AI Basics
                </a>
                <a href="../coding/codingresources.html" class="dropdown-item">
                  <i class="fas fa-code"></i>
                  Coding Basics
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="../games/games.html" class="nav-link">
                <i class="fas fa-dice"></i>
                Games
              </a>
            </li>
            <li class="nav-item">
              <a href="../tools/tools.html" class="nav-link">
                <i class="fas fa-tools"></i>
                Toolkit
              </a>
            </li>
            <li class="nav-item">
              <a href="../blog/blog.html" class="nav-link">
                <i class="fas fa-book-open"></i>
                Blog
              </a>
            </li>
          </ul>

          <div class="controls">
            <button
              class="control-btn theme-toggle"
              id="themeToggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
            <a
              class="control-btn admin-toggle"
              id="adminToggle"
              aria-label="Admin"
              href="../login.html"
            >
              <i class="fas fa-user-shield"></i>
            </a>
          </div>
          <button
            class="control-btn mobile-toggle"
            id="mobileToggle"
            aria-label="Toggle mobile menu"
          >
            <i class="fas fa-bars"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <img src="../images/11.png" alt="" class="hero-bg" />
      <div class="hero-content">
        <h1 class="hero-title">üéì Welcome to Your Learning Portal! üìö</h1>
        <p class="hero-subtitle">
          Your personalized dashboard for tracking progress, managing
          assignments, and excelling in your studies. Let's make learning
          amazing! ‚ú®
        </p>
      </div>
    </section>

    <!-- Main Content -->
    <main id="main-content" class="dashboard-layout">
      <!-- Sidebar Navigation -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <div class="student-avatar">S</div>
          <h2 class="student-name">Student</h2>
          <span class="student-level">Intermediate Level</span>
        </div>

        <nav class="sidebar-nav">
          <div class="nav-item">
            <a href="#schedule" class="nav-link active" data-section="schedule">
              <i class="fas fa-calendar-alt"></i>
              Schedule
            </a>
          </div>
          <div class="nav-item">
            <a href="#review" class="nav-link" data-section="review-exercises">
              <i class="fas fa-book-open"></i>
              Review
            </a>
          </div>
          <div class="nav-item">
            <a href="#progress" class="nav-link" data-section="progress">
              <i class="fas fa-tasks"></i>
              Progress
            </a>
          </div>
          <div class="nav-item">
            <a href="#assignments" class="nav-link" data-section="assignments">
              <i class="fas fa-clipboard-list"></i>
              Assignments
            </a>
          </div>
          <div class="nav-item">
            <a href="#contact" class="nav-link" data-section="contact">
              <i class="fas fa-envelope"></i>
              Contact
            </a>
          </div>
          <div class="nav-item">
            <a href="#review" class="nav-link" data-section="review">
              <i class="fas fa-gamepad"></i>
              Review Game
            </a>
          </div>
          <div
            class="nav-item"
            style="
              margin-top: 1rem;
              padding-top: 1rem;
              border-top: 1px solid var(--border-color);
            "
          >
            <a
              href="#"
              class="nav-link"
              onclick="toggleDarkMode()"
              style="color: var(--text-secondary)"
            >
              <i class="fas fa-moon" id="darkModeIcon"></i>
              Dark Mode
            </a>
          </div>
          <div class="nav-item">
            <a
              href="../index.html"
              class="nav-link"
              style="color: var(--text-secondary)"
            >
              <i class="fas fa-home"></i>
              Back to Home
            </a>
          </div>
        </nav>
      </aside>

      <!-- Main Dashboard Content -->
      <div class="main-content">
        <!-- Dashboard Header -->
        <div class="dashboard-header">
          <div class="welcome-section">
            <h1 class="welcome-title">Good Morning! üåü</h1>
            <p class="welcome-subtitle">
              Ready to continue your learning journey today?
            </p>
          </div>
          <div class="dashboard-controls">
            <button
              class="toggle-sidebar"
              id="toggleSidebar"
              aria-label="Toggle sidebar menu"
            >
              <i class="fas fa-bars"></i>
            </button>
          </div>
        </div>

        <!-- Quick Stats -->
        <div class="stats-grid animate-on-scroll">
          <div class="stat-card">
            <div class="stat-number">92%</div>
            <div class="stat-label">Overall Progress</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">15</div>
            <div class="stat-label">Completed Lessons</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">3</div>
            <div class="stat-label">Pending Assignments</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">A-</div>
            <div class="stat-label">Current Grade</div>
          </div>
        </div>

        <!-- Achievement Notification -->
        <div
          class="achievement-notification animate-on-scroll"
          style="
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: var(--shadow-md);
          "
        >
          <div style="font-size: 2rem">üèÜ</div>
          <div>
            <h3 style="margin: 0; font-size: 1.1rem; font-weight: 600">
              Achievement Unlocked!
            </h3>
            <p style="margin: 0.25rem 0 0; opacity: 0.9; font-size: 0.9rem">
              You've completed 15 lessons this month - Great progress!
            </p>
          </div>
          <button
            style="
              margin-left: auto;
              background: rgba(255, 255, 255, 0.2);
              border: none;
              color: white;
              padding: 0.5rem;
              border-radius: 50%;
              cursor: pointer;
              width: 40px;
              height: 40px;
            "
            onclick="this.parentElement.style.display='none'"
            aria-label="Dismiss notification"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>

        <!-- Schedule Section (Default Active) -->
        <div class="content-section" id="schedule-section">
          <!-- Calendar -->
          <div class="calendar-section animate-on-scroll">
            <div class="calendar-header">
              <h2 class="calendar-title">üìÖ Your Schedule</h2>
              <div class="calendar-nav">
                <button id="prevMonth" aria-label="Previous month">
                  <i class="fas fa-chevron-left"></i>
                </button>
                <span class="calendar-month" id="currentMonth"
                  >December 2024</span
                >
                <button id="nextMonth" aria-label="Next month">
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>

            <div class="calendar-grid" id="calendar">
              <!-- Calendar will be generated by JavaScript -->
            </div>
          </div>

          <!-- Quick Overview Cards -->
          <div class="dashboard-grid">
            <div class="dashboard-card animate-on-scroll">
              <div class="card-header">
                <h3 class="card-title">
                  <div class="card-icon assignments">
                    <i class="fas fa-clipboard-list"></i>
                  </div>
                  Upcoming Assignments
                </h3>
              </div>
              <div class="assignment-item">
                <div class="assignment-info">
                  <div class="assignment-title">Essay: "My Future Goals"</div>
                  <div class="assignment-due">Due: Tomorrow, 5:00 PM</div>
                </div>
                <span class="assignment-status pending">Pending</span>
              </div>
              <div class="assignment-item">
                <div class="assignment-info">
                  <div class="assignment-title">Grammar Quiz - Chapter 5</div>
                  <div class="assignment-due">Due: Dec 8, 2024</div>
                </div>
                <span class="assignment-status pending">Pending</span>
              </div>
            </div>

            <div class="dashboard-card animate-on-scroll">
              <div class="card-header">
                <h3 class="card-title">
                  <div class="card-icon grades">
                    <i class="fas fa-star"></i>
                  </div>
                  Recent Grades
                </h3>
              </div>
              <div class="grades-list">
                <div class="grade-item">
                  <span class="grade-subject">Vocabulary Test</span>
                  <span class="grade-score excellent">95%</span>
                </div>
                <div class="grade-item">
                  <span class="grade-subject">Speaking Practice</span>
                  <span class="grade-score good">88%</span>
                </div>
                <div class="grade-item">
                  <span class="grade-subject">Writing Assignment</span>
                  <span class="grade-score excellent">92%</span>
                </div>
              </div>
            </div>

            <div class="dashboard-card animate-on-scroll">
              <div class="card-header">
                <h3 class="card-title">
                  <div class="card-icon progress">
                    <i class="fas fa-chart-line"></i>
                  </div>
                  Learning Progress
                </h3>
              </div>
              <div class="progress-item">
                <div class="progress-header">
                  <span class="progress-label">Grammar Mastery</span>
                  <span class="progress-percentage">85%</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 85%"></div>
                </div>
              </div>
              <div class="progress-item">
                <div class="progress-header">
                  <span class="progress-label">Vocabulary Building</span>
                  <span class="progress-percentage">92%</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 92%"></div>
                </div>
              </div>
              <div class="progress-item">
                <div class="progress-header">
                  <span class="progress-label">Speaking Confidence</span>
                  <span class="progress-percentage">78%</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 78%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Review Exercises Section -->
        <div
          class="content-section"
          id="review-exercises-section"
          style="display: none"
        >
          <!-- Vocabulary Review Card -->
          <div class="dashboard-card animate-on-scroll">
            <div class="card-header">
              <h3 class="card-title">
                <div
                  class="card-icon"
                  style="background: var(--gradient-success)"
                >
                  <i class="fas fa-book"></i>
                </div>
                Vocabulary Review
              </h3>
            </div>
            <div class="vocabulary-review">
              <p style="color: var(--text-secondary); margin-bottom: 1.5rem">
                Click on any word to see its definition and example usage:
              </p>

              <!-- Advanced Vocabulary Items -->
              <div class="vocabulary-item" onclick="toggleVocabItem(this)">
                <div class="vocab-word">Sophisticated</div>
                <div class="vocab-meaning">
                  Having great knowledge or experience; refined and elegant
                </div>
                <div class="vocab-example">
                  "Her sophisticated approach to problem-solving impressed
                  everyone in the meeting."
                </div>
              </div>

              <div class="vocabulary-item" onclick="toggleVocabItem(this)">
                <div class="vocab-word">Eloquent</div>
                <div class="vocab-meaning">
                  Fluent and persuasive in speaking or writing
                </div>
                <div class="vocab-example">
                  "The student gave an eloquent presentation about environmental
                  issues."
                </div>
              </div>

              <div class="vocabulary-item" onclick="toggleVocabItem(this)">
                <div class="vocab-word">Meticulous</div>
                <div class="vocab-meaning">
                  Showing great attention to detail; very careful and precise
                </div>
                <div class="vocab-example">
                  "She was meticulous in her research, checking every source
                  twice."
                </div>
              </div>

              <div class="vocabulary-item" onclick="toggleVocabItem(this)">
                <div class="vocab-word">Comprehensive</div>
                <div class="vocab-meaning">
                  Complete and including everything that is necessary
                </div>
                <div class="vocab-example">
                  "The textbook provides a comprehensive overview of English
                  grammar."
                </div>
              </div>

              <div class="vocabulary-item" onclick="toggleVocabItem(this)">
                <div class="vocab-word">Profound</div>
                <div class="vocab-meaning">
                  Very deep, intense, or having great meaning
                </div>
                <div class="vocab-example">
                  "Reading that book had a profound impact on my understanding
                  of literature."
                </div>
              </div>

              <div class="vocabulary-item" onclick="toggleVocabItem(this)">
                <div class="vocab-word">Innovative</div>
                <div class="vocab-meaning">
                  Introducing new ideas; original and creative
                </div>
                <div class="vocab-example">
                  "The teacher used innovative methods to make grammar lessons
                  more engaging."
                </div>
              </div>
            </div>

            <div class="review-stats">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-top: 1.5rem;
                  padding: 1rem;
                  background: var(--bg-secondary);
                  border-radius: 8px;
                "
              >
                <span style="color: var(--text-secondary)"
                  >Words Reviewed:</span
                >
                <span
                  style="font-weight: 600; color: var(--primary-color)"
                  id="vocab-score"
                  >0/6</span
                >
              </div>
            </div>
          </div>

          <!-- Practice Activities Card -->
          <div class="dashboard-card animate-on-scroll">
            <div class="card-header">
              <h3 class="card-title">
                <div
                  class="card-icon"
                  style="background: var(--gradient-primary)"
                >
                  <i class="fas fa-gamepad"></i>
                </div>
                Practice Activities
              </h3>
            </div>
            <div class="practice-activities">
              <div class="practice-buttons">
                <button class="practice-btn" onclick="startVocabularyQuiz()">
                  <i class="fas fa-brain"></i>
                  Vocabulary Quiz
                </button>
                <button
                  class="practice-btn secondary"
                  onclick="startSentenceBuilder()"
                >
                  <i class="fas fa-puzzle-piece"></i>
                  Sentence Builder
                </button>
                <button class="practice-btn" onclick="startWordMatch()">
                  <i class="fas fa-link"></i>
                  Word Matching
                </button>
                <button
                  class="practice-btn secondary"
                  onclick="startSpellingChallenge()"
                >
                  <i class="fas fa-spell-check"></i>
                  Spelling Challenge
                </button>
              </div>

              <div class="practice-area" id="practice-area">
                <div class="practice-placeholder">
                  <i
                    class="fas fa-play-circle"
                    style="
                      font-size: 3rem;
                      color: var(--primary-color);
                      margin-bottom: 1rem;
                    "
                  ></i>
                  <h4>Choose a Practice Activity</h4>
                  <p style="color: var(--text-secondary)">
                    Select one of the activities above to start practicing!
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Conversation Practice Card -->
          <div class="dashboard-card animate-on-scroll">
            <div class="card-header">
              <h3 class="card-title">
                <div
                  class="card-icon"
                  style="background: var(--gradient-secondary)"
                >
                  <i class="fas fa-comments"></i>
                </div>
                Conversation Practice
              </h3>
            </div>
            <div class="conversation-practice">
              <p style="color: var(--text-secondary); margin-bottom: 1.5rem">
                Practice speaking with these conversation starters:
              </p>

              <div class="conversation-starters">
                <div class="starter-question">
                  üí° "What's the most sophisticated technology you use daily,
                  and how does it help you?"
                </div>

                <div class="starter-question">
                  üéØ "Can you describe a time when you had to be meticulous
                  about something important?"
                </div>

                <div class="starter-question">
                  üìö "What's a comprehensive plan you've made recently, and how
                  did it work out?"
                </div>

                <div class="starter-question">
                  üí≠ "Describe a book, movie, or experience that had a profound
                  impact on you."
                </div>

                <div class="starter-question">
                  üöÄ "What's an innovative idea you'd like to see implemented in
                  education?"
                </div>

                <div class="starter-question">
                  üí¨ "How do you practice being more eloquent in your daily
                  conversations?"
                </div>
              </div>

              <div style="text-align: center; margin-top: 1.5rem">
                <button
                  class="practice-btn"
                  onclick="generateNewConversationQuestion()"
                >
                  <i class="fas fa-refresh"></i>
                  Generate New Question
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Progress Section -->
        <div
          class="content-section"
          id="progress-section"
          style="display: none"
        >
          <div class="dashboard-card animate-on-scroll">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon progress">
                  <i class="fas fa-chart-bar"></i>
                </div>
                Detailed Progress Report
              </h3>
            </div>
            <div class="progress-item">
              <div class="progress-header">
                <span class="progress-label">Grammar & Structure</span>
                <span class="progress-percentage">85%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 85%"></div>
              </div>
              <small
                style="
                  color: var(--text-secondary);
                  margin-top: 0.5rem;
                  display: block;
                "
              >
                Excellent progress in complex sentence structures. Focus on
                conditional tenses next.
              </small>
            </div>
            <div class="progress-item">
              <div class="progress-header">
                <span class="progress-label">Vocabulary Expansion</span>
                <span class="progress-percentage">92%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 92%"></div>
              </div>
              <small
                style="
                  color: var(--text-secondary);
                  margin-top: 0.5rem;
                  display: block;
                "
              >
                Outstanding vocabulary growth! You've learned 150+ new words
                this month.
              </small>
            </div>
            <div class="progress-item">
              <div class="progress-header">
                <span class="progress-label">Speaking & Pronunciation</span>
                <span class="progress-percentage">78%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 78%"></div>
              </div>
              <small
                style="
                  color: var(--text-secondary);
                  margin-top: 0.5rem;
                  display: block;
                "
              >
                Good improvement in fluency. Continue practicing with
                conversation exercises.
              </small>
            </div>
            <div class="progress-item">
              <div class="progress-header">
                <span class="progress-label">Writing Skills</span>
                <span class="progress-percentage">88%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 88%"></div>
              </div>
              <small
                style="
                  color: var(--text-secondary);
                  margin-top: 0.5rem;
                  display: block;
                "
              >
                Strong essay structure and creativity. Work on transition words
                for flow.
              </small>
            </div>
            <div class="progress-item">
              <div class="progress-header">
                <span class="progress-label">Reading Comprehension</span>
                <span class="progress-percentage">94%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 94%"></div>
              </div>
              <small
                style="
                  color: var(--text-secondary);
                  margin-top: 0.5rem;
                  display: block;
                "
              >
                Exceptional reading skills! You're ready for advanced
                literature.
              </small>
            </div>
          </div>
        </div>

        <!-- Assignments Section -->
        <div
          class="content-section"
          id="assignments-section"
          style="display: none"
        >
          <div class="dashboard-card animate-on-scroll">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon assignments">
                  <i class="fas fa-tasks"></i>
                </div>
                All Assignments
              </h3>
            </div>
            <div class="assignment-item">
              <div class="assignment-info">
                <div class="assignment-title">Essay: "My Future Goals"</div>
                <div class="assignment-due">Due: Tomorrow, 5:00 PM</div>
              </div>
              <span class="assignment-status pending">Pending</span>
            </div>
            <div class="assignment-item">
              <div class="assignment-info">
                <div class="assignment-title">Grammar Quiz - Chapter 5</div>
                <div class="assignment-due">Due: Dec 8, 2024</div>
              </div>
              <span class="assignment-status pending">Pending</span>
            </div>
            <div class="assignment-item">
              <div class="assignment-info">
                <div class="assignment-title">Vocabulary Practice Set 12</div>
                <div class="assignment-due">Due: Dec 10, 2024</div>
              </div>
              <span class="assignment-status pending">Pending</span>
            </div>
            <div class="assignment-item">
              <div class="assignment-info">
                <div class="assignment-title">
                  Speaking Practice - Presentation
                </div>
                <div class="assignment-due">Submitted: Nov 30, 2024</div>
              </div>
              <span class="assignment-status submitted">Submitted</span>
            </div>
            <div class="assignment-item">
              <div class="assignment-info">
                <div class="assignment-title">Reading Comprehension Test</div>
                <div class="assignment-due">Submitted: Nov 28, 2024</div>
              </div>
              <span class="assignment-status submitted">Submitted</span>
            </div>
            <div class="assignment-item">
              <div class="assignment-info">
                <div class="assignment-title">Creative Writing Assignment</div>
                <div class="assignment-due">Overdue: Nov 20, 2024</div>
              </div>
              <span class="assignment-status overdue">Overdue</span>
            </div>
          </div>
        </div>

        <!-- Contact Section -->
        <div class="content-section" id="contact-section" style="display: none">
          <div class="dashboard-card animate-on-scroll">
            <div class="card-header">
              <h3 class="card-title">
                <div
                  class="card-icon"
                  style="background: var(--gradient-secondary)"
                >
                  <i class="fas fa-user-tie"></i>
                </div>
                Contact Information
              </h3>
            </div>
            <div style="display: grid; gap: 2rem; margin-top: 2rem">
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: 1rem;
                  padding: 1rem;
                  background: var(--bg-secondary);
                  border-radius: 8px;
                "
              >
                <div
                  style="
                    width: 50px;
                    height: 50px;
                    background: var(--primary-color);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                  "
                >
                  <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <div>
                  <h4
                    style="margin-bottom: 0.25rem; color: var(--text-primary)"
                  >
                    Primary Teacher
                  </h4>
                  <p
                    style="color: var(--text-secondary); margin-bottom: 0.25rem"
                  >
                    Ms. Sarah Johnson
                  </p>
                  <p style="color: var(--text-secondary); font-size: 0.875rem">
                    sarah.johnson@eslfunonline.com
                  </p>
                </div>
              </div>

              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: 1rem;
                  padding: 1rem;
                  background: var(--bg-secondary);
                  border-radius: 8px;
                "
              >
                <div
                  style="
                    width: 50px;
                    height: 50px;
                    background: var(--success-color);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                  "
                >
                  <i class="fas fa-user-graduate"></i>
                </div>
                <div>
                  <h4
                    style="margin-bottom: 0.25rem; color: var(--text-primary)"
                  >
                    Academic Advisor
                  </h4>
                  <p
                    style="color: var(--text-secondary); margin-bottom: 0.25rem"
                  >
                    Mr. David Chen
                  </p>
                  <p style="color: var(--text-secondary); font-size: 0.875rem">
                    david.chen@eslfunonline.com
                  </p>
                </div>
              </div>

              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: 1rem;
                  padding: 1rem;
                  background: var(--bg-secondary);
                  border-radius: 8px;
                "
              >
                <div
                  style="
                    width: 50px;
                    height: 50px;
                    background: var(--warning-color);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                  "
                >
                  <i class="fas fa-headset"></i>
                </div>
                <div>
                  <h4
                    style="margin-bottom: 0.25rem; color: var(--text-primary)"
                  >
                    Technical Support
                  </h4>
                  <p
                    style="color: var(--text-secondary); margin-bottom: 0.25rem"
                  >
                    Help Desk Team
                  </p>
                  <p style="color: var(--text-secondary); font-size: 0.875rem">
                    support@eslfunonline.com
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Review Game Section -->
        <div class="content-section" id="review-section" style="display: none">
          <div class="review-game animate-on-scroll">
            <div class="game-header">
              <h2 class="game-title">üéØ Vocabulary Review Flashcards</h2>
              <p class="game-subtitle">
                Test your knowledge with interactive flashcards!
              </p>
            </div>

            <div class="flashcard" id="flashcard" onclick="flipCard()">
              <div class="card-content" id="cardContent">
                <div id="cardQuestion">What does "ambitious" mean?</div>
                <div id="cardAnswer" style="display: none">
                  Having a strong desire to succeed or achieve something great.
                  <div class="card-hint">
                    Example: "She is ambitious and wants to become a doctor."
                  </div>
                </div>
              </div>
            </div>

            <div class="game-controls">
              <button class="game-btn secondary" onclick="previousCard()">
                <i class="fas fa-arrow-left"></i> Previous
              </button>
              <button class="game-btn" onclick="flipCard()" id="flipBtn">
                <i class="fas fa-sync-alt"></i> Reveal Answer
              </button>
              <button class="game-btn secondary" onclick="nextCard()">
                Next <i class="fas fa-arrow-right"></i>
              </button>
            </div>

            <div
              style="
                text-align: center;
                margin-top: 1rem;
                color: var(--text-secondary);
              "
            >
              Card <span id="cardNumber">1</span> of
              <span id="totalCards">10</span>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Quick Actions Floating Button -->
    <div class="quick-actions-fab" id="quickActionsFab">
      <button
        class="fab-main"
        onclick="toggleQuickActions()"
        aria-label="Quick Actions"
      >
        <i class="fas fa-plus" id="fabIcon"></i>
      </button>
      <div class="fab-menu" id="fabMenu">
        <button
          class="fab-item"
          onclick="switchSection('assignments')"
          title="View Assignments"
        >
          <i class="fas fa-clipboard-list"></i>
        </button>
        <button
          class="fab-item"
          onclick="switchSection('review-exercises')"
          title="Review & Practice"
        >
          <i class="fas fa-book-open"></i>
        </button>
        <button
          class="fab-item"
          onclick="switchSection('review')"
          title="Study Review"
        >
          <i class="fas fa-gamepad"></i>
        </button>
        <button
          class="fab-item"
          onclick="switchSection('schedule')"
          title="View Calendar"
        >
          <i class="fas fa-calendar"></i>
        </button>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../js/navigation.js"></script>

    <!-- Enhanced Student Portal functionality script -->
    <script>
      // Student Portal Data
      const flashcards = [
        {
          question: "What does 'ambitious' mean?",
          answer:
            "Having a strong desire to succeed or achieve something great.",
          hint: "Example: 'She is ambitious and wants to become a doctor.'",
        },
        {
          question: "What is the meaning of 'persistent'?",
          answer: "Continuing firmly in spite of difficulties or opposition.",
          hint: "Example: 'He was persistent in his efforts to learn English.'",
        },
        {
          question: "Define 'collaborate':",
          answer: "To work jointly with others on an activity or project.",
          hint: "Example: 'Students collaborate on group assignments.'",
        },
        {
          question: "What does 'versatile' mean?",
          answer:
            "Able to adapt or be adapted to many different functions or activities.",
          hint: "Example: 'She is a versatile athlete who plays multiple sports.'",
        },
        {
          question: "What is 'enthusiasm'?",
          answer: "Intense and eager enjoyment, interest, or approval.",
          hint: "Example: 'She showed great enthusiasm for learning new languages.'",
        },
        {
          question: "Define 'innovation':",
          answer:
            "The action of introducing something new or making creative changes.",
          hint: "Example: 'Technology innovation has changed how we learn.'",
        },
        {
          question: "What does 'resilient' mean?",
          answer: "Able to recover quickly from difficult conditions.",
          hint: "Example: 'Students need to be resilient when facing challenges.'",
        },
        {
          question: "What is 'empathy'?",
          answer:
            "The ability to understand and share the feelings of another person.",
          hint: "Example: 'Good teachers show empathy toward struggling students.'",
        },
        {
          question: "Define 'analytical':",
          answer: "Using logical reasoning to examine something carefully.",
          hint: "Example: 'She has strong analytical skills for problem-solving.'",
        },
        {
          question: "What does 'articulate' mean?",
          answer: "To express thoughts and ideas clearly and effectively.",
          hint: "Example: 'He can articulate complex ideas in simple terms.'",
        },
      ];

      let currentCard = 0;
      let isFlipped = false;

      // Calendar functionality
      const currentDate = new Date();
      let currentMonth = currentDate.getMonth();
      let currentYear = currentDate.getFullYear();

      const monthNames = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];

      // Sample events data
      const events = {
        "2024-12-05": [
          { title: "Grammar Quiz", type: "exam" },
          { title: "Speaking Practice", type: "lesson" },
        ],
        "2024-12-08": [{ title: "Essay Due", type: "assignment" }],
        "2024-12-10": [{ title: "Vocabulary Test", type: "exam" }],
        "2024-12-15": [{ title: "Group Presentation", type: "lesson" }],
        "2024-12-18": [{ title: "Winter Break Begins", type: "lesson" }],
      };

      // Initialize dashboard when page loads
      document.addEventListener("DOMContentLoaded", function () {
        initializeDashboard();
        generateCalendar();
        initializeFlashcards();

        // Animate on scroll
        const animateOnScrollElements =
          document.querySelectorAll(".animate-on-scroll");

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          },
          {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px",
          }
        );

        animateOnScrollElements.forEach((el) => observer.observe(el));

        // Add staggered animation to cards
        const dashboardCards = document.querySelectorAll(
          ".dashboard-card, .stat-card"
        );
        dashboardCards.forEach((card, index) => {
          card.style.animationDelay = `${index * 0.1}s`;
          card.classList.add("fade-in-up");
        });
      });

      // Initialize dashboard functionality
      function initializeDashboard() {
        // Sidebar toggle
        const toggleSidebar = document.getElementById("toggleSidebar");
        const sidebar = document.getElementById("sidebar");
        const heroSection = document.querySelector(".hero");

        if (toggleSidebar && sidebar) {
          toggleSidebar.addEventListener("click", () => {
            sidebar.classList.toggle("active");

            // Update hero section alignment
            if (heroSection) {
              if (sidebar.classList.contains("active")) {
                heroSection.style.marginLeft = "var(--sidebar-width)";
              } else {
                heroSection.style.marginLeft = "0";
              }
            }
          });
        }

        // Navigation links
        const navLinks = document.querySelectorAll(".nav-link");
        navLinks.forEach((link) => {
          link.addEventListener("click", (e) => {
            e.preventDefault();
            const section = link.getAttribute("data-section");
            switchSection(section);

            // Update active nav link
            navLinks.forEach((navLink) => navLink.classList.remove("active"));
            link.classList.add("active");

            // Close sidebar on mobile
            if (window.innerWidth <= 1024) {
              sidebar.classList.remove("active");
              if (heroSection) {
                heroSection.style.marginLeft = "0";
              }
            }
          });
        });

        // Calendar navigation
        const prevMonth = document.getElementById("prevMonth");
        const nextMonth = document.getElementById("nextMonth");

        if (prevMonth) {
          prevMonth.addEventListener("click", () => {
            currentMonth--;
            if (currentMonth < 0) {
              currentMonth = 11;
              currentYear--;
            }
            generateCalendar();
          });
        }

        if (nextMonth) {
          nextMonth.addEventListener("click", () => {
            currentMonth++;
            if (currentMonth > 11) {
              currentMonth = 0;
              currentYear++;
            }
            generateCalendar();
          });
        }
      }

      // Switch between dashboard sections
      function switchSection(sectionName) {
        // Hide all sections
        const sections = document.querySelectorAll(".content-section");
        sections.forEach((section) => {
          section.style.display = "none";
        });

        // Show selected section
        const targetSection = document.getElementById(`${sectionName}-section`);
        if (targetSection) {
          targetSection.style.display = "block";
          targetSection.classList.add("fade-in-up");
        }
      }

      // Generate calendar
      function generateCalendar() {
        const calendar = document.getElementById("calendar");
        const currentMonthElement = document.getElementById("currentMonth");

        if (!calendar || !currentMonthElement) return;

        currentMonthElement.textContent = `${monthNames[currentMonth]} ${currentYear}`;

        const firstDay = new Date(currentYear, currentMonth, 1).getDay();
        const daysInMonth = new Date(
          currentYear,
          currentMonth + 1,
          0
        ).getDate();
        const today = new Date();

        let calendarHTML = "";

        // Days of week headers
        const dayHeaders = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
        dayHeaders.forEach((day) => {
          calendarHTML += `<div class="calendar-day-header">${day}</div>`;
        });

        // Empty cells for days before month starts
        for (let i = 0; i < firstDay; i++) {
          const prevMonth = currentMonth === 0 ? 11 : currentMonth - 1;
          const prevYear = currentMonth === 0 ? currentYear - 1 : currentYear;
          const prevMonthDays = new Date(prevYear, prevMonth + 1, 0).getDate();
          const dayNum = prevMonthDays - firstDay + i + 1;

          calendarHTML += `<div class="calendar-day other-month">
            <div class="calendar-day-number">${dayNum}</div>
          </div>`;
        }

        // Days of current month
        for (let day = 1; day <= daysInMonth; day++) {
          const isToday =
            today.getDate() === day &&
            today.getMonth() === currentMonth &&
            today.getFullYear() === currentYear;

          const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(
            2,
            "0"
          )}-${String(day).padStart(2, "0")}`;
          const dayEvents = events[dateStr] || [];

          let eventsHTML = "";
          dayEvents.forEach((event) => {
            eventsHTML += `<div class="calendar-event ${event.type}">${event.title}</div>`;
          });

          calendarHTML += `<div class="calendar-day ${isToday ? "today" : ""}">
            <div class="calendar-day-number">${day}</div>
            ${eventsHTML}
          </div>`;
        }

        // Remaining empty cells
        const totalCells = Math.ceil((firstDay + daysInMonth) / 7) * 7;
        const remainingCells = totalCells - (firstDay + daysInMonth);

        for (let day = 1; day <= remainingCells; day++) {
          calendarHTML += `<div class="calendar-day other-month">
            <div class="calendar-day-number">${day}</div>
          </div>`;
        }

        calendar.innerHTML = calendarHTML;
      }

      // Initialize flashcards
      function initializeFlashcards() {
        const totalCardsElement = document.getElementById("totalCards");
        if (totalCardsElement) {
          totalCardsElement.textContent = flashcards.length;
        }
        updateFlashcard();
      }

      // Update flashcard content
      function updateFlashcard() {
        const cardQuestion = document.getElementById("cardQuestion");
        const cardAnswer = document.getElementById("cardAnswer");
        const cardNumber = document.getElementById("cardNumber");
        const flipBtn = document.getElementById("flipBtn");
        const flashcard = document.getElementById("flashcard");

        if (!cardQuestion || !cardAnswer) return;

        const card = flashcards[currentCard];
        cardQuestion.textContent = card.question;
        cardAnswer.innerHTML = `${card.answer}<div class="card-hint">${card.hint}</div>`;

        if (cardNumber) {
          cardNumber.textContent = currentCard + 1;
        }

        // Reset card state
        isFlipped = false;
        flashcard.classList.remove("flipped");
        cardQuestion.style.display = "block";
        cardAnswer.style.display = "none";

        if (flipBtn) {
          flipBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Reveal Answer';
        }
      }

      // Flip flashcard
      function flipCard() {
        const cardQuestion = document.getElementById("cardQuestion");
        const cardAnswer = document.getElementById("cardAnswer");
        const flipBtn = document.getElementById("flipBtn");
        const flashcard = document.getElementById("flashcard");

        if (!cardQuestion || !cardAnswer) return;

        isFlipped = !isFlipped;

        if (isFlipped) {
          cardQuestion.style.display = "none";
          cardAnswer.style.display = "block";
          flashcard.classList.add("flipped");
          flipBtn.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Answer';
        } else {
          cardQuestion.style.display = "block";
          cardAnswer.style.display = "none";
          flashcard.classList.remove("flipped");
          flipBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Reveal Answer';
        }
      }

      // Next flashcard
      function nextCard() {
        if (currentCard < flashcards.length - 1) {
          currentCard++;
        } else {
          currentCard = 0; // Loop back to first card
        }
        updateFlashcard();
      }

      // Previous flashcard
      function previousCard() {
        if (currentCard > 0) {
          currentCard--;
        } else {
          currentCard = flashcards.length - 1; // Loop to last card
        }
        updateFlashcard();
      }

      // Keyboard navigation for flashcards
      document.addEventListener("keydown", (e) => {
        const reviewSection = document.getElementById("review-section");
        if (reviewSection && reviewSection.style.display !== "none") {
          switch (e.key) {
            case "ArrowLeft":
              e.preventDefault();
              previousCard();
              break;
            case "ArrowRight":
              e.preventDefault();
              nextCard();
              break;
            case " ":
            case "Enter":
              e.preventDefault();
              flipCard();
              break;
          }
        }
      });

      // Responsive behavior
      let resizeTimer;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          const sidebar = document.getElementById("sidebar");
          const heroSection = document.querySelector(".hero");

          if (window.innerWidth > 1024 && sidebar) {
            sidebar.classList.add("active");
            if (heroSection) {
              heroSection.style.marginLeft = "var(--sidebar-width)";
            }
          } else if (sidebar) {
            sidebar.classList.remove("active");
            if (heroSection) {
              heroSection.style.marginLeft = "0";
            }
          }

          // Regenerate calendar on resize to ensure proper display
          generateCalendar();
        }, 150);
      });

      // Initialize sidebar state based on screen size
      window.addEventListener("load", () => {
        const sidebar = document.getElementById("sidebar");
        const heroSection = document.querySelector(".hero");

        if (window.innerWidth > 1024 && sidebar) {
          sidebar.classList.add("active");
          if (heroSection) {
            heroSection.style.marginLeft = "var(--sidebar-width)";
          }
        }

        document.body.classList.add("loaded");
      });

      // Add smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Progress bar animations
      function animateProgressBars() {
        const progressBars = document.querySelectorAll(".progress-fill");
        progressBars.forEach((bar) => {
          const width = bar.style.width;
          bar.style.width = "0%";
          setTimeout(() => {
            bar.style.width = width;
          }, 300);
        });
      }

      // Auto-save preferences (sidebar state, current section)
      function saveUserPreferences() {
        const activeSection =
          document
            .querySelector(".nav-link.active")
            ?.getAttribute("data-section") || "schedule";
        localStorage.setItem("studentPortalSection", activeSection);
      }

      function loadUserPreferences() {
        const savedSection = localStorage.getItem("studentPortalSection");
        if (savedSection) {
          setTimeout(() => {
            switchSection(savedSection);
            const navLink = document.querySelector(
              `[data-section="${savedSection}"]`
            );
            if (navLink) {
              document
                .querySelectorAll(".nav-link")
                .forEach((link) => link.classList.remove("active"));
              navLink.classList.add("active");
            }
          }, 100);
        }
      }

      // Quick Actions Floating Button functionality
      function toggleQuickActions() {
        const fabIcon = document.getElementById("fabIcon");
        const fabMenu = document.getElementById("fabMenu");
        const fabMain = document.querySelector(".fab-main");

        fabMain.classList.toggle("active");
        fabMenu.classList.toggle("active");

        if (fabMain.classList.contains("active")) {
          fabIcon.className = "fas fa-times";
        } else {
          fabIcon.className = "fas fa-plus";
        }
      }

      // Dark mode toggle functionality
      function toggleDarkMode() {
        const body = document.body;
        const darkModeIcon = document.getElementById("darkModeIcon");

        body.classList.toggle("dark-mode");

        if (body.classList.contains("dark-mode")) {
          darkModeIcon.className = "fas fa-sun";
          localStorage.setItem("studentPortalDarkMode", "true");
        } else {
          darkModeIcon.className = "fas fa-moon";
          localStorage.setItem("studentPortalDarkMode", "false");
        }
      }

      // Load dark mode preference
      function loadDarkModePreference() {
        const isDarkMode =
          localStorage.getItem("studentPortalDarkMode") === "true";
        const darkModeIcon = document.getElementById("darkModeIcon");

        if (isDarkMode) {
          document.body.classList.add("dark-mode");
          if (darkModeIcon) darkModeIcon.className = "fas fa-sun";
        }
      }

      // Close quick actions menu when clicking outside
      document.addEventListener("click", (e) => {
        const fab = document.getElementById("quickActionsFab");
        const fabMenu = document.getElementById("fabMenu");
        const fabMain = document.querySelector(".fab-main");
        const fabIcon = document.getElementById("fabIcon");

        if (
          fab &&
          !fab.contains(e.target) &&
          fabMenu.classList.contains("active")
        ) {
          fabMain.classList.remove("active");
          fabMenu.classList.remove("active");
          fabIcon.className = "fas fa-plus";
        }
      });

      // Enhanced switchSection function to work with FAB
      switchSection = function (sectionName) {
        // Hide all sections
        const sections = document.querySelectorAll(".content-section");
        sections.forEach((section) => {
          section.style.display = "none";
        });

        // Show selected section
        const targetSection = document.getElementById(`${sectionName}-section`);
        if (targetSection) {
          targetSection.style.display = "block";
          targetSection.classList.add("fade-in-up");
        }

        // Update active nav link
        const navLinks = document.querySelectorAll(".nav-link");
        navLinks.forEach((navLink) => navLink.classList.remove("active"));
        const targetNavLink = document.querySelector(
          `[data-section="${sectionName}"]`
        );
        if (targetNavLink) {
          targetNavLink.classList.add("active");
        }

        // Close FAB menu
        const fabMenu = document.getElementById("fabMenu");
        const fabMain = document.querySelector(".fab-main");
        const fabIcon = document.getElementById("fabIcon");

        if (fabMenu && fabMenu.classList.contains("active")) {
          fabMain.classList.remove("active");
          fabMenu.classList.remove("active");
          fabIcon.className = "fas fa-plus";
        }

        // Close sidebar on mobile and update hero alignment
        const sidebar = document.getElementById("sidebar");
        const heroSection = document.querySelector(".hero");

        if (window.innerWidth <= 1024 && sidebar) {
          sidebar.classList.remove("active");
          if (heroSection) {
            heroSection.style.marginLeft = "0";
          }
        }

        if (sectionName === "progress" || sectionName === "schedule") {
          setTimeout(animateProgressBars, 100);
        }

        // Save preferences
        setTimeout(() => {
          const activeSection =
            document
              .querySelector(".nav-link.active")
              ?.getAttribute("data-section") || "schedule";
          localStorage.setItem("studentPortalSection", activeSection);
        }, 100);
      };

      // Review Exercises Functionality
      let vocabularyScore = 0;
      let currentQuiz = null;
      let currentQuizIndex = 0;
      let quizScore = 0;

      // Vocabulary Review Functions
      function toggleVocabItem(element) {
        element.classList.toggle("expanded");

        // Update vocabulary score
        const expandedItems = document.querySelectorAll(
          ".vocabulary-item.expanded"
        );
        vocabularyScore = expandedItems.length;
        const scoreElement = document.getElementById("vocab-score");
        if (scoreElement) {
          scoreElement.textContent = `${vocabularyScore}/6`;
        }

        // Add bounce animation
        element.classList.add("bounce");
        setTimeout(() => {
          element.classList.remove("bounce");
        }, 1000);
      }

      // Practice Activities Functions
      const vocabularyQuizData = [
        {
          question: "What does 'sophisticated' mean?",
          options: [
            "Simple and basic",
            "Having great knowledge or experience; refined and elegant",
            "Confused and unclear",
            "Young and inexperienced",
          ],
          correct: 1,
        },
        {
          question: "Which sentence uses 'eloquent' correctly?",
          options: [
            "The soup was very eloquent",
            "She gave an eloquent presentation",
            "The car is eloquent and fast",
            "He eloquently fixed the computer",
          ],
          correct: 1,
        },
        {
          question: "What does 'meticulous' mean?",
          options: [
            "Very fast and quick",
            "Loud and noisy",
            "Showing great attention to detail",
            "Confused and lost",
          ],
          correct: 2,
        },
        {
          question:
            "Which word means 'complete and including everything necessary'?",
          options: ["Partial", "Incomplete", "Comprehensive", "Limited"],
          correct: 2,
        },
        {
          question: "What does 'profound' mean?",
          options: [
            "Shallow and surface-level",
            "Very deep, intense, or having great meaning",
            "Quick and fast",
            "Funny and amusing",
          ],
          correct: 1,
        },
      ];

      function startVocabularyQuiz() {
        currentQuiz = [...vocabularyQuizData];
        currentQuizIndex = 0;
        quizScore = 0;
        showQuizQuestion();
      }

      function showQuizQuestion() {
        const practiceArea = document.getElementById("practice-area");
        if (!practiceArea) return;

        practiceArea.classList.add("active");

        if (currentQuizIndex < currentQuiz.length) {
          const question = currentQuiz[currentQuizIndex];
          practiceArea.innerHTML = `
            <div class="quiz-container">
              <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">
                Vocabulary Quiz - Question ${currentQuizIndex + 1}/${
            currentQuiz.length
          }
              </h4>
              <div class="quiz-question">${question.question}</div>
              <div class="quiz-options">
                ${question.options
                  .map(
                    (option, index) =>
                      `<div class="quiz-option" onclick="selectQuizAnswer(${index})">${option}</div>`
                  )
                  .join("")}
              </div>
            </div>
          `;
        } else {
          showQuizResults();
        }
      }

      function selectQuizAnswer(selectedIndex) {
        const question = currentQuiz[currentQuizIndex];
        const options = document.querySelectorAll(".quiz-option");

        options.forEach((option, index) => {
          if (index === question.correct) {
            option.classList.add("correct");
          } else if (index === selectedIndex && index !== question.correct) {
            option.classList.add("incorrect");
          }
          option.style.pointerEvents = "none";
        });

        if (selectedIndex === question.correct) {
          quizScore++;
        }

        setTimeout(() => {
          currentQuizIndex++;
          showQuizQuestion();
        }, 1500);
      }

      function showQuizResults() {
        const practiceArea = document.getElementById("practice-area");
        const percentage = Math.round((quizScore / currentQuiz.length) * 100);

        let message = "";
        if (percentage >= 80) {
          message = "Excellent work! You have a strong vocabulary! üåü";
        } else if (percentage >= 60) {
          message = "Good job! Keep practicing to improve further! üëç";
        } else {
          message = "Keep studying! Review the vocabulary and try again! üìö";
        }

        practiceArea.innerHTML = `
          <div class="quiz-result">
            <h3 style="color: var(--success-color); margin-bottom: 1rem;">Quiz Complete! üéâ</h3>
            <div style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin-bottom: 1rem;">
              ${quizScore}/${currentQuiz.length} (${percentage}%)
            </div>
            <p style="margin-bottom: 1.5rem;">${message}</p>
            <button class="practice-btn" onclick="startVocabularyQuiz()">
              <i class="fas fa-redo"></i> Try Again
            </button>
            <button class="practice-btn secondary" onclick="resetPracticeArea()">
              <i class="fas fa-home"></i> Back to Activities
            </button>
          </div>
        `;
      }

      function startSentenceBuilder() {
        const practiceArea = document.getElementById("practice-area");
        practiceArea.classList.add("active");

        const words = [
          "sophisticated",
          "eloquent",
          "meticulous",
          "comprehensive",
          "profound",
          "innovative",
        ];
        const randomWord = words[Math.floor(Math.random() * words.length)];

        practiceArea.innerHTML = `
          <div class="quiz-container">
            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">
              <i class="fas fa-puzzle-piece"></i> Sentence Builder
            </h4>
            <p style="margin-bottom: 1.5rem;">Create a meaningful sentence using the word: <strong>"${randomWord}"</strong></p>
            <textarea 
              id="sentence-input" 
              placeholder="Write your sentence here..."
              style="width: 100%; height: 120px; padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px; font-family: inherit; resize: vertical;"
            ></textarea>
            <div style="margin-top: 1rem; display: flex; gap: 1rem; justify-content: center;">
              <button class="practice-btn" onclick="checkSentence('${randomWord}')">
                <i class="fas fa-check"></i> Check Sentence
              </button>
              <button class="practice-btn secondary" onclick="startSentenceBuilder()">
                <i class="fas fa-refresh"></i> New Word
              </button>
            </div>
            <div id="sentence-feedback" style="margin-top: 1rem;"></div>
          </div>
        `;
      }

      function checkSentence(targetWord) {
        const input = document.getElementById("sentence-input");
        const feedback = document.getElementById("sentence-feedback");
        const sentence = input.value.trim();

        if (sentence.length < 10) {
          feedback.innerHTML = `
            <div style="background: #fef2f2; color: #dc2626; padding: 1rem; border-radius: 8px; border-left: 4px solid #dc2626;">
              Please write a longer sentence (at least 10 characters).
            </div>
          `;
          return;
        }

        if (sentence.toLowerCase().includes(targetWord.toLowerCase())) {
          feedback.innerHTML = `
            <div style="background: #f0fdf4; color: #059669; padding: 1rem; border-radius: 8px; border-left: 4px solid #059669;">
              <strong>Excellent! ‚úÖ</strong><br>
              You successfully used "${targetWord}" in your sentence:<br>
              <em>"${sentence}"</em>
            </div>
          `;
        } else {
          feedback.innerHTML = `
            <div style="background: #fef3c7; color: #d97706; padding: 1rem; border-radius: 8px; border-left: 4px solid #d97706;">
              <strong>Almost there! ‚ö†Ô∏è</strong><br>
              Don't forget to include the word "${targetWord}" in your sentence.
            </div>
          `;
        }
      }

      function startWordMatch() {
        const practiceArea = document.getElementById("practice-area");
        practiceArea.classList.add("active");

        const wordPairs = [
          { word: "Sophisticated", meaning: "Refined and elegant" },
          { word: "Eloquent", meaning: "Fluent and persuasive" },
          { word: "Meticulous", meaning: "Very careful and precise" },
          { word: "Comprehensive", meaning: "Complete and thorough" },
        ];

        const shuffledMeanings = [...wordPairs].sort(() => Math.random() - 0.5);

        practiceArea.innerHTML = `
          <div class="quiz-container">
            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">
              <i class="fas fa-link"></i> Word Matching Game
            </h4>
            <p style="margin-bottom: 1.5rem;">Click a word, then click its correct meaning:</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
              <div>
                <h5 style="margin-bottom: 1rem; color: var(--text-primary);">Words:</h5>
                ${wordPairs
                  .map(
                    (pair, index) =>
                      `<div class="quiz-option" id="word-${index}" onclick="selectWord(${index})" style="margin-bottom: 0.5rem;">
                    ${pair.word}
                  </div>`
                  )
                  .join("")}
              </div>
              <div>
                <h5 style="margin-bottom: 1rem; color: var(--text-primary);">Meanings:</h5>
                ${shuffledMeanings
                  .map(
                    (pair, index) =>
                      `<div class="quiz-option" onclick="selectMeaning('${pair.meaning}')" style="margin-bottom: 0.5rem;">
                    ${pair.meaning}
                  </div>`
                  )
                  .join("")}
              </div>
            </div>
            <div id="match-feedback" style="margin-top: 1rem; text-align: center;"></div>
          </div>
        `;
      }

      let selectedWordIndex = null;

      function selectWord(index) {
        // Reset previous selections
        document.querySelectorAll('[id^="word-"]').forEach((el) => {
          el.style.background = "";
          el.style.color = "";
        });

        // Highlight selected word
        document.getElementById(`word-${index}`).style.background =
          "var(--primary-color)";
        document.getElementById(`word-${index}`).style.color = "white";
        selectedWordIndex = index;
      }

      function selectMeaning(meaning) {
        if (selectedWordIndex === null) {
          document.getElementById("match-feedback").innerHTML = `
            <div style="color: var(--warning-color);">Please select a word first!</div>
          `;
          return;
        }

        const wordPairs = [
          { word: "Sophisticated", meaning: "Refined and elegant" },
          { word: "Eloquent", meaning: "Fluent and persuasive" },
          { word: "Meticulous", meaning: "Very careful and precise" },
          { word: "Comprehensive", meaning: "Complete and thorough" },
        ];

        const selectedPair = wordPairs[selectedWordIndex];
        const feedback = document.getElementById("match-feedback");

        if (selectedPair.meaning === meaning) {
          feedback.innerHTML = `
            <div style="color: var(--success-color); font-weight: bold;">
              ‚úÖ Correct! "${selectedPair.word}" matches "${meaning}"
            </div>
          `;
        } else {
          feedback.innerHTML = `
            <div style="color: var(--danger-color); font-weight: bold;">
              ‚ùå Not quite right. Try again!
            </div>
          `;
        }

        // Reset selection
        selectedWordIndex = null;
        document.querySelectorAll('[id^="word-"]').forEach((el) => {
          el.style.background = "";
          el.style.color = "";
        });
      }

      function startSpellingChallenge() {
        const practiceArea = document.getElementById("practice-area");
        practiceArea.classList.add("active");

        const words = [
          "sophisticated",
          "eloquent",
          "meticulous",
          "comprehensive",
          "profound",
          "innovative",
        ];
        const randomWord = words[Math.floor(Math.random() * words.length)];
        const scrambledWord = randomWord
          .split("")
          .sort(() => Math.random() - 0.5)
          .join("");

        practiceArea.innerHTML = `
          <div class="quiz-container">
            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">
              <i class="fas fa-spell-check"></i> Spelling Challenge
            </h4>
            <p style="margin-bottom: 1rem;">Unscramble these letters to form a vocabulary word:</p>
            <div style="font-size: 1.5rem; font-weight: bold; color: var(--secondary-color); margin: 1.5rem 0; text-align: center; letter-spacing: 2px;">
              ${scrambledWord.toUpperCase()}
            </div>
            <input 
              type="text" 
              id="spelling-input" 
              placeholder="Type the word here..."
              style="width: 100%; padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px; font-size: 1.1rem; text-align: center;"
            />
            <div style="margin-top: 1rem; text-align: center;">
              <button class="practice-btn" onclick="checkSpelling('${randomWord}')">
                <i class="fas fa-check"></i> Check Answer
              </button>
              <button class="practice-btn secondary" onclick="startSpellingChallenge()">
                <i class="fas fa-refresh"></i> New Word
              </button>
            </div>
            <div id="spelling-feedback" style="margin-top: 1rem;"></div>
          </div>
        `;
      }

      function checkSpelling(correctWord) {
        const input = document.getElementById("spelling-input");
        const feedback = document.getElementById("spelling-feedback");
        const userAnswer = input.value.trim().toLowerCase();

        if (userAnswer === correctWord.toLowerCase()) {
          feedback.innerHTML = `
            <div style="background: #f0fdf4; color: #059669; padding: 1rem; border-radius: 8px; text-align: center; border-left: 4px solid #059669;">
              <strong>Perfect! ‚úÖ</strong><br>
              You correctly spelled: <strong>${correctWord}</strong>
            </div>
          `;
        } else {
          feedback.innerHTML = `
            <div style="background: #fef2f2; color: #dc2626; padding: 1rem; border-radius: 8px; text-align: center; border-left: 4px solid #dc2626;">
              <strong>Try again! ‚ùå</strong><br>
              The correct spelling is: <strong>${correctWord}</strong>
            </div>
          `;
        }
      }

      function resetPracticeArea() {
        const practiceArea = document.getElementById("practice-area");
        practiceArea.classList.remove("active");
        practiceArea.innerHTML = `
          <div class="practice-placeholder">
            <i class="fas fa-play-circle" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 1rem;"></i>
            <h4>Choose a Practice Activity</h4>
            <p style="color: var(--text-secondary);">Select one of the activities above to start practicing!</p>
          </div>
        `;
      }

      // Conversation Practice Functions
      const conversationQuestions = [
        "üí° What's the most sophisticated technology you use daily, and how does it help you?",
        "üéØ Can you describe a time when you had to be meticulous about something important?",
        "üìö What's a comprehensive plan you've made recently, and how did it work out?",
        "üí≠ Describe a book, movie, or experience that had a profound impact on you.",
        "üöÄ What's an innovative idea you'd like to see implemented in education?",
        "üí¨ How do you practice being more eloquent in your daily conversations?",
        "üèÜ What's a sophisticated skill you'd like to develop this year?",
        "üîç When do you need to be most meticulous in your work or studies?",
        "üìñ What comprehensive resource has helped you learn English the most?",
        "üåü Describe a profound realization you've had about language learning.",
      ];

      function generateNewConversationQuestion() {
        const questions = document.querySelectorAll(".starter-question");
        if (questions.length > 0) {
          const randomQuestion =
            conversationQuestions[
              Math.floor(Math.random() * conversationQuestions.length)
            ];
          const randomIndex = Math.floor(Math.random() * questions.length);
          questions[randomIndex].textContent = randomQuestion;

          // Add animation
          questions[randomIndex].style.transform = "scale(1.05)";
          questions[randomIndex].style.background = "var(--primary-color)";
          questions[randomIndex].style.color = "white";

          setTimeout(() => {
            questions[randomIndex].style.transform = "";
            questions[randomIndex].style.background = "";
            questions[randomIndex].style.color = "";
          }, 1000);
        }
      }

      // Load preferences on page load (updated)
      window.addEventListener("load", () => {
        loadUserPreferences();
        loadDarkModePreference();
      });
    </script>
  </body>
</html>
