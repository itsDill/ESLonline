<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Student review page for advanced English conversation practice. Review vocabulary, idioms, and conversation skills."
    />
    <meta
      name="keywords"
      content="ESL student review, English practice, vocabulary review, conversation practice, student dashboard"
    />
    <title>Student Review - Advanced English Practice | ESL Fun Online</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --primary-color: #46bbe5;
        --primary-hover: #05425c;
        --secondary-color: #10b981;
        --accent-color: #f59e0b;
        --student-color: #3b82f6;
        --success-color: #059669;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --text-light: #9ca3af;
        --bg-primary: #ffffff;
        --bg-secondary: #f9fafb;
        --bg-tertiary: #f3f4f6;
        --border-color: #e5e7eb;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        --gradient-student: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        line-height: 1.6;
        color: var(--text-primary);
        background: var(--bg-primary);
        padding-top: 20px;
      }

      .student-container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 2rem;
      }

      .student-header {
        text-align: center;
        margin-bottom: 3rem;
        padding: 2rem;
        background: var(--gradient-student);
        color: white;
        border-radius: 16px;
        position: relative;
        overflow: hidden;
      }

      .student-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
          circle at 50% 50%,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 70%
        );
        opacity: 0.8;
        z-index: 0;
      }

      .student-header-content {
        position: relative;
        z-index: 1;
      }

      .student-title {
        font-family: "Poppins", sans-serif;
        font-size: clamp(1.8rem, 4vw, 2.5rem);
        font-weight: 700;
        margin-bottom: 1rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .student-welcome {
        font-size: 1.1rem;
        opacity: 0.95;
        margin-bottom: 1rem;
      }

      .progress-bar {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        height: 8px;
        margin-top: 1rem;
        overflow: hidden;
      }

      .progress-fill {
        background: #10b981;
        height: 100%;
        width: 75%;
        border-radius: 10px;
        transition: width 1s ease;
      }

      .review-sections {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
      }

      .review-card {
        background: var(--bg-primary);
        border: 2px solid var(--border-color);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: var(--shadow-md);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .review-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
        border-color: var(--student-color);
      }

      .card-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .card-icon {
        width: 60px;
        height: 60px;
        background: var(--gradient-student);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
      }

      .card-title {
        font-family: "Poppins", sans-serif;
        font-size: 1.4rem;
        font-weight: 600;
        color: var(--text-primary);
      }

      .card-subtitle {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-top: 0.25rem;
      }

      .practice-section {
        background: var(--bg-secondary);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1rem 0;
      }

      .practice-title {
        font-weight: 600;
        color: var(--student-color);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .vocabulary-item {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 1rem;
        margin: 0.75rem 0;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .vocabulary-item:hover {
        border-color: var(--student-color);
        box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
      }

      .vocab-word {
        font-weight: 700;
        color: var(--student-color);
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
      }

      .vocab-meaning {
        color: var(--text-secondary);
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
      }

      .vocab-example {
        font-style: italic;
        color: var(--text-light);
        font-size: 0.85rem;
        background: var(--bg-tertiary);
        padding: 0.5rem;
        border-radius: 4px;
        display: none;
      }

      .vocabulary-item.expanded .vocab-example {
        display: block;
      }

      .practice-button {
        background: var(--gradient-student);
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 0.5rem 0.5rem 0.5rem 0;
      }

      .practice-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      }

      .practice-button.secondary {
        background: var(--success-color);
      }

      .practice-button.secondary:hover {
        box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
      }

      .quiz-area {
        background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
        border: 2px solid var(--student-color);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1rem 0;
        text-align: center;
        min-height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .score-tracker {
        background: white;
        border-radius: 12px;
        padding: 1rem;
        margin: 1rem 0;
        text-align: center;
        border: 2px solid var(--border-color);
      }

      .score-number {
        font-size: 2rem;
        font-weight: 700;
        color: var(--success-color);
      }

      .score-label {
        color: var(--text-secondary);
        font-size: 0.9rem;
      }

      .conversation-starters {
        background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        border: 2px solid var(--success-color);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1rem 0;
      }

      .starter-question {
        background: white;
        padding: 1rem;
        border-radius: 8px;
        margin: 0.75rem 0;
        border-left: 4px solid var(--success-color);
        font-weight: 500;
      }

      .back-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--primary-color);
        text-decoration: none;
        margin-bottom: 2rem;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .back-link:hover {
        color: var(--primary-hover);
        transform: translateX(-4px);
      }

      .achievements {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin: 2rem 0;
        flex-wrap: wrap;
      }

      .achievement-badge {
        background: var(--accent-color);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .achievement-badge.earned {
        background: var(--success-color);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .student-container {
          padding: 1rem;
        }

        .review-sections {
          grid-template-columns: 1fr;
        }

        .card-header {
          flex-direction: column;
          text-align: center;
        }

        .achievements {
          flex-direction: column;
          align-items: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="student-container">
      <!-- Back Link -->
      <a href="../login.html" class="back-link">
        <i class="fas fa-arrow-left"></i>
        Back to Login
      </a>

      <!-- Student Header -->
      <header class="student-header">
        <div class="student-header-content">
          <h1 class="student-title">🎓 Welcome to Your Review Dashboard</h1>
          <p class="student-welcome">
            Practice and review everything from today's lesson!
          </p>
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
          <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.9">
            Lesson Progress: 75% Complete
          </p>
        </div>
      </header>

      <!-- Achievement Badges -->
      <div class="achievements">
        <div class="achievement-badge earned">
          <i class="fas fa-star"></i>
          Vocabulary Master
        </div>
        <div class="achievement-badge earned">
          <i class="fas fa-comments"></i>
          Conversation Pro
        </div>
        <div class="achievement-badge">
          <i class="fas fa-trophy"></i>
          Grammar Expert
        </div>
        <div class="achievement-badge">
          <i class="fas fa-fire"></i>
          Week Streak
        </div>
      </div>

      <!-- Review Sections -->
      <div class="review-sections">
        <!-- Vocabulary Review -->
        <div class="review-card">
          <div class="card-header">
            <div class="card-icon">
              <i class="fas fa-book"></i>
            </div>
            <div>
              <div class="card-title">Vocabulary Review</div>
              <div class="card-subtitle">
                Practice words from today's lesson
              </div>
            </div>
          </div>

          <div class="practice-section">
            <div class="practice-title">
              <i class="fas fa-lightbulb"></i>
              Click words to see examples
            </div>

            <!-- Complex Idioms -->
            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Cutting-edge</div>
              <div class="vocab-meaning">
                At the forefront of innovation or development
              </div>
              <div class="vocab-example">
                "Their cutting-edge research in quantum computing could
                revolutionize the tech industry."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Behind closed doors</div>
              <div class="vocab-meaning">
                In private, away from public scrutiny
              </div>
              <div class="vocab-example">
                "The real negotiations happen behind closed doors, away from
                media attention."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Move the needle</div>
              <div class="vocab-meaning">
                To make a significant difference or impact
              </div>
              <div class="vocab-example">
                "We need strategies that will actually move the needle on
                climate change."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Paradigm shift</div>
              <div class="vocab-meaning">
                A fundamental change in approach or underlying assumptions
              </div>
              <div class="vocab-example">
                "Remote work represents a paradigm shift in how we think about
                productivity."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Read between the lines</div>
              <div class="vocab-meaning">
                To understand hidden or implied meanings
              </div>
              <div class="vocab-example">
                "His resignation letter was diplomatic, but reading between the
                lines, he was clearly frustrated."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Touch base</div>
              <div class="vocab-meaning">
                To briefly reconnect or check in with someone
              </div>
              <div class="vocab-example">
                "Let's touch base next week to see how the project is
                progressing."
              </div>
            </div>

            <!-- Advanced Phrasal Verbs -->
            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Phase out</div>
              <div class="vocab-meaning">
                To gradually eliminate or discontinue something
              </div>
              <div class="vocab-example">
                "The company will phase out fossil fuel investments over the
                next decade."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Scale up</div>
              <div class="vocab-meaning">
                To increase in size, scope, or capacity
              </div>
              <div class="vocab-example">
                "We need to scale up production to meet the unexpected demand."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Buy into</div>
              <div class="vocab-meaning">
                To accept or believe in an idea or concept
              </div>
              <div class="vocab-example">
                "Not everyone bought into the new management philosophy
                initially."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Flesh out</div>
              <div class="vocab-meaning">
                To add more details or substance to something
              </div>
              <div class="vocab-example">
                "We need to flesh out this proposal with more concrete
                examples."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Zero in on</div>
              <div class="vocab-meaning">
                To focus precisely on something specific
              </div>
              <div class="vocab-example">
                "After hours of discussion, we finally zeroed in on the main
                issue."
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleVocab(this)">
              <div class="vocab-word">Boil down to</div>
              <div class="vocab-meaning">
                To be reduced to the essential or most important element
              </div>
              <div class="vocab-example">
                "The success of this venture boils down to effective execution."
              </div>
            </div>
          </div>

          <div class="score-tracker">
            <div class="score-number" id="vocabScore">0/12</div>
            <div class="score-label">Words Reviewed</div>
          </div>
        </div>

        <!-- Practice Activities -->
        <div class="review-card">
          <div class="card-header">
            <div class="card-icon">
              <i class="fas fa-gamepad"></i>
            </div>
            <div>
              <div class="card-title">Practice Activities</div>
              <div class="card-subtitle">Interactive learning exercises</div>
            </div>
          </div>

          <div class="practice-section">
            <div class="practice-title">
              <i class="fas fa-brain"></i>
              Quick Practice Games
            </div>

            <button class="practice-button" onclick="startVocabQuiz()">
              📚 Vocabulary Quiz
            </button>
            <button class="practice-button" onclick="startIdiomMatch()">
              🧩 Idiom Matching
            </button>
            <button
              class="practice-button secondary"
              onclick="startSentenceBuilder()"
            >
              🔧 Sentence Builder
            </button>
            <button
              class="practice-button secondary"
              onclick="startPhrasalVerbs()"
            >
              ⚡ Phrasal Verb Challenge
            </button>
            <button class="practice-button" onclick="startAdvancedQuiz()">
              🎓 Advanced Mixed Quiz
            </button>

            <div class="quiz-area" id="quizArea">
              Choose a practice activity to get started! 🚀
            </div>
          </div>
        </div>

        <!-- Advanced Grammar Review -->
        <div class="review-card">
          <div class="card-header">
            <div class="card-icon">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div>
              <div class="card-title">Grammar Mastery</div>
              <div class="card-subtitle">
                Complex conditionals, reported speech & linking devices
              </div>
            </div>
          </div>

          <div class="practice-section">
            <div class="practice-title">
              <i class="fas fa-brain"></i>
              Advanced Grammar Practice
            </div>

            <button
              class="practice-button"
              onclick="startGrammarQuiz('conditionals')"
            >
              🎯 Conditionals Quiz
            </button>
            <button
              class="practice-button"
              onclick="startGrammarQuiz('reported')"
            >
              💬 Reported Speech
            </button>
            <button
              class="practice-button secondary"
              onclick="startGrammarQuiz('linking')"
            >
              🔗 Linking Devices
            </button>
            <button
              class="practice-button secondary"
              onclick="showGrammarTips()"
            >
              💡 Grammar Tips
            </button>

            <div class="quiz-area" id="grammarArea">
              Choose a grammar topic to practice! 📚
            </div>
          </div>
        </div>

        <!-- Hyperbole & Figurative Language -->
        <div class="review-card">
          <div class="card-header">
            <div class="card-icon">
              <i class="fas fa-fire"></i>
            </div>
            <div>
              <div class="card-title">Hyperbole & Figurative Language</div>
              <div class="card-subtitle">
                Master dramatic expression techniques
              </div>
            </div>
          </div>

          <div class="practice-section">
            <div class="practice-title">
              <i class="fas fa-theater-masks"></i>
              Dramatic Expression Practice
            </div>

            <div class="vocabulary-item" onclick="toggleHyperbole(this)">
              <div class="vocab-word">"I'm drowning in paperwork"</div>
              <div class="vocab-meaning">
                Exaggerating workload for dramatic effect - very overwhelmed
                with administrative tasks
              </div>
              <div class="vocab-example">
                Used when you want to emphasize how much work you have to do.
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleHyperbole(this)">
              <div class="vocab-word">"This meeting is killing me"</div>
              <div class="vocab-meaning">
                Expressing extreme boredom or frustration with a prolonged,
                unproductive meeting
              </div>
              <div class="vocab-example">
                Perfect for describing tedious or overly long meetings.
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleHyperbole(this)">
              <div class="vocab-word">"I've told you a million times"</div>
              <div class="vocab-meaning">
                Emphasizing repetition and potential frustration with having to
                repeat instructions
              </div>
              <div class="vocab-example">
                Shows mild irritation when someone hasn't listened to repeated
                advice.
              </div>
            </div>

            <div class="vocabulary-item" onclick="toggleHyperbole(this)">
              <div class="vocab-word">
                "This opportunity is once in a lifetime"
              </div>
              <div class="vocab-meaning">
                Stressing the exceptional rarity and importance of a particular
                opportunity
              </div>
              <div class="vocab-example">
                Used to motivate someone to take action on a special
                opportunity.
              </div>
            </div>

            <button class="practice-button" onclick="startHyperboleChallenge()">
              🎭 Hyperbole Challenge
            </button>
          </div>
        </div>

        <!-- Conversation Practice -->
        <div class="review-card">
          <div class="card-header">
            <div class="card-icon">
              <i class="fas fa-comments"></i>
            </div>
            <div>
              <div class="card-title">Conversation Practice</div>
              <div class="card-subtitle">
                Practice speaking with these prompts
              </div>
            </div>
          </div>

          <div class="conversation-starters">
            <div class="practice-title">
              <i class="fas fa-microphone"></i>
              Practice Speaking
            </div>

            <div class="starter-question">
              💼 "How do you think artificial intelligence will create a
              'paradigm shift' in your industry?"
            </div>

            <div class="starter-question">
              🌱 "What's one 'cutting-edge' technology you're excited about and
              why?"
            </div>

            <div class="starter-question">
              🎯 "Can you describe a time when you had to 'phase out' an old
              habit to make room for something better?"
            </div>

            <div class="starter-question">
              📈 "What area of your life would you like to 'scale up' this
              year?"
            </div>

            <div class="starter-question">
              🔍 "When do you need to 'read between the lines' in professional
              conversations?"
            </div>

            <div class="starter-question">
              💡 "What decisions in your workplace happen 'behind closed
              doors'?"
            </div>

            <div class="starter-question">
              🎯 "How do you 'zero in on' the most important priorities in your
              work?"
            </div>

            <div class="starter-question">
              📞 "How often do you 'touch base' with your colleagues or friends,
              and why is it important?"
            </div>

            <button class="practice-button" onclick="generateNewQuestion()">
              🎲 Generate New Question
            </button>
          </div>
        </div>

        <!-- Progress Tracking -->
        <div class="review-card">
          <div class="card-header">
            <div class="card-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <div>
              <div class="card-title">Your Progress</div>
              <div class="card-subtitle">Track your learning journey</div>
            </div>
          </div>

          <div class="practice-section">
            <div class="practice-title">
              <i class="fas fa-target"></i>
              Learning Stats
            </div>

            <div
              style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 1rem;
                margin: 1rem 0;
              "
            >
              <div class="score-tracker">
                <div class="score-number">16</div>
                <div class="score-label">Lessons Completed</div>
              </div>

              <div class="score-tracker">
                <div class="score-number">92%</div>
                <div class="score-label">Average Score</div>
              </div>

              <div class="score-tracker">
                <div class="score-number">139</div>
                <div class="score-label">Words Learned</div>
              </div>

              <div class="score-tracker">
                <div class="score-number">8</div>
                <div class="score-label">Day Streak</div>
              </div>
            </div>

            <button class="practice-button" onclick="viewDetailedProgress()">
              📊 View Detailed Progress
            </button>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div style="text-align: center; margin: 3rem 0">
        <h3 style="margin-bottom: 1.5rem; color: var(--text-primary)">
          Ready for More?
        </h3>
        <button
          class="practice-button"
          onclick="reviewCompleteLesson()"
          style="font-size: 1.1rem; padding: 1rem 2rem"
        >
          📖 Review Complete Lesson
        </button>
        <button
          class="practice-button secondary"
          onclick="takeFullQuiz()"
          style="font-size: 1.1rem; padding: 1rem 2rem"
        >
          🎯 Take Full Assessment
        </button>
      </div>
    </div>

    <script>
      // Vocabulary interaction
      function toggleVocab(element) {
        element.classList.toggle("expanded");

        // Update score
        const expandedItems = document.querySelectorAll(
          ".vocabulary-item.expanded"
        ).length;
        document.getElementById(
          "vocabScore"
        ).textContent = `${expandedItems}/12`;
      }

      // Hyperbole interaction
      function toggleHyperbole(element) {
        element.classList.toggle("expanded");
      }

      // Practice activities
      const quizQuestions = [
        {
          question: "What does 'cutting-edge' mean?",
          options: [
            "Old-fashioned",
            "At the forefront of innovation",
            "Sharp object",
            "Dangerous",
          ],
          correct: 1,
        },
        {
          question: "Choose the correct usage of 'phase out':",
          options: [
            "We will phase out the old system gradually",
            "The meeting will phase out at 3 PM",
            "Please phase out your homework",
            "The sun will phase out tomorrow",
          ],
          correct: 0,
        },
        {
          question: "'Behind closed doors' means:",
          options: ["In a room", "Secretly/privately", "Outside", "Loudly"],
          correct: 1,
        },
        {
          question: "What does 'move the needle' mean?",
          options: [
            "Sewing technique",
            "Make a significant impact",
            "Medical procedure",
            "Clock repair",
          ],
          correct: 1,
        },
        {
          question:
            "Complete: 'We need to _____ the proposal with more details.'",
          options: ["flesh out", "phase out", "scale up", "buy into"],
          correct: 0,
        },
        {
          question: "'Zero in on' means:",
          options: [
            "Count to zero",
            "Focus precisely on something",
            "Remove everything",
            "Start from nothing",
          ],
          correct: 1,
        },
      ];

      const grammarQuestions = {
        conditionals: [
          {
            question:
              "Complete the third conditional: 'If she ___ harder, she ___ the exam.'",
            options: [
              "studied, would pass",
              "had studied, would have passed",
              "studies, will pass",
              "would study, passed",
            ],
            correct: 1,
            explanation:
              "Third conditional uses 'if + past perfect' and 'would have + past participle' for unreal past situations.",
          },
          {
            question: "Which is a mixed conditional?",
            options: [
              "If I were rich, I would travel more",
              "If I were more organized, I wouldn't have lost my keys yesterday",
              "If it rains, I will stay home",
              "If I had money, I would have bought it",
            ],
            correct: 1,
            explanation:
              "Mixed conditionals combine different time periods: present condition + past result.",
          },
        ],
        reported: [
          {
            question: "Report: 'I have finished the project.' He said...",
            options: [
              "he has finished the project",
              "he had finished the project",
              "he finished the project",
              "he will finish the project",
            ],
            correct: 1,
            explanation:
              "Present perfect in direct speech becomes past perfect in reported speech.",
          },
          {
            question:
              "Choose the best reporting verb: 'You should be more careful!' she ___.",
            options: ["said", "warned", "asked", "wondered"],
            correct: 1,
            explanation:
              "'Warned' is more precise than 'said' when giving advice about danger or problems.",
          },
        ],
        linking: [
          {
            question:
              "Choose the best linking device: 'The project was successful. ___, it was over budget.'",
            options: ["Furthermore", "Nevertheless", "Therefore", "Moreover"],
            correct: 1,
            explanation:
              "'Nevertheless' shows contrast despite the positive outcome.",
          },
          {
            question:
              "'___ the new regulations, companies must adapt their policies.'",
            options: ["In spite of", "In light of", "Instead of", "In case of"],
            correct: 1,
            explanation:
              "'In light of' means 'considering' or 'because of' in formal contexts.",
          },
        ],
      };

      const idiomPairs = [
        { idiom: "Move the needle", meaning: "Make a significant impact" },
        {
          idiom: "Read between the lines",
          meaning: "Understand hidden meanings",
        },
        { idiom: "Touch base", meaning: "Briefly reconnect with someone" },
        {
          idiom: "Behind closed doors",
          meaning: "In private, away from public scrutiny",
        },
        { idiom: "Cutting-edge", meaning: "At the forefront of innovation" },
        { idiom: "Paradigm shift", meaning: "Fundamental change in approach" },
      ];

      const hyperboleExamples = [
        {
          phrase: "I'm drowning in paperwork",
          situation: "When you have too much administrative work",
          meaning: "Overwhelmed with tasks",
        },
        {
          phrase: "This meeting is killing me",
          situation: "During a boring or long meeting",
          meaning: "Extremely bored or frustrated",
        },
        {
          phrase: "I've told you a million times",
          situation: "When repeating instructions",
          meaning: "Emphasizing frequent repetition",
        },
        {
          phrase: "Once in a lifetime opportunity",
          situation: "Describing a rare chance",
          meaning: "Extremely rare and special",
        },
      ];

      let currentQuiz = [];
      let currentQuestion = 0;
      let score = 0;

      function startVocabQuiz() {
        currentQuiz = [...quizQuestions];
        currentQuestion = 0;
        score = 0;
        showQuestion();
      }

      function showQuestion() {
        const quizArea = document.getElementById("quizArea");
        if (currentQuestion < currentQuiz.length) {
          const q = currentQuiz[currentQuestion];
          quizArea.innerHTML = `
            <div style="text-align: left; width: 100%;">
              <h4 style="margin-bottom: 1rem; color: var(--student-color);">Question ${
                currentQuestion + 1
              }/${currentQuiz.length}</h4>
              <p style="margin-bottom: 1rem; font-weight: 600;">${
                q.question
              }</p>
              <div style="display: grid; gap: 0.5rem;">
                ${q.options
                  .map(
                    (option, index) =>
                      `<button class="practice-button" onclick="selectAnswer(${index})" style="text-align: left; padding: 0.75rem 1rem;">
                    ${String.fromCharCode(65 + index)}. ${option}
                  </button>`
                  )
                  .join("")}
              </div>
            </div>
          `;
        } else {
          showQuizResults();
        }
      }

      function selectAnswer(selectedIndex) {
        const q = currentQuiz[currentQuestion];
        if (selectedIndex === q.correct) {
          score++;
        }
        currentQuestion++;
        setTimeout(showQuestion, 500);
      }

      function showQuizResults() {
        const quizArea = document.getElementById("quizArea");
        const percentage = Math.round((score / currentQuiz.length) * 100);
        quizArea.innerHTML = `
          <div style="text-align: center;">
            <h3 style="color: var(--success-color); margin-bottom: 1rem;">Quiz Complete! 🎉</h3>
            <div style="font-size: 2rem; font-weight: bold; color: var(--student-color); margin-bottom: 1rem;">
              ${score}/${currentQuiz.length} (${percentage}%)
            </div>
            <p style="margin-bottom: 1rem;">
              ${
                percentage >= 80
                  ? "Excellent work! 🌟"
                  : percentage >= 60
                  ? "Good job! Keep practicing! 👍"
                  : "Keep studying and try again! 💪"
              }
            </p>
            <button class="practice-button" onclick="startVocabQuiz()">Try Again</button>
          </div>
        `;
      }

      function startIdiomMatch() {
        const quizArea = document.getElementById("quizArea");
        const shuffledMeanings = [...idiomPairs].sort(
          () => Math.random() - 0.5
        );

        quizArea.innerHTML = `
          <div style="text-align: left; width: 100%;">
            <h4 style="margin-bottom: 1rem; color: var(--student-color);">Match the Idioms</h4>
            <p style="margin-bottom: 1rem;">Click on an idiom, then click on its meaning:</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div>
                <h5 style="margin-bottom: 0.5rem;">Idioms:</h5>
                ${idiomPairs
                  .map(
                    (pair, index) =>
                      `<button class="practice-button" onclick="selectIdiom(${index})" id="idiom-${index}" style="display: block; margin: 0.25rem 0; width: 100%; text-align: left; padding: 0.5rem;">
                    ${pair.idiom}
                  </button>`
                  )
                  .join("")}
              </div>
              <div>
                <h5 style="margin-bottom: 0.5rem;">Meanings:</h5>
                ${shuffledMeanings
                  .map(
                    (pair, index) =>
                      `<button class="practice-button secondary" onclick="selectMeaning('${pair.meaning}')" id="meaning-${index}" style="display: block; margin: 0.25rem 0; width: 100%; text-align: left; padding: 0.5rem;">
                    ${pair.meaning}
                  </button>`
                  )
                  .join("")}
              </div>
            </div>
            <div id="matchResult" style="margin-top: 1rem; text-align: center;"></div>
          </div>
        `;
      }

      let selectedIdiomIndex = null;

      function selectIdiom(index) {
        // Reset previous selection
        document.querySelectorAll('[id^="idiom-"]').forEach((btn) => {
          btn.style.backgroundColor = "";
          btn.style.color = "";
        });

        // Highlight selected
        document.getElementById(`idiom-${index}`).style.backgroundColor =
          "var(--student-color)";
        selectedIdiomIndex = index;
      }

      function selectMeaning(meaning) {
        if (selectedIdiomIndex !== null) {
          const correct = idiomPairs[selectedIdiomIndex].meaning === meaning;
          const resultDiv = document.getElementById("matchResult");

          if (correct) {
            resultDiv.innerHTML = `<p style="color: var(--success-color); font-weight: bold;">✅ Correct! Great job!</p>`;
          } else {
            resultDiv.innerHTML = `<p style="color: #dc2626; font-weight: bold;">❌ Not quite. Try again!</p>`;
          }

          selectedIdiomIndex = null;
          // Reset idiom selection
          document.querySelectorAll('[id^="idiom-"]').forEach((btn) => {
            btn.style.backgroundColor = "";
            btn.style.color = "";
          });
        }
      }

      function startSentenceBuilder() {
        const quizArea = document.getElementById("quizArea");
        quizArea.innerHTML = `
          <div style="text-align: center;">
            <h4 style="margin-bottom: 1rem; color: var(--student-color);">Sentence Builder</h4>
            <p style="margin-bottom: 1rem;">Build a sentence using "cutting-edge":</p>
            <textarea 
              id="sentenceInput" 
              placeholder="Write your sentence here..." 
              style="width: 100%; padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px; font-family: inherit; resize: vertical; min-height: 80px;"
            ></textarea>
            <br><br>
            <button class="practice-button" onclick="checkSentence()">Check My Sentence</button>
            <div id="sentenceResult" style="margin-top: 1rem;"></div>
          </div>
        `;
      }

      function checkSentence() {
        const sentence = document.getElementById("sentenceInput").value.trim();
        const resultDiv = document.getElementById("sentenceResult");

        if (sentence.length < 10) {
          resultDiv.innerHTML = `<p style="color: #dc2626;">Please write a longer sentence!</p>`;
          return;
        }

        if (sentence.toLowerCase().includes("cutting-edge")) {
          resultDiv.innerHTML = `
            <div style="color: var(--success-color); font-weight: bold;">
              ✅ Great sentence! You used "cutting-edge" correctly!
              <br><br>
              <em style="color: var(--text-secondary);">Your sentence: "${sentence}"</em>
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<p style="color: #dc2626;">Don't forget to include "cutting-edge" in your sentence!</p>`;
        }
      }

      function startPhrasalVerbs() {
        const quizArea = document.getElementById("quizArea");
        quizArea.innerHTML = `
          <div style="text-align: center;">
            <h4 style="margin-bottom: 1rem; color: var(--student-color);">Phrasal Verb Challenge</h4>
            <p style="margin-bottom: 1rem;">Complete the sentence:</p>
            <p style="font-weight: bold; margin-bottom: 1rem;">
              "The company will _______ _______ production to meet demand."
            </p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
              <button class="practice-button" onclick="checkPhrasal('scale up')">scale up</button>
              <button class="practice-button" onclick="checkPhrasal('phase out')">phase out</button>
              <button class="practice-button" onclick="checkPhrasal('buy into')">buy into</button>
              <button class="practice-button" onclick="checkPhrasal('flesh out')">flesh out</button>
            </div>
            <div id="phrasalResult" style="margin-top: 1rem;"></div>
          </div>
        `;
      }

      function checkPhrasal(answer) {
        const resultDiv = document.getElementById("phrasalResult");

        if (answer === "scale up") {
          resultDiv.innerHTML = `
            <div style="color: var(--success-color); font-weight: bold;">
              ✅ Perfect! "Scale up" means to increase in size or capacity!
            </div>
          `;
        } else {
          resultDiv.innerHTML = `
            <div style="color: #dc2626; font-weight: bold;">
              ❌ Not quite. Think about increasing production...
            </div>
          `;
        }
      }

      // Grammar practice functions
      function startGrammarQuiz(type) {
        const questions = grammarQuestions[type];
        if (!questions) return;

        currentQuiz = [...questions];
        currentQuestion = 0;
        score = 0;
        showGrammarQuestion(type);
      }

      function showGrammarQuestion(type) {
        const grammarArea = document.getElementById("grammarArea");
        if (currentQuestion < currentQuiz.length) {
          const q = currentQuiz[currentQuestion];
          grammarArea.innerHTML = `
            <div style="text-align: left; width: 100%;">
              <h4 style="margin-bottom: 1rem; color: var(--student-color);">
                ${type.charAt(0).toUpperCase() + type.slice(1)} - Question ${
            currentQuestion + 1
          }/${currentQuiz.length}
              </h4>
              <p style="margin-bottom: 1rem; font-weight: 600;">${
                q.question
              }</p>
              <div style="display: grid; gap: 0.5rem;">
                ${q.options
                  .map(
                    (option, index) =>
                      `<button class="practice-button" onclick="selectGrammarAnswer(${index}, '${type}')" 
                           style="text-align: left; padding: 0.75rem 1rem;">
                    ${String.fromCharCode(65 + index)}. ${option}
                  </button>`
                  )
                  .join("")}
              </div>
            </div>
          `;
        } else {
          showGrammarResults(type);
        }
      }

      function selectGrammarAnswer(selectedIndex, type) {
        const q = currentQuiz[currentQuestion];
        const grammarArea = document.getElementById("grammarArea");

        if (selectedIndex === q.correct) {
          score++;
          grammarArea.innerHTML = `
            <div style="text-align: center; color: var(--success-color);">
              <h3>✅ Correct!</h3>
              <p style="margin: 1rem 0; background: #f0fdf4; padding: 1rem; border-radius: 8px; text-align: left;">
                <strong>Explanation:</strong> ${q.explanation}
              </p>
              <button class="practice-button" onclick="nextGrammarQuestion('${type}')">Next Question</button>
            </div>
          `;
        } else {
          grammarArea.innerHTML = `
            <div style="text-align: center; color: #dc2626;">
              <h3>❌ Not quite right</h3>
              <p style="margin: 1rem 0; background: #fef2f2; padding: 1rem; border-radius: 8px; text-align: left;">
                <strong>Correct answer:</strong> ${q.options[q.correct]}<br><br>
                <strong>Explanation:</strong> ${q.explanation}
              </p>
              <button class="practice-button" onclick="nextGrammarQuestion('${type}')">Next Question</button>
            </div>
          `;
        }
      }

      function nextGrammarQuestion(type) {
        currentQuestion++;
        setTimeout(() => showGrammarQuestion(type), 500);
      }

      function showGrammarResults(type) {
        const grammarArea = document.getElementById("grammarArea");
        const percentage = Math.round((score / currentQuiz.length) * 100);
        grammarArea.innerHTML = `
          <div style="text-align: center;">
            <h3 style="color: var(--success-color); margin-bottom: 1rem;">
              ${type.charAt(0).toUpperCase() + type.slice(1)} Quiz Complete! 🎉
            </h3>
            <div style="font-size: 2rem; font-weight: bold; color: var(--student-color); margin-bottom: 1rem;">
              ${score}/${currentQuiz.length} (${percentage}%)
            </div>
            <p style="margin-bottom: 1rem;">
              ${
                percentage >= 80
                  ? "Excellent grammar mastery! 🌟"
                  : percentage >= 60
                  ? "Good progress! Keep practicing! 👍"
                  : "Review the grammar points and try again! 💪"
              }
            </p>
            <button class="practice-button" onclick="startGrammarQuiz('${type}')">Try Again</button>
            <button class="practice-button secondary" onclick="showGrammarTips()">Grammar Tips</button>
          </div>
        `;
      }

      function showGrammarTips() {
        const grammarArea = document.getElementById("grammarArea");
        grammarArea.innerHTML = `
          <div style="text-align: left; width: 100%;">
            <h4 style="margin-bottom: 1rem; color: var(--student-color);">� Grammar Quick Tips</h4>
            
            <div style="background: #f0f9ff; padding: 1rem; border-radius: 8px; margin: 0.5rem 0;">
              <strong>Third Conditionals:</strong> If + past perfect, would have + past participle<br>
              <em>Example: If I had studied more, I would have passed.</em>
            </div>
            
            <div style="background: #f0fdf4; padding: 1rem; border-radius: 8px; margin: 0.5rem 0;">
              <strong>Reported Speech:</strong> Change tenses: present → past, present perfect → past perfect<br>
              <em>Direct: "I am tired" → Reported: He said he was tired.</em>
            </div>
            
            <div style="background: #fef2f2; padding: 1rem; border-radius: 8px; margin: 0.5rem 0;">
              <strong>Linking Devices:</strong> Nevertheless (contrast), Furthermore (addition), In light of (cause)<br>
              <em>The plan failed; nevertheless, we learned valuable lessons.</em>
            </div>
            
            <div style="text-align: center; margin-top: 1rem;">
              <button class="practice-button" onclick="startGrammarQuiz('conditionals')">Practice Conditionals</button>
              <button class="practice-button" onclick="startGrammarQuiz('reported')">Practice Reported Speech</button>
              <button class="practice-button" onclick="startGrammarQuiz('linking')">Practice Linking</button>
            </div>
          </div>
        `;
      }

      // Hyperbole challenge
      function startHyperboleChallenge() {
        const randomExample =
          hyperboleExamples[
            Math.floor(Math.random() * hyperboleExamples.length)
          ];
        const grammarArea =
          document.getElementById("grammarArea") ||
          document.getElementById("quizArea");

        grammarArea.innerHTML = `
          <div style="text-align: center;">
            <h4 style="margin-bottom: 1rem; color: var(--student-color);">🎭 Hyperbole Challenge</h4>
            <div style="background: #fef2f2; padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
              <div style="font-size: 1.2rem; font-weight: bold; color: #dc2626; margin-bottom: 1rem;">
                "${randomExample.phrase}"
              </div>
              <p style="margin-bottom: 1rem;">
                <strong>When to use:</strong> ${randomExample.situation}
              </p>
              <p style="color: #7c2d92;">
                <strong>It means:</strong> ${randomExample.meaning}
              </p>
            </div>
            <p style="margin: 1rem 0; font-weight: 600;">
              Now create your own sentence using this hyperbole!
            </p>
            <textarea 
              id="hyperboleInput" 
              placeholder="Write your own example sentence here..."
              style="width: 100%; padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px; font-family: inherit; resize: vertical; min-height: 80px;"
            ></textarea>
            <br><br>
            <button class="practice-button" onclick="checkHyperbole('${randomExample.phrase}')">Check My Sentence</button>
            <button class="practice-button secondary" onclick="startHyperboleChallenge()">New Challenge</button>
            <div id="hyperboleResult" style="margin-top: 1rem;"></div>
          </div>
        `;
      }

      function checkHyperbole(originalPhrase) {
        const sentence = document.getElementById("hyperboleInput").value.trim();
        const resultDiv = document.getElementById("hyperboleResult");

        if (sentence.length < 10) {
          resultDiv.innerHTML = `<p style="color: #dc2626;">Please write a longer sentence!</p>`;
          return;
        }

        resultDiv.innerHTML = `
          <div style="color: var(--success-color); font-weight: bold; background: #f0fdf4; padding: 1rem; border-radius: 8px;">
            ✅ Great creativity! You wrote: "${sentence}"
            <br><br>
            <em style="color: var(--text-secondary);">
              Remember: Hyperbole uses exaggeration to make a point more dramatic and memorable!
            </em>
          </div>
        `;
      }

      // Conversation practice
      const conversationQuestions = [
        "�🚀 What's the most 'cutting-edge' piece of technology you use daily?",
        "🔄 Describe a time when your company had to 'phase out' an old process.",
        "📈 What skill would you like to 'scale up' in your career?",
        "🎯 How do you 'zero in on' solutions when facing complex problems?",
        "💡 Can you think of a recent 'paradigm shift' in your industry?",
        "🔍 When do you find yourself 'reading between the lines' in conversations?",
        "📞 How often do you 'touch base' with your colleagues or friends?",
        "💼 What does 'behind closed doors' decision-making look like in your experience?",
        "🎭 When might you say 'I'm drowning in paperwork' in your job?",
        "⚡ Describe something that 'boils down to' effective communication.",
      ];

      function generateNewQuestion() {
        const randomQuestion =
          conversationQuestions[
            Math.floor(Math.random() * conversationQuestions.length)
          ];
        const starterElements = document.querySelectorAll(".starter-question");
        starterElements[
          Math.floor(Math.random() * starterElements.length)
        ].textContent = randomQuestion;
      }

      // Advanced mixed quiz combining all elements
      function startAdvancedQuiz() {
        const allQuestions = [
          ...quizQuestions,
          ...grammarQuestions.conditionals,
          ...grammarQuestions.reported,
          ...grammarQuestions.linking,
        ];

        // Select 5 random questions from all categories
        currentQuiz = allQuestions.sort(() => Math.random() - 0.5).slice(0, 5);
        currentQuestion = 0;
        score = 0;
        showAdvancedQuestion();
      }

      function showAdvancedQuestion() {
        const quizArea = document.getElementById("quizArea");
        if (currentQuestion < currentQuiz.length) {
          const q = currentQuiz[currentQuestion];
          quizArea.innerHTML = `
            <div style="text-align: left; width: 100%;">
              <h4 style="margin-bottom: 1rem; color: var(--student-color);">
                Advanced Mixed Quiz - Question ${currentQuestion + 1}/${
            currentQuiz.length
          }
              </h4>
              <p style="margin-bottom: 1rem; font-weight: 600;">${
                q.question
              }</p>
              <div style="display: grid; gap: 0.5rem;">
                ${q.options
                  .map(
                    (option, index) =>
                      `<button class="practice-button" onclick="selectAdvancedAnswer(${index})" 
                           style="text-align: left; padding: 0.75rem 1rem;">
                    ${String.fromCharCode(65 + index)}. ${option}
                  </button>`
                  )
                  .join("")}
              </div>
            </div>
          `;
        } else {
          showAdvancedResults();
        }
      }

      function selectAdvancedAnswer(selectedIndex) {
        const q = currentQuiz[currentQuestion];
        if (selectedIndex === q.correct) {
          score++;
        }
        currentQuestion++;
        setTimeout(showAdvancedQuestion, 500);
      }

      function showAdvancedResults() {
        const quizArea = document.getElementById("quizArea");
        const percentage = Math.round((score / currentQuiz.length) * 100);
        quizArea.innerHTML = `
          <div style="text-align: center;">
            <h3 style="color: var(--success-color); margin-bottom: 1rem;">Advanced Quiz Complete! 🎉</h3>
            <div style="font-size: 2rem; font-weight: bold; color: var(--student-color); margin-bottom: 1rem;">
              ${score}/${currentQuiz.length} (${percentage}%)
            </div>
            <p style="margin-bottom: 1rem;">
              ${
                percentage >= 80
                  ? "Outstanding mastery of advanced English! 🌟"
                  : percentage >= 60
                  ? "Solid understanding! Keep practicing! 👍"
                  : "Review the lesson content and try again! 💪"
              }
            </p>
            <button class="practice-button" onclick="startAdvancedQuiz()">Try Again</button>
            <button class="practice-button secondary" onclick="reviewCompleteLesson()">Review Full Lesson</button>
          </div>
        `;
      }

      // Other functions
      function takeFullQuiz() {
        // Combine all question types for comprehensive assessment
        const allQuestions = [
          ...quizQuestions,
          ...grammarQuestions.conditionals,
          ...grammarQuestions.reported,
          ...grammarQuestions.linking,
        ];

        // Select 10 questions for full assessment
        currentQuiz = allQuestions.sort(() => Math.random() - 0.5).slice(0, 10);
        currentQuestion = 0;
        score = 0;
        showFullAssessment();
      }

      function showFullAssessment() {
        const quizArea = document.getElementById("quizArea");
        if (currentQuestion < currentQuiz.length) {
          const q = currentQuiz[currentQuestion];
          quizArea.innerHTML = `
            <div style="text-align: left; width: 100%;">
              <h4 style="margin-bottom: 1rem; color: var(--student-color);">
                Full Assessment - Question ${currentQuestion + 1}/${
            currentQuiz.length
          }
              </h4>
              <p style="margin-bottom: 1rem; font-weight: 600;">${
                q.question
              }</p>
              <div style="display: grid; gap: 0.5rem;">
                ${q.options
                  .map(
                    (option, index) =>
                      `<button class="practice-button" onclick="selectFullAnswer(${index})" 
                           style="text-align: left; padding: 0.75rem 1rem;">
                    ${String.fromCharCode(65 + index)}. ${option}
                  </button>`
                  )
                  .join("")}
              </div>
            </div>
          `;
        } else {
          showFullResults();
        }
      }

      function selectFullAnswer(selectedIndex) {
        const q = currentQuiz[currentQuestion];
        if (selectedIndex === q.correct) {
          score++;
        }
        currentQuestion++;
        setTimeout(showFullAssessment, 500);
      }

      function showFullResults() {
        const quizArea = document.getElementById("quizArea");
        const percentage = Math.round((score / currentQuiz.length) * 100);

        let grade, message;
        if (percentage >= 90) {
          grade = "A+";
          message =
            "Exceptional mastery! You've truly mastered this advanced content! 🌟";
        } else if (percentage >= 80) {
          grade = "A";
          message =
            "Excellent work! You have a strong grasp of advanced English! 🎉";
        } else if (percentage >= 70) {
          grade = "B";
          message =
            "Good job! You're making solid progress with challenging material! 👍";
        } else if (percentage >= 60) {
          grade = "C";
          message =
            "You're on the right track! Review the lesson and try again! 💪";
        } else {
          grade = "D";
          message = "Keep studying! These concepts need more practice! 📚";
        }

        quizArea.innerHTML = `
          <div style="text-align: center;">
            <h3 style="color: var(--success-color); margin-bottom: 1rem;">Full Assessment Complete! 📊</h3>
            <div style="font-size: 3rem; font-weight: bold; color: var(--student-color); margin-bottom: 0.5rem;">
              ${grade}
            </div>
            <div style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">
              ${score}/${currentQuiz.length} (${percentage}%)
            </div>
            <p style="margin-bottom: 1.5rem; font-size: 1.1rem;">
              ${message}
            </p>
            <div style="display: flex; gap: 0.5rem; justify-content: center; flex-wrap: wrap;">
              <button class="practice-button" onclick="takeFullQuiz()">Retake Assessment</button>
              <button class="practice-button secondary" onclick="reviewCompleteLesson()">Review Lesson</button>
              <button class="practice-button secondary" onclick="viewDetailedProgress()">View Progress</button>
            </div>
          </div>
        `;
      }

      function generateNewQuestion() {
        const questions = [
          "💎 'What's a 'paradigm shift' you've experienced in your thinking recently?'",
          "🚀 'How do you 'scale up' personal projects in your free time?'",
          "🔍 'When do you need to 'read between the lines' in daily conversations?'",
          "📈 'What area of your life needs to be 'streamlined' for better efficiency?'",
          "⚡ 'How do you 'phase out' negative habits from your routine?'",
          "🎯 'What opportunities do you think are truly 'cutting-edge' right now?'",
          "💼 'How often do you 'touch base' with mentors or advisors?'",
          "🔒 'What decisions in your life happen 'behind closed doors'?'",
        ];

        const randomQuestion =
          questions[Math.floor(Math.random() * questions.length)];
        const questionElements = document.querySelectorAll(".starter-question");
        if (questionElements.length > 0) {
          questionElements[0].innerHTML = randomQuestion;
        }
      }

      function viewDetailedProgress() {
        alert(
          "🎯 Detailed Progress Report\n\n📈 Advanced Vocabulary: 85% mastery\n📚 Grammar Concepts: 92% completion\n🎭 Hyperbole Usage: 78% understanding\n💬 Conversation Skills: 88% confidence\n\n🌟 Overall Progress: Excellent!\nYou're ready for advanced business English!"
        );
      }

      function reviewCompleteLesson() {
        window.location.href = "tembam.html";
      }

      function takeFullQuiz() {
        alert("Full assessment feature coming soon! 🎯");
      }

      function viewDetailedProgress() {
        alert("Detailed progress tracking coming soon! 📊");
      }

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        // Animate progress bar on load
        setTimeout(() => {
          const progressBar = document.querySelector(".progress-fill");
          progressBar.style.width = "75%";
        }, 1000);
      });
    </script>
  </body>
</html>
