<!doctype html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta name="google-adsense-account" content="ca-pub-2456627863532019" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Free English grammar lessons with 21 essential topics: verb tenses, articles, conditionals, passive voice, modals & more. Interactive exercises, clear explanations, and practice tests for beginners to advanced learners. Start mastering grammar today!"
    />
    <meta
      name="keywords"
      content="English grammar, grammar guides, verb tenses, articles, prepositions, modal verbs, conditionals, passive voice, relative clauses, phrasal verbs, gerunds infinitives, collocations, discourse markers, punctuation, ESL grammar, English learning, grammar exercises"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta
      property="og:title"
      content="Grammar Guides | ESL Fun Online - Master English Grammar"
    />
    <meta
      property="og:description"
      content="Complete English grammar guide covering 20+ essential topics with interactive exercises and clear explanations for all levels."
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/11.png"
    />
    <meta
      property="og:url"
      content="https://eslfunonline.com/english/grammar.html"
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Grammar Guides | ESL Fun Online - Master English Grammar"
    />
    <meta
      name="twitter:description"
      content="Comprehensive English grammar guides and exercises with interactive practice"
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/11.png"
    />
    <link
      rel="canonical"
      href="https://eslfunonline.com/english/grammar.html"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <title>
      Grammar Guides | ESL Fun Online - Master English Grammar Rules & Exercises
    </title>
    <!-- Favicon and Icons - Optimized for Google Search -->
    <link rel="icon" href="../favicon.ico" sizes="any" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../images/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="48x48"
      href="../images/favicon-48x48.png"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/1.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="../images/favicon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="../images/favicon-512x512.png"
    />

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "EducationalOrganization",
        "name": "ESL Fun Online - Grammar Guides",
        "description": "Comprehensive English grammar guides and exercises - Master essential grammar rules with clear explanations and interactive practice",
        "url": "https://eslfunonline.com/english/grammar.html",
        "logo": "https://eslfunonline.com/images/1.png",
        "sameAs": [
          "https://www.facebook.com/eslfunonline",
          "https://twitter.com/eslfunonline"
        ],
        "offers": {
          "@type": "Offer",
          "category": "English Grammar Education",
          "description": "English grammar courses and interactive exercises"
        },
        "educationalCredentialAwarded": "Grammar Proficiency Certificate",
        "hasCredential": {
          "@type": "EducationalOccupationalCredential",
          "name": "English Grammar Proficiency Certificate"
        }
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-9G9RD6BHLN");
    </script>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/main.css?v=1763019900" />
    <link rel="stylesheet" href="../css/header.css?v=1763019900" />
    <link rel="stylesheet" href="../css/hero-unified.css?v=1763019900" />
    <link rel="stylesheet" href="../css/index-page.css?v=1763019900" />
    <link rel="stylesheet" href="../css/grammar-page.css?v=1763019900" />
    <link rel="stylesheet" href="../css/mobile-optimized.css?v=1763019900" />
    <link rel="stylesheet" href="../css/layout-fixes.css?v=1763019900" />

    <!-- Breadcrumb Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://eslfunonline.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "English",
            "item": "https://eslfunonline.com/english/"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Grammar",
            "item": "https://eslfunonline.com/english/grammar.html"
          }
        ]
      }
    </script>

    <!-- Course Schema for Educational Content -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Course",
        "name": "Complete English Grammar Course",
        "description": "Master English grammar with 21 comprehensive lessons covering parts of speech, verb tenses, conditionals, passive voice, and more. Free interactive exercises for all skill levels.",
        "provider": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "url": "https://eslfunonline.com"
        },
        "educationalLevel": ["Beginner", "Intermediate", "Advanced"],
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "hasCourseInstance": {
          "@type": "CourseInstance",
          "courseMode": "online",
          "courseWorkload": "PT20H"
        }
      }
    </script>

    <!-- FAQ Schema for "What is Grammar" Featured Snippets -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What is Grammar?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Grammar is the system and structure of a language. It consists of rules that govern how words are combined to form meaningful expressions. Grammar includes syntax (sentence structure), morphology (word forms), phonology (sounds), and semantics (meaning). Understanding grammar helps you communicate clearly, write correctly, and understand others more effectively."
            }
          },
          {
            "@type": "Question",
            "name": "Why is Grammar Important?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Good grammar is essential for effective communication. It helps you express your ideas clearly, makes your writing more professional, improves comprehension for your readers or listeners, and increases your credibility. In professional and academic settings, proper grammar is often expected and evaluated."
            }
          },
          {
            "@type": "Question",
            "name": "What are the Main Parts of Grammar?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The main parts of grammar include: Syntax (rules for combining words into sentences), Morphology (rules for word formation), Parts of Speech (categories of words), Punctuation (rules for using symbols), and Phonology (rules for speech sounds)."
            }
          },
          {
            "@type": "Question",
            "name": "How Can I Improve My Grammar?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "You can improve your grammar by: reading widely for exposure, practicing writing consistently, studying grammar rules systematically, getting feedback on your work, taking grammar tests, and using grammar tools like Grammarly for real-time corrections."
            }
          },
          {
            "@type": "Question",
            "name": "What's the Difference Between Grammar and Spelling?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Grammar is the system of rules for how words function and combine in sentences, while spelling is the system of rules for how individual words are written with correct letters. Both are important for effective writing."
            }
          }
        ]
      }
    </script>

    <!-- Assessment Schema for Grammar Tests -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Quiz",
        "name": "English Grammar Test",
        "description": "Interactive grammar tests at beginner, intermediate, and advanced levels with instant feedback",
        "educationalLevel": ["Beginner", "Intermediate", "Advanced"],
        "hasPart": [
          {
            "@type": "Question",
            "name": "Beginner Grammar Test",
            "text": "20 questions covering basic grammar concepts including parts of speech, simple tenses, and basic sentence structure",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "10 minutes estimated time"
            }
          },
          {
            "@type": "Question",
            "name": "Intermediate Grammar Test",
            "text": "25 questions covering intermediate topics including complex tenses, conditionals, and advanced sentence structures",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "15 minutes estimated time"
            }
          },
          {
            "@type": "Question",
            "name": "Advanced Grammar Test",
            "text": "30 questions mastering advanced grammar including subjunctives, advanced clauses, and stylistic choices",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "20 minutes estimated time"
            }
          }
        ]
      }
    </script>

    <!-- Article Schema for Better Ranking on "English Grammar in Use" -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "English Grammar in Use: Real-World Applications",
        "description": "Learn how to apply English grammar rules in practical everyday situations including conversation, professional communication, academic writing, travel, creative writing, and media.",
        "image": "https://eslfunonline.com/images/11.png",
        "datePublished": "2026-02-24",
        "dateModified": "2026-02-24",
        "author": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "url": "https://eslfunonline.com"
        },
        "publisher": {
          "@type": "Organization",
          "name": "ESL Fun Online",
          "logo": {
            "@type": "ImageObject",
            "url": "https://eslfunonline.com/images/1.png"
          }
        },
        "mainEntity": {
          "@type": "Thing",
          "name": "English Grammar in Use"
        }
      }
    </script>
  </head>
  <body>
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress" id="scrollProgress"></div>
    <!-- Header & Navigation -->
    <header>
      <div class="container">
        <nav class="navbar">
          <a href="../index.html" class="logo-container">
            <img
              src="../images/1.png"
              alt="ESL Fun Online Logo"
              class="logo-image"
              width="40"
              height="40"
            />
            <span class="logo-text">ESL Fun Online</span>
          </a>

          <ul
            class="nav-links"
            id="navLinks"
            role="menubar"
            aria-label="Main navigation"
          >
            <li class="nav-item" role="none">
              <a href="../index.html" class="nav-link" role="menuitem">
                <i class="fas fa-home"></i>
                Home
              </a>
            </li>
            <li class="nav-item" role="none">
              <a
                href="#"
                class="nav-link"
                role="menuitem"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-book"></i>
                English
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown" role="menu" aria-label="English submenu">
                <a href="../english/grammar.html" class="dropdown-item">
                  <i class="fas fa-spell-check"></i>
                  Grammar Guides
                </a>
                <a href="../english/vocabguide.html" class="dropdown-item">
                  <i class="fas fa-book-open"></i>
                  Vocabulary Building
                </a>
                <a href="../english/worksheets.html" class="dropdown-item">
                  <i class="fas fa-file-alt"></i>
                  Worksheets
                </a>
                <a href="../english/writingf.html" class="dropdown-item">
                  <i class="fas fa-pen"></i>
                  Writing for Success
                </a>
                <a href="../english/business.html" class="dropdown-item">
                  <i class="fas fa-briefcase"></i>
                  Business English
                </a>
                <a href="../english/test.html" class="dropdown-item">
                  <i class="fas fa-graduation-cap"></i>
                  Test Preparation
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-code"></i>
                Coding
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="../coding/computerbasics.html" class="dropdown-item">
                  <i class="fas fa-desktop"></i>
                  Computer Basics
                </a>
                <a href="../coding/ai.html" class="dropdown-item">
                  <i class="fas fa-robot"></i>
                  AI Basics
                </a>
                <a href="../coding/codingresources.html" class="dropdown-item">
                  <i class="fas fa-code"></i>
                  Coding Basics
                </a>
                <a href="../coding/webdev.html" class="dropdown-item">
                  <i class="fas fa-globe"></i>
                  Web Development
                </a>
                <a href="../coding/javascript.html" class="dropdown-item">
                  <i class="fab fa-js-square"></i>
                  JavaScript
                </a>
                <a href="../coding/python.html" class="dropdown-item">
                  <i class="fab fa-python"></i>
                  Python
                </a>
              </div>
            </li>

            <li class="nav-item">
              <a href="../games/games.html" class="nav-link">
                <i class="fas fa-dice"></i>
                Games
              </a>
            </li>
            <li class="nav-item">
              <a href="../tools/tools.html" class="nav-link">
                <i class="fas fa-tools"></i>
                Toolkit
              </a>
            </li>
            <li class="nav-item">
              <a href="../blog/blog.html" class="nav-link">
                <i class="fas fa-book-open"></i>
                Blog
              </a>
            </li>
          </ul>

          <div class="controls">
            <button
              class="control-btn theme-toggle"
              id="themeToggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
            <a
              class="control-btn admin-toggle"
              id="adminToggle"
              aria-label="Admin"
              href="../login.html"
            >
              <i class="fas fa-user-shield"></i>
            </a>
          </div>
          <button
            class="control-btn mobile-toggle"
            id="mobileToggle"
            aria-label="Toggle mobile menu"
          >
            <i class="fas fa-bars"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- Immediate Mobile Menu Script - Inline for guaranteed execution -->
    <script>
      (function () {
        "use strict";

        function initMobileMenu() {
          const mobileToggle = document.getElementById("mobileToggle");
          const navLinks = document.getElementById("navLinks");
          const body = document.body;

          if (!mobileToggle || !navLinks) {
            console.warn("Mobile menu elements not found");
            return;
          }

          console.log("Immediate mobile menu initialized");

          let isMenuOpen = false;

          function toggleMenu(e) {
            if (e && e.preventDefault) e.preventDefault();
            if (e && e.stopPropagation) e.stopPropagation();

            isMenuOpen = !isMenuOpen;
            const icon = mobileToggle.querySelector("i");

            if (isMenuOpen) {
              navLinks.classList.add("active");
              body.classList.add("mobile-menu-open");
              body.style.overflow = "hidden";
              if (icon) icon.className = "fas fa-times";
              console.log("Menu opened");
            } else {
              navLinks.classList.remove("active");
              body.classList.remove("mobile-menu-open");
              body.style.overflow = "";
              if (icon) icon.className = "fas fa-bars";
              console.log("Menu closed");

              // Close all dropdowns
              document.querySelectorAll(".nav-item").forEach((item) => {
                item.classList.remove("mobile-open", "mobile-dropdown-open");
                const chevron = item.querySelector(".fa-chevron-down");
                if (chevron) chevron.style.transform = "rotate(0deg)";
              });
            }
          }

          // Simple unified handler - works for both touch and click
          let lastToggleTime = 0;

          function handleToggleClick(e) {
            const now = Date.now();
            // Prevent double-firing within 300ms
            if (now - lastToggleTime < 300) {
              console.log("Toggle ignored - too fast");
              return;
            }
            lastToggleTime = now;

            e.preventDefault();
            e.stopPropagation();
            console.log("Hamburger clicked/tapped");
            toggleMenu(e);
          }

          mobileToggle.addEventListener("click", handleToggleClick);
          mobileToggle.addEventListener("touchend", handleToggleClick);

          // Handle dropdown toggles on mobile
          document.querySelectorAll(".nav-item").forEach((item) => {
            const link = item.querySelector(".nav-link");
            const dropdown = item.querySelector(".dropdown");
            const chevron = link?.querySelector(".fa-chevron-down");

            // Only add special handling for links WITH dropdowns
            if (link && dropdown && chevron) {
              // Simple unified dropdown handler
              let lastDropdownToggle = 0;

              function handleDropdownClick(e) {
                if (window.innerWidth > 768) return; // Only on mobile

                // Don't interfere with dropdown item clicks
                if (
                  e.target.closest(".dropdown-item") ||
                  e.target.closest(".dropdown a")
                ) {
                  console.log("Dropdown item clicked - allowing navigation");
                  return; // Let the link work normally
                }

                const now = Date.now();
                // Prevent double-firing within 300ms
                if (now - lastDropdownToggle < 300) {
                  console.log("Dropdown toggle ignored - too fast");
                  return;
                }
                lastDropdownToggle = now;

                e.preventDefault();
                e.stopPropagation();

                const isOpen = item.classList.contains("mobile-open");
                console.log(
                  "Dropdown clicked:",
                  isOpen ? "closing" : "opening",
                );

                // Close other dropdowns
                document.querySelectorAll(".nav-item").forEach((otherItem) => {
                  if (otherItem !== item) {
                    otherItem.classList.remove(
                      "mobile-open",
                      "mobile-dropdown-open",
                    );
                    const otherChevron =
                      otherItem.querySelector(".fa-chevron-down");
                    if (otherChevron)
                      otherChevron.style.transform = "rotate(0deg)";
                  }
                });

                // Toggle current dropdown
                if (isOpen) {
                  item.classList.remove("mobile-open", "mobile-dropdown-open");
                  chevron.style.transform = "rotate(0deg)";
                  link.setAttribute("aria-expanded", "false");
                } else {
                  item.classList.add("mobile-open", "mobile-dropdown-open");
                  chevron.style.transform = "rotate(180deg)";
                  link.setAttribute("aria-expanded", "true");
                }
              }

              // Remove href="#" behavior on mobile
              if (link.getAttribute("href") === "#") {
                link.style.cursor = "pointer";
              }

              // Attach handlers for both click and touch
              link.addEventListener("click", handleDropdownClick);
              link.addEventListener("touchend", handleDropdownClick);
            }
          });

          // Close menu when clicking outside
          document.addEventListener("click", function (e) {
            if (window.innerWidth <= 768 && isMenuOpen) {
              if (
                !mobileToggle.contains(e.target) &&
                !navLinks.contains(e.target)
              ) {
                toggleMenu(null);
              }
            }
          });

          // Close menu on escape key
          document.addEventListener("keydown", function (e) {
            if (e.key === "Escape" && isMenuOpen) {
              toggleMenu(null);
              mobileToggle.focus();
            }
          });

          // Close menu on window resize to desktop
          window.addEventListener("resize", function () {
            if (window.innerWidth > 768 && isMenuOpen) {
              toggleMenu(null);
            }
          });

          // Close menu after dropdown link click
          document.querySelectorAll(".dropdown a").forEach((link) => {
            link.addEventListener("click", function () {
              if (window.innerWidth <= 768 && isMenuOpen) {
                setTimeout(() => {
                  toggleMenu(null);
                }, 100);
              }
            });
          });
        }

        // Initialize immediately if DOM is ready, otherwise wait
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", initMobileMenu);
        } else {
          initMobileMenu();
        }
      })();
    </script>

    <!-- Additional Mobile Dropdown Fixes -->

    <style>
      /* Hero Animation Enhancements */
      .hero-title {
        animation: fadeInDown 0.8s ease-out both;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hero-subtitle {
        animation: fadeInUp 0.8s ease-out 0.3s both;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Difficulty Badge Styles */
      .difficulty-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
        padding: 0.25rem 0.6rem;
        border-radius: 20px;
        font-size: 0.7rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-left: 0.5rem;
      }

      .difficulty-beginner {
        background: linear-gradient(135deg, #d1fae5, #a7f3d0);
        color: #065f46;
      }

      .difficulty-intermediate {
        background: linear-gradient(135deg, #fef3c7, #fde68a);
        color: #92400e;
      }

      .difficulty-advanced {
        background: linear-gradient(135deg, #fecaca, #fca5a5);
        color: #991b1b;
      }

      .difficulty-badge svg {
        width: 10px;
        height: 10px;
      }

      /* Search and Filter Bar Styles */
      .search-filter-section {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        padding: 2rem 1.5rem;
        margin: 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.06);
      }

      .search-filter-wrapper {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .search-box {
        position: relative;
        display: flex;
        align-items: center;
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 0.75rem 1rem;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      }

      .search-box:focus-within {
        border-color: var(--primary-color);
        box-shadow: 0 4px 16px rgba(64, 145, 108, 0.15);
      }

      .search-box i {
        color: #94a3b8;
        margin-right: 0.75rem;
        font-size: 1rem;
      }

      .grammar-search-input {
        flex: 1;
        border: none;
        outline: none;
        font-size: 1rem;
        font-family: inherit;
        color: var(--text-primary);
        min-height: 44px;
        padding: 0.5rem 0;
      }

      .grammar-search-input::placeholder {
        color: #cbd5e1;
      }

      .search-clear-btn {
        background: none;
        border: none;
        cursor: pointer;
        color: #94a3b8;
        font-size: 1.1rem;
        padding: 0.5rem;
        margin-left: 0.5rem;
        transition: color 0.2s ease;
        min-height: 44px;
        min-width: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .search-clear-btn:hover {
        color: var(--primary-color);
      }

      .filter-buttons {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
        justify-content: center;
      }

      .filter-btn {
        padding: 0.6rem 1.2rem;
        border: 2px solid #e2e8f0;
        background: white;
        border-radius: 24px;
        font-size: 0.95rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        min-height: 44px;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-secondary);
      }

      .filter-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .filter-btn.active {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: white;
        box-shadow: 0 4px 12px rgba(64, 145, 108, 0.3);
      }

      .search-results-info {
        text-align: center;
        padding: 0.75rem;
        background: white;
        border-radius: 8px;
        margin-top: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .search-results-info p {
        margin: 0;
        color: var(--text-secondary);
        font-size: 0.95rem;
      }

      #resultCount {
        font-weight: 600;
        color: var(--primary-color);
      }

      .reset-search-btn {
        padding: 0.5rem 1rem;
        background: #f1f5f9;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.2s ease;
        min-height: 36px;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .reset-search-btn:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      /* Card Statistics */
      .card-stats {
        display: flex;
        gap: 1rem;
        margin: 1rem 0;
        padding: 0.75rem 0;
        flex-wrap: wrap;
      }

      .stat {
        font-size: 0.85rem;
        color: var(--text-secondary);
        display: flex;
        align-items: center;
        gap: 0.4rem;
      }

      .stat i {
        color: var(--primary-color);
        font-size: 0.9rem;
      }

      /* Card Action Button for Hover */
      .card-action-btn {
        position: absolute;
        bottom: 0;
        right: 0;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--primary-light)
        );
        color: white;
        border: none;
        padding: 0.75rem 1.2rem;
        border-radius: 8px 0 16px 0;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        min-height: 44px;
        box-shadow: 0 4px 12px rgba(64, 145, 108, 0.2);
      }

      .rule-card:hover .card-action-btn {
        opacity: 1;
        transform: translateY(0);
      }

      .card-action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(64, 145, 108, 0.35);
      }

      /* Enhanced Hover Effects */
      .rule-card {
        position: relative;
        overflow: hidden;
      }

      .rule-card-body {
        position: relative;
        padding-right: 5rem;
      }

      .rule-card:hover {
        transform: translateY(-6px);
        transition: all 0.3s ease;
      }

      /* Improved Touch Targets for Mobile */
      @media (max-width: 768px) {
        .search-filter-section {
          padding: 1.5rem 1rem;
        }

        .search-filter-wrapper {
          gap: 1rem;
        }

        .search-box {
          padding: 0.75rem 0.75rem;
          min-height: 48px;
        }

        .grammar-search-input {
          min-height: 48px;
          font-size: 16px;
        }

        .filter-buttons {
          justify-content: flex-start;
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
          padding: 0.5rem 0;
        }

        .filter-btn {
          min-height: 44px;
          min-width: auto;
          flex-shrink: 0;
          padding: 0.6rem 1rem;
        }

        .rule-card {
          border-radius: 16px;
          padding: 1.5rem;
        }

        .rule-card-body {
          padding-right: 0;
        }

        .card-action-btn {
          opacity: 1;
          transform: translateY(0);
          position: relative;
          bottom: auto;
          right: auto;
          width: 100%;
          border-radius: 8px;
          margin-top: 1rem;
        }

        .topic-link {
          min-height: 44px;
          display: flex;
          align-items: center;
        }

        .search-results-info {
          flex-direction: column;
          gap: 0.75rem;
        }
      }
    </style>

    <!-- Hero Section -->
    <section class="hero">
      <img
        src="../images/hero.webp"
        alt="ESL Fun Online Background"
        class="hero-bg"
      />
      <div class="hero-content">
        <h1 class="hero-title">Grammar Guides</h1>
        <p class="hero-subtitle">
          Master English grammar with clear explanations, interactive practice,
          and real-world examples for all levels.
        </p>
        <div
          class="hero-buttons"
          style="
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
            flex-wrap: wrap;
          "
        >
          <button
            id="learnBtn"
            style="
              background: linear-gradient(135deg, #4299e1 0%, #48bb78 100%);
              color: white;
              border: none;
              padding: 14px 28px;
              border-radius: 8px;
              font-weight: 600;
              font-size: 1rem;
              cursor: pointer;
              display: flex;
              align-items: center;
              gap: 8px;
              box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3);
              transition: all 0.3s ease;
            "
          >
            <i class="fas fa-book"></i> Learn Grammar
          </button>
          <button
            id="testBtn"
            style="
              background: transparent;
              color: white;
              border: 2px solid white;
              padding: 12px 26px;
              border-radius: 8px;
              font-weight: 600;
              font-size: 1rem;
              cursor: pointer;
              display: flex;
              align-items: center;
              gap: 8px;
              transition: all 0.3s ease;
            "
          >
            <i class="fas fa-clipboard-check"></i> Take Test
          </button>
        </div>
      </div>
    </section>

    <!-- Search and Filter Bar -->
    <section class="search-filter-section">
      <div class="container">
        <div class="search-filter-wrapper">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input
              type="text"
              id="grammarSearch"
              class="grammar-search-input"
              placeholder="Search grammar topics... (e.g., 'verb tenses', 'articles')"
              aria-label="Search grammar topics"
            />
            <button
              class="search-clear-btn"
              id="searchClearBtn"
              aria-label="Clear search"
              style="display: none"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="filter-buttons">
            <button
              class="filter-btn active"
              data-filter="all"
              aria-pressed="true"
            >
              <i class="fas fa-th"></i> All
            </button>
            <button
              class="filter-btn"
              data-filter="beginner"
              aria-pressed="false"
            >
              <i class="fas fa-leaf"></i> Beginner
            </button>
            <button
              class="filter-btn"
              data-filter="intermediate"
              aria-pressed="false"
            >
              <i class="fas fa-circle"></i> Intermediate
            </button>
            <button
              class="filter-btn"
              data-filter="advanced"
              aria-pressed="false"
            >
              <i class="fas fa-star"></i> Advanced
            </button>
          </div>
        </div>
        <div
          class="search-results-info"
          id="searchResultsInfo"
          style="display: none"
        >
          <p>Found <span id="resultCount">0</span> matching topics</p>
          <button class="reset-search-btn" id="resetSearchBtn">
            <i class="fas fa-redo"></i> Reset
          </button>
        </div>
      </div>
    </section>

    <!-- Ad after hero -->
    <!-- Main Content -->
    <main class="main-content">
      <div class="container">
        <div class="content-grid">
          <!-- Grammar Content -->
          <div class="grammar-content">
            <!-- Grammar Topics Overview -->
            <section class="grammar-section" id="grammarLadder">
              <div class="section-header">
                <div class="section-icon">
                  <i class="fas fa-book-open"></i>
                </div>
                <h2>Essential Grammar Ladder</h2>
                <p
                  style="
                    flex: 1;
                    color: var(--text-secondary);
                    margin: 0;
                    font-size: 1.1rem;
                    margin-left: 1rem;
                  "
                >
                  Click any topic below to start learning. Each lesson includes
                  clear explanations, examples, and practice exercises.
                </p>
              </div>

              <div class="rule-grid">
                <!-- Parts of Speech -->
                <div
                  class="rule-card"
                  data-theme="blue"
                  data-difficulty="beginner"
                  data-category="Foundation"
                  data-search-text="parts of speech nouns verbs adjectives"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                        <path
                          d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"
                        />
                        <path d="M8 7h8M8 11h8M8 15h4" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Foundation</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">1</span>
                      <span>Parts of Speech</span>
                    </h3>
                    <p class="rule-explanation">
                      The foundation of English grammar. Every word belongs to a
                      part of speech that determines its function in a sentence.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 12 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 8 exercises</span
                      >
                    </div>
                    <a href="parts-of-speech.html" class="topic-link">
                      Learn Parts of Speech
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Parts of Speech"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Word Forms -->
                <div
                  class="rule-card"
                  data-theme="purple"
                  data-difficulty="beginner"
                  data-category="Foundation"
                  data-search-text="word forms morphology prefixes suffixes"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M12 3v18" />
                        <path d="M8 8l4-5 4 5" />
                        <path d="M8 16l4 5 4-5" />
                        <circle cx="12" cy="12" r="3" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Vocabulary</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">2</span>
                      <span>Word Forms</span>
                    </h3>
                    <p class="rule-explanation">
                      Learn how words change their form to express different
                      meanings and grammatical functions.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 10 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 6 exercises</span
                      >
                    </div>
                    <a href="wordforms.html" class="topic-link">
                      Learn Word Forms
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Word Forms"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Prefixes & Suffixes -->
                <div
                  class="rule-card"
                  data-theme="pink"
                  data-difficulty="beginner"
                  data-category="Word Building"
                  data-search-text="prefixes suffixes word building morphology"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <rect x="2" y="6" width="6" height="12" rx="1" />
                        <rect x="16" y="6" width="6" height="12" rx="1" />
                        <path d="M8 12h8" />
                        <path d="M11 9l3 3-3 3" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Word Building</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">3</span>
                      <span>Prefixes & Suffixes</span>
                    </h3>
                    <p class="rule-explanation">
                      Word building blocks that change meaning and create new
                      words. Essential for vocabulary expansion.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 15 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 10 exercises</span
                      >
                    </div>
                    <a href="prefixessuffixes.html" class="topic-link">
                      Learn Prefixes & Suffixes
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Prefixes & Suffixes"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Word Families -->
                <div
                  class="rule-card"
                  data-theme="rose"
                  data-difficulty="beginner"
                  data-category="Vocabulary"
                  data-search-text="word families relationships vocabulary"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <circle cx="12" cy="5" r="3" />
                        <circle cx="6" cy="17" r="3" />
                        <circle cx="18" cy="17" r="3" />
                        <path d="M12 8v4" />
                        <path d="M9.5 13.5L6 14" />
                        <path d="M14.5 13.5L18 14" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Vocabulary</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">4</span>
                      <span>Word Families</span>
                    </h3>
                    <p class="rule-explanation">
                      Groups of words that share the same root but have
                      different forms and meanings.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 10 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 7 exercises</span
                      >
                    </div>
                    <a href="wordfamilies.html" class="topic-link">
                      Learn Word Families
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Word Families"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Sentence Structure -->
                <div class="rule-card" data-theme="cyan">
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <rect x="3" y="3" width="18" height="18" rx="2" />
                        <path d="M7 8h10" />
                        <path d="M7 12h6" />
                        <path d="M7 16h8" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Syntax</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">5</span>
                      <span>Sentence Structure</span>
                    </h3>
                    <p class="rule-explanation">
                      The building blocks of communication. Learn how to
                      construct clear, effective sentences.
                    </p>
                    <a href="structure.html" class="topic-link">
                      Learn Sentence Structure
                      <i class="fas fa-arrow-right"></i>
                    </a>
                  </div>
                </div>

                <!-- Clauses & Phrases -->
                <div
                  class="rule-card"
                  data-theme="teal"
                  data-difficulty="intermediate"
                  data-category="Syntax"
                  data-search-text="clauses phrases subordinate relative dependent"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M9 3H5a2 2 0 0 0-2 2v4" />
                        <path d="M9 21H5a2 2 0 0 1-2-2v-4" />
                        <path d="M15 3h4a2 2 0 0 1 2 2v4" />
                        <path d="M15 21h4a2 2 0 0 0 2-2v-4" />
                        <path d="M8 12h8" />
                        <path d="M12 8v8" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Syntax</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">6</span>
                      <span>Clauses & Phrases</span>
                    </h3>
                    <p class="rule-explanation">
                      Groups of words that work together. Master clauses and
                      phrases to write complex, sophisticated sentences.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 16 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 12 exercises</span
                      >
                    </div>
                    <a href="clauses.html" class="topic-link">
                      Learn Clauses & Phrases
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Clauses & Phrases"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Tenses & Aspects -->
                <div
                  class="rule-card"
                  data-theme="green"
                  data-difficulty="intermediate"
                  data-category="Verbs"
                  data-search-text="tenses aspects present past future continuous perfect progressive"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <circle cx="12" cy="12" r="10" />
                        <polyline points="12 6 12 12 16 14" />
                        <path d="M3 12h2" />
                        <path d="M19 12h2" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Verbs</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">7</span>
                      <span>Tenses & Aspects</span>
                    </h3>
                    <p class="rule-explanation">
                      Express when actions happen and how they relate to time.
                      Master all 12 English tenses and their aspects.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 20 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 15 exercises</span
                      >
                    </div>
                    <a href="verb-tenses.html" class="topic-link">
                      Master All Tenses
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Tenses & Aspects"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Modal Verbs -->
                <div
                  class="rule-card"
                  data-theme="emerald"
                  data-difficulty="intermediate"
                  data-category="Verbs"
                  data-search-text="modal verbs can could may might must should would ability permission obligation"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M12 2L2 7l10 5 10-5-10-5z" />
                        <path d="M2 17l10 5 10-5" />
                        <path d="M2 12l10 5 10-5" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Verbs</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">8</span>
                      <span>Modal Verbs</span>
                    </h3>
                    <p class="rule-explanation">
                      Express possibility, necessity, permission, and ability.
                      Essential for polite and precise communication.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 13 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 10 exercises</span
                      >
                    </div>
                    <a href="modalverbs.html" class="topic-link">
                      Learn Modal Verbs
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Modal Verbs"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Conditionals -->
                <div
                  class="rule-card"
                  data-theme="amber"
                  data-difficulty="advanced"
                  data-category="Advanced"
                  data-search-text="conditionals if unless hypothetical real unreal zero first second third"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M6 3v18" />
                        <path d="M18 3v18" />
                        <path d="M6 12h12" />
                        <path d="M6 7l6 5-6 5" />
                        <path d="M18 7l-6 5 6 5" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Advanced</span>
                    <span class="difficulty-badge difficulty-advanced">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Advanced
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">9</span>
                      <span>Conditionals</span>
                    </h3>
                    <p class="rule-explanation">
                      Express hypothetical situations and their consequences.
                      From real possibilities to impossible dreams.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 18 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 14 exercises</span
                      >
                    </div>
                    <a href="conditionals.html" class="topic-link">
                      Learn Conditionals
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Conditionals"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Passive Voice -->
                <div
                  class="rule-card"
                  data-theme="orange"
                  data-difficulty="intermediate"
                  data-category="Voice"
                  data-search-text="passive voice by agent object focus formal writing"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path
                          d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"
                        />
                        <path d="M15 5l4 4" />
                        <path d="M12 8L8 12" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Voice</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">10</span>
                      <span>Passive Voice ESL</span>
                    </h3>
                    <p class="rule-explanation">
                      Learn passive voice with free interactive exercises.
                      Essential for formal writing and describing processes.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 12 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 10 exercises</span
                      >
                    </div>
                    <a href="passive.html" class="topic-link">
                      Passive Voice Exercises
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Passive Voice"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Mid-Content Ad -->
                <div
                  class="grammar-ladder-ad"
                  style="grid-column: 1 / -1; margin: 1rem 0"
                >
                  <script
                    async
                    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
                    crossorigin="anonymous"
                  ></script>
                  <ins
                    class="adsbygoogle"
                    style="display: block"
                    data-ad-format="autorelaxed"
                    data-ad-client="ca-pub-2456627863532019"
                    data-ad-slot="4788534340"
                  ></ins>
                  <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                  </script>
                </div>

                <!-- Reported Speech -->
                <div
                  class="rule-card"
                  data-theme="red"
                  data-difficulty="intermediate"
                  data-category="Communication"
                  data-search-text="reported indirect speech say tell statement question request"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path
                          d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                        />
                        <path d="M8 9h8" />
                        <path d="M8 13h6" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Communication</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">11</span>
                      <span>Reported Speech</span>
                    </h3>
                    <p class="rule-explanation">
                      Report what someone said without using their exact words.
                      Essential for storytelling and communication.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 14 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 11 exercises</span
                      >
                    </div>
                    <a href="reported-speech.html" class="topic-link">
                      Learn Reported Speech
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Reported Speech"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Questions & Negation -->
                <div
                  class="rule-card"
                  data-theme="indigo"
                  data-difficulty="beginner"
                  data-category="Essential"
                  data-search-text="questions negation negative interrogative formation"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <circle cx="12" cy="12" r="10" />
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                        <circle cx="12" cy="17" r="0.5" fill="white" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Essential</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">12</span>
                      <span>Questions & Negation</span>
                    </h3>
                    <p class="rule-explanation">
                      Ask questions and make negative statements correctly.
                      Master question formation and negative structures.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 11 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 8 exercises</span
                      >
                    </div>
                    <a href="questions-negation.html" class="topic-link">
                      Learn Questions & Negation
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Questions & Negation"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Articles -->
                <div
                  class="rule-card"
                  data-theme="violet"
                  data-difficulty="beginner"
                  data-category="Determiners"
                  data-search-text="articles a an the definite indefinite usage"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <text
                          x="5"
                          y="17"
                          font-family="Georgia, serif"
                          font-size="14"
                          font-weight="bold"
                          fill="white"
                          stroke="none"
                        >
                          A
                        </text>
                        <circle cx="17" cy="8" r="5" />
                        <path d="M14 17h6" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Determiners</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">13</span>
                      <span>Articles (a, an, the)</span>
                    </h3>
                    <p class="rule-explanation">
                      Master the use of indefinite and definite articles. Learn
                      when to use a, an, the, or no article at all.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 11 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 9 exercises</span
                      >
                    </div>
                    <a href="articles.html" class="topic-link">
                      Learn Articles
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Articles"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Nouns & Countability -->
                <div
                  class="rule-card"
                  data-theme="sky"
                  data-difficulty="beginner"
                  data-category="Parts of Speech"
                  data-search-text="nouns countable uncountable plural singular quantifiers"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <rect x="3" y="3" width="7" height="7" rx="1" />
                        <rect x="14" y="3" width="7" height="7" rx="1" />
                        <rect x="3" y="14" width="7" height="7" rx="1" />
                        <path d="M14 14h7v7" />
                        <path d="M17 14v4" />
                        <path d="M14 17h4" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Parts of Speech</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">14</span>
                      <span>Nouns & Countability</span>
                    </h3>
                    <p class="rule-explanation">
                      Understand countable and uncountable nouns, quantifiers,
                      and plural forms for accurate English usage.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 13 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 10 exercises</span
                      >
                    </div>
                    <a href="nouns.html" class="topic-link">
                      Learn Nouns
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Nouns & Countability"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Prepositions -->
                <div
                  class="rule-card"
                  data-theme="lime"
                  data-difficulty="intermediate"
                  data-category="Connectors"
                  data-search-text="prepositions time place movement location direction"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <circle cx="12" cy="12" r="3" />
                        <path d="M12 2v4" />
                        <path d="M12 18v4" />
                        <path d="M4.93 4.93l2.83 2.83" />
                        <path d="M16.24 16.24l2.83 2.83" />
                        <path d="M2 12h4" />
                        <path d="M18 12h4" />
                        <path d="M4.93 19.07l2.83-2.83" />
                        <path d="M16.24 7.76l2.83-2.83" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Connectors</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">15</span>
                      <span>Prepositions</span>
                    </h3>
                    <p class="rule-explanation">
                      Master prepositions of time, place, and movement. Learn
                      the small words that make a big difference.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 15 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 12 exercises</span
                      >
                    </div>
                    <a href="prepositions.html" class="topic-link">
                      Learn Prepositions
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Prepositions"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Pronouns -->
                <div
                  class="rule-card"
                  data-theme="fuchsia"
                  data-difficulty="beginner"
                  data-category="Parts of Speech"
                  data-search-text="pronouns subject object possessive reflexive personal relative"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <circle cx="12" cy="7" r="4" />
                        <path d="M5.5 21a7.5 7.5 0 0 1 13 0" />
                        <path d="M17 11l2 2-2 2" />
                        <path d="M7 11l-2 2 2 2" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Parts of Speech</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">16</span>
                      <span>Pronouns</span>
                    </h3>
                    <p class="rule-explanation">
                      Subject, object, possessive, and reflexive pronouns. Use
                      the right pronoun in every situation.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 10 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 8 exercises</span
                      >
                    </div>
                    <a href="pronouns.html" class="topic-link">
                      Learn Pronouns
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Pronouns"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Adjectives & Adverbs -->
                <div
                  class="rule-card"
                  data-theme="blue"
                  data-difficulty="beginner"
                  data-category="Modifiers"
                  data-search-text="adjectives adverbs descriptive modifiers order intensity"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <polygon
                          points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
                        />
                        <circle cx="12" cy="12" r="3" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Modifiers</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">17</span>
                      <span>Adjectives & Adverbs</span>
                    </h3>
                    <p class="rule-explanation">
                      Describe nouns with adjectives and modify verbs with
                      adverbs. Learn order, form, and usage.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 12 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 9 exercises</span
                      >
                    </div>
                    <a href="adjectives-adverbs.html" class="topic-link">
                      Learn Adjectives & Adverbs
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Adjectives & Adverbs"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Comparatives & Superlatives -->
                <div
                  class="rule-card"
                  data-theme="purple"
                  data-difficulty="intermediate"
                  data-category="Comparison"
                  data-search-text="comparatives superlatives -er -est more most comparing"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M3 21h18" />
                        <rect x="5" y="13" width="4" height="8" rx="1" />
                        <rect x="10" y="9" width="4" height="12" rx="1" />
                        <rect x="15" y="5" width="4" height="16" rx="1" />
                        <path d="M19 5l-2-2" />
                        <path d="M17 3l2-1" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Comparison</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">18</span>
                      <span>Comparatives & Superlatives</span>
                    </h3>
                    <p class="rule-explanation">
                      Compare things effectively using comparative and
                      superlative forms of adjectives and adverbs.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 11 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 8 exercises</span
                      >
                    </div>
                    <a href="comparatives.html" class="topic-link">
                      Learn Comparatives
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Comparatives & Superlatives"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Relative Clauses -->
                <div
                  class="rule-card"
                  data-theme="pink"
                  data-difficulty="advanced"
                  data-category="Clauses"
                  data-search-text="relative clauses who which that where when whose combining sentences"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path
                          d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
                        />
                        <path
                          d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Clauses</span>
                    <span class="difficulty-badge difficulty-advanced">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Advanced
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">19</span>
                      <span>Relative Clauses</span>
                    </h3>
                    <p class="rule-explanation">
                      Combine sentences and add information using who, which,
                      that, where, and when effectively.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 17 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 13 exercises</span
                      >
                    </div>
                    <a href="relative-clauses.html" class="topic-link">
                      Learn Relative Clauses
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Relative Clauses"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Phrasal Verbs -->
                <div
                  class="rule-card"
                  data-theme="teal"
                  data-difficulty="intermediate"
                  data-category="Verbs"
                  data-search-text="phrasal verbs particle put get take look come up in out on off"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M5 12h14" />
                        <path d="M12 5l7 7-7 7" />
                        <circle cx="5" cy="12" r="2" />
                        <path d="M16 8l2-2" />
                        <path d="M16 16l2 2" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Verbs</span>
                    <span class="difficulty-badge difficulty-intermediate">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Intermediate
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">20</span>
                      <span>50 Phrasal Verbs for Beginners</span>
                    </h3>
                    <p class="rule-explanation">
                      Learn 50 phrasal verbs for beginners with interactive
                      quizzes. Essential for natural-sounding English.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 16 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 12 exercises</span
                      >
                    </div>
                    <a href="phrasal-verbs.html" class="topic-link">
                      Learn Phrasal Verbs
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Phrasal Verbs"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Gerunds & Infinitives -->
                <div
                  class="rule-card"
                  data-theme="green"
                  data-difficulty="advanced"
                  data-category="Verb Forms"
                  data-search-text="gerunds infinitives -ing form to+ verb after verbs structures"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M4 4h6v6H4z" />
                        <path d="M14 4h6v6h-6z" />
                        <path d="M4 14h6v6H4z" />
                        <path d="M17 14v6" />
                        <path d="M14 17h6" />
                        <text
                          x="5"
                          y="9"
                          font-size="5"
                          fill="white"
                          stroke="none"
                        >
                          -ing
                        </text>
                        <text
                          x="15"
                          y="9"
                          font-size="4"
                          fill="white"
                          stroke="none"
                        >
                          to
                        </text>
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Verb Forms</span>
                    <span class="difficulty-badge difficulty-advanced">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Advanced
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">21</span>
                      <span>Gerunds & Infinitives</span>
                    </h3>
                    <p class="rule-explanation">
                      Learn when to use -ing forms and to-infinitives after
                      different verbs and in various contexts.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 14 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 11 exercises</span
                      >
                    </div>
                    <a href="gerunds-infinitives.html" class="topic-link">
                      Learn Gerunds & Infinitives
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Gerunds & Infinitives"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Punctuation -->
                <div
                  class="rule-card"
                  data-theme="amber"
                  data-difficulty="beginner"
                  data-category="Writing"
                  data-search-text="punctuation marks comma period apostrophe semicolon colon quotation"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <circle cx="6" cy="18" r="2" fill="white" />
                        <circle cx="12" cy="18" r="2" fill="white" />
                        <path d="M16 10c0-2.5 2-4 4-4" />
                        <path d="M20 10c0 2.5-2 4-4 4" />
                        <path d="M6 6v6" />
                        <path d="M3 9h6" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Writing</span>
                    <span class="difficulty-badge difficulty-beginner">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Beginner
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">22</span>
                      <span>Punctuation</span>
                    </h3>
                    <p class="rule-explanation">
                      Master commas, apostrophes, semicolons, and more. Proper
                      punctuation makes writing clear and professional.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 10 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 7 exercises</span
                      >
                    </div>
                    <a href="punctuation.html" class="topic-link">
                      Learn Punctuation
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Punctuation"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Collocations -->
                <div
                  class="rule-card"
                  data-theme="orange"
                  data-difficulty="advanced"
                  data-category="Fluency"
                  data-search-text="collocations word combinations natural expressions phrases together"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <rect x="3" y="8" width="6" height="8" rx="1" />
                        <rect x="15" y="8" width="6" height="8" rx="1" />
                        <path d="M9 10h6" />
                        <path d="M9 14h6" />
                        <circle cx="12" cy="12" r="1" fill="white" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Fluency</span>
                    <span class="difficulty-badge difficulty-advanced">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Advanced
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">23</span>
                      <span>Collocations</span>
                    </h3>
                    <p class="rule-explanation">
                      Natural word combinations that native speakers use. Make
                      your English sound more fluent and authentic.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 13 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 10 exercises</span
                      >
                    </div>
                    <a href="collocations.html" class="topic-link">
                      Learn Collocations
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Collocations"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>

                <!-- Discourse Markers -->
                <div
                  class="rule-card"
                  data-theme="indigo"
                  data-difficulty="advanced"
                  data-category="Coherence"
                  data-search-text="discourse markers linking words furthermore however therefore moreover additionally"
                >
                  <div class="rule-card-header">
                    <div class="rule-card-icon">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M4 6h16" />
                        <path d="M4 12h16" />
                        <path d="M4 18h16" />
                        <path d="M8 3v3" />
                        <path d="M12 9v6" />
                        <path d="M16 15v6" />
                        <circle cx="8" cy="6" r="1.5" fill="white" />
                        <circle cx="12" cy="12" r="1.5" fill="white" />
                        <circle cx="16" cy="18" r="1.5" fill="white" />
                      </svg>
                    </div>
                  </div>
                  <div class="rule-card-body">
                    <span class="topic-tag">Coherence</span>
                    <span class="difficulty-badge difficulty-advanced">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="12" cy="12" r="8" />
                      </svg>
                      Advanced
                    </span>
                    <h3 class="rule-title">
                      <span class="rule-number">24</span>
                      <span>Discourse Markers</span>
                    </h3>
                    <p class="rule-explanation">
                      Connect ideas smoothly using furthermore, however,
                      therefore, and other linking words and phrases.
                    </p>
                    <div class="card-stats">
                      <span class="stat"
                        ><i class="fas fa-clock"></i> 12 min</span
                      >
                      <span class="stat"
                        ><i class="fas fa-tasks"></i> 9 exercises</span
                      >
                    </div>
                    <a href="discourse-markers.html" class="topic-link">
                      Learn Discourse Markers
                      <i class="fas fa-arrow-right"></i>
                    </a>
                    <button
                      class="card-action-btn"
                      aria-label="Start learning Discourse Markers"
                    >
                      <i class="fas fa-play-circle"></i> Start
                    </button>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>

    <!-- Grammar Test Section for SEO - "grammar test" keyword targeting (2k impressions) -->
    <section
      id="grammarTests"
      class="grammar-test-section"
      style="
        padding: 60px 20px;
        background: linear-gradient(
          135deg,
          rgba(66, 153, 225, 0.1) 0%,
          rgba(72, 187, 120, 0.1) 100%
        );
        margin: 40px 0;
      "
    >
      <div class="container">
        <div style="text-align: center; margin-bottom: 40px">
          <h2
            style="
              font-size: 2.5rem;
              color: var(--text-primary);
              margin-bottom: 15px;
              font-weight: 700;
            "
          >
            Test Your Grammar Knowledge
          </h2>
          <p
            style="
              font-size: 1.1rem;
              color: var(--text-secondary);
              max-width: 600px;
              margin: 0 auto;
            "
          >
            Take our interactive grammar test to assess your current level and
            identify areas for improvement. Get instant feedback on your
            answers.
          </p>
        </div>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
          "
        >
          <div
            style="
              background: white;
              padding: 25px;
              border-radius: 12px;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
              border-left: 4px solid #4299e1;
            "
          >
            <h3 style="margin-top: 0; color: #4299e1">
              <i class="fas fa-star"></i> Beginner Test
            </h3>
            <p>10 questions covering basic grammar. Time: ~5 minutes</p>
            <button
              onclick="startGrammarQuiz('beginner')"
              style="
                background: #4299e1;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 6px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s;
                width: 100%;
              "
              onmouseover="this.style.background = '#3b90c7'"
              onmouseout="this.style.background = '#4299e1'"
            >
              Start Test
            </button>
          </div>
          <div
            style="
              background: white;
              padding: 25px;
              border-radius: 12px;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
              border-left: 4px solid #ed8936;
            "
          >
            <h3 style="margin-top: 0; color: #ed8936">
              <i class="fas fa-flask"></i> Intermediate Test
            </h3>
            <p>10 questions on intermediate topics. Time: ~7 minutes</p>
            <button
              onclick="startGrammarQuiz('intermediate')"
              style="
                background: #ed8936;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 6px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s;
                width: 100%;
              "
              onmouseover="this.style.background = '#d97706'"
              onmouseout="this.style.background = '#ed8936'"
            >
              Start Test
            </button>
          </div>
          <div
            style="
              background: white;
              padding: 25px;
              border-radius: 12px;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
              border-left: 4px solid #9f7aea;
            "
          >
            <h3 style="margin-top: 0; color: #9f7aea">
              <i class="fas fa-crown"></i> Advanced Test
            </h3>
            <p>10 questions testing mastery. Time: ~8 minutes</p>
            <button
              onclick="startGrammarQuiz('advanced')"
              style="
                background: #9f7aea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 6px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s;
                width: 100%;
              "
              onmouseover="this.style.background = '#8873d9'"
              onmouseout="this.style.background = '#9f7aea'"
            >
              Start Test
            </button>
          </div>
        </div>
        <p
          style="
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.95rem;
          "
        >
          <i class="fas fa-info-circle"></i> All tests are free. Get instant
          feedback on each answer.
        </p>

        <!-- Quiz Modal -->
        <div
          id="quizModal"
          style="
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
          "
        >
          <div
            style="
              background: white;
              border-radius: 12px;
              padding: 30px;
              max-width: 600px;
              width: 90%;
              max-height: 80vh;
              overflow-y: auto;
            "
          >
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
              "
            >
              <h3 id="quizTitle" style="margin: 0">Grammar Quiz</h3>
              <button
                onclick="closeQuiz()"
                style="
                  background: none;
                  border: none;
                  font-size: 24px;
                  cursor: pointer;
                  color: #666;
                "
              >
                &times;
              </button>
            </div>
            <div id="quizContent"></div>
            <div style="display: flex; gap: 10px; margin-top: 20px">
              <button
                onclick="previousQuestion()"
                id="prevBtn"
                style="
                  flex: 1;
                  padding: 10px;
                  background: #ccc;
                  border: none;
                  border-radius: 6px;
                  cursor: pointer;
                  display: none;
                "
              >
                 Previous
              </button>
              <button
                onclick="nextQuestion()"
                id="nextBtn"
                style="
                  flex: 1;
                  padding: 10px;
                  background: #4299e1;
                  color: white;
                  border: none;
                  border-radius: 6px;
                  cursor: pointer;
                "
              >
                Next 
              </button>
              <button
                onclick="submitQuiz()"
                id="submitBtn"
                style="
                  flex: 1;
                  padding: 10px;
                  background: #48bb78;
                  color: white;
                  border: none;
                  border-radius: 6px;
                  cursor: pointer;
                  display: none;
                "
              >
                Submit
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      const quizzes = {
        beginner: [
          {
            q: "Which is correct? 'She ___ to work every day.'",
            opts: ["go", "goes", "going"],
            ans: 1,
            exp: "Use 'goes' (base form + s/es) for third person singular in present. 'She goes' is the correct daily routine.",
          },
          {
            q: "Choose the right answer: 'I ___ a coffee right now.'",
            opts: ["drink", "drinks", "am drinking"],
            ans: 2,
            exp: "Use present continuous (-ing) for actions happening RIGHT NOW. 'I am drinking' shows the action is in progress.",
          },
          {
            q: "What is the past tense of 'go'?",
            opts: ["goed", "went", "going"],
            ans: 1,
            exp: "'Went' is the correct irregular past tense. 'Goed' is not correct. Example: 'I went to the store yesterday.'",
          },
          {
            q: "Select the correct sentence: ___",
            opts: [
              "They is playing football",
              "They are playing football",
              "They am playing football",
            ],
            ans: 1,
            exp: "Plural subjects use 'are' not 'is'. 'They are playing' is correct because 'they' is plural.",
          },
          {
            q: "Which question is grammatically correct?",
            opts: [
              "Do she like pizza?",
              "Does she like pizza?",
              "Did she likes pizza?",
            ],
            ans: 1,
            exp: "With 'she' (third person singular), use 'does' in questions. 'Does she like pizza?' is the correct form.",
          },
          {
            q: "What is the opposite? 'I like pizza.' ",
            opts: [
              "I no like pizza.",
              "I don't like pizza.",
              "I not like pizza.",
            ],
            ans: 1,
            exp: "Create negatives with 'do/does/did' + not. 'I don't like pizza.' is correct. 'Don't' is a contraction of 'do not'.",
          },
          {
            q: "Complete the sentence: 'He will ___ tomorrow.'",
            opts: ["arrives", "is arriving", "arrive"],
            ans: 2,
            exp: "After 'will', use the base form of the verb. 'He will arrive' is correct, not 'arrives' or 'is arriving'.",
          },
          {
            q: "Which sentence is correct?",
            opts: [
              "She has go to the store",
              "She has went to the store",
              "She has gone to the store",
            ],
            ans: 2,
            exp: "With 'has', use the past participle. 'She has gone' is correct. Past participles often end in -ed or are irregular.",
          },
          {
            q: "What is the plural of 'woman'?",
            opts: ["womans", "womens", "women"],
            ans: 2,
            exp: "'Women' is the irregular plural. It's pronounced differently too: WIM-in (plural) vs. WUU-man (singular).",
          },
          {
            q: "Select the correct answer: 'My friends ___ English teachers.'",
            opts: ["is", "are", "am"],
            ans: 1,
            exp: "Plural subjects use 'are'. Since 'friends' (plural) matches with 'are', 'My friends are English teachers' is correct.",
          },
        ],
        intermediate: [
          {
            q: "Which is correct? 'If I ___ about the meeting, I would have attended.'",
            opts: ["had known", "would know", "knew"],
            ans: 0,
            exp: "Third conditional (past unreal): If + had + past participle. 'If I had known' expresses regret about a past situation.",
          },
          {
            q: "Choose the right tense: 'She ___ here for 3 years.'",
            opts: ["works", "has been working", "is working"],
            ans: 1,
            exp: "Present perfect continuous shows duration from past to present. 'She has been working here for 3 years' = she started 3 years ago and still works there.",
          },
          {
            q: "Complete: 'By next Friday, I ___ the project.'",
            opts: ["will finish", "will have finished", "am finishing"],
            ans: 1,
            exp: "Future perfect shows completion before a specific future time. 'By next Friday' = a specific deadline, so use 'will have finished'.",
          },
          {
            q: "Which is correct? 'The report ___ last week.'",
            opts: ["is submitted", "was submitted", "has been submitted"],
            ans: 1,
            exp: "Past simple passive for completed action. 'The report was submitted' (no longer happening). 'Last week' confirms past tense.",
          },
          {
            q: "Select the right answer: 'Not only ___ smart, but also kind.'",
            opts: ["he is", "is he", "he are"],
            ans: 1,
            exp: "After 'not only' at sentence start, invert subject and verb. 'Not only is he smart' = formal emphasis, different from normal word order.",
          },
          {
            q: "Choose the correct form: 'Despite ___ tired, she continued.'",
            opts: ["to be", "being", "be"],
            ans: 1,
            exp: "After prepositions like 'despite', use gerunds (-ing). 'Despite being tired' = despite the fact that she was tired.",
          },
          {
            q: "Which is grammatically correct?",
            opts: [
              "I wish I studied harder",
              "I wish I had studied harder",
              "I wish I would study harder",
            ],
            ans: 1,
            exp: "For past regrets, use 'I wish + past perfect'. 'I wish I had studied' expresses regret about something you didn't do before.",
          },
          {
            q: "Select the right answer: 'Unless you ___, you won't succeed.'",
            opts: ["will study", "study", "studied"],
            ans: 1,
            exp: "In 'unless' conditionals, use present tense for future meaning. 'Unless you study' = if you don't study, the result won't happen.",
          },
          {
            q: "What completes this correctly? 'The problem ___ we discussed is now solved.'",
            opts: ["that", "which", "what"],
            ans: 0,
            exp: "'That' is used after 'the' in restrictive clauses. 'The problem that we discussed' specifies which problem (one specific one).",
          },
          {
            q: "Complete: 'She ___ have forgotten about the meeting.'",
            opts: ["must", "could", "might"],
            ans: 0,
            exp: "'Must have' shows strong deduction about the past. 'She must have forgotten' = I'm certain this is what happened based on evidence.",
          },
        ],
        advanced: [
          {
            q: "Which completes this best? 'Had he known of ___, he would have acted.'",
            opts: ["the consequences", "consequences", "of the consequences"],
            ans: 0,
            exp: "After 'known' (transitive), directly follow with the object. 'Had he known of the consequences' is the inverted conditional form.",
          },
          {
            q: "Select the right verb form: 'The data ___ comprehensive analysis.'",
            opts: ["warrant", "warrants", "have warranted"],
            ans: 1,
            exp: "In academic English, 'data' is often treated as singular. 'The data warrants' = this collection of information requires analysis.",
          },
          {
            q: "Which sentence has correct subject-verb agreement?",
            opts: [
              "Neither the teacher nor the students was ready",
              "Neither the teacher nor the students were ready",
              "Either the teacher or the students is ready",
            ],
            ans: 1,
            exp: "'Neither...nor' with plural noun takes plural verb. 'Neither...nor' agreement follows the nearer subject when mixed singular/plural.",
          },
          {
            q: "Complete correctly: 'Not only ___ talented, but also ___.'",
            opts: [
              "is he / dedicated",
              "he is / he is dedicated",
              "is he / he is dedicated",
            ],
            ans: 0,
            exp: "After 'not only', invert (is he). The second part parallels: 'but also dedicated' (no need to repeat the verb). Parallel structure is key.",
          },
          {
            q: "Which is correct? 'The statistics ___ misleading.'",
            opts: ["is", "are", "be"],
            ans: 1,
            exp: "'Statistics' is plural (multiple numbers). So use 'are'. Compare: 'The statistic is important' (singular) vs 'The statistics are misleading' (plural).",
          },
          {
            q: "Select the right form: 'Scarcely ___ I sat down, the phone rang.'",
            opts: ["hardly had", "had", "could"],
            ans: 1,
            exp: "'Scarcely' requires inversion: 'Scarcely had I sat down when the phone rang.' This shows the action only just happened before something else.",
          },
          {
            q: "Complete: 'What the report demonstrates ___ concerning.'",
            opts: ["is", "are", "being"],
            ans: 0,
            exp: "Noun clauses like 'what the report demonstrates' are singular. Use 'is'. The noun clause = 'the demonstration' (one thing).",
          },
          {
            q: "Which shows correct conditional? 'Were I in your position...'",
            opts: ["I will act", "I act", "I would act"],
            ans: 2,
            exp: "Subjunctive conditional (formal): 'Were I...I would act'. This is more formal than 'If I were,' and expresses an unlikely hypothetical.",
          },
          {
            q: "Select correct: 'The committee ___ divided over the proposal.'",
            opts: ["is", "are", "has been"],
            ans: 1,
            exp: "Collective nouns use plural when emphasizing individual members. 'The committee are divided' emphasizes individual committee members disagree.",
          },
          {
            q: "Complete correctly: 'The breadth and depth of ___.'",
            opts: [
              "the analysis requires careful review",
              "the analysis require careful review",
              "the analyses requires review",
            ],
            ans: 0,
            exp: "'Breadth and depth' = compound subject (two things) = plural verb. But a compound subject uses singular verb when closely linked as one concept.",
          },
        ],
      };

      let currentQuiz = [];
      let currentQuestion = 0;
      let score = 0;

      function startGrammarQuiz(level) {
        currentQuiz = quizzes[level];
        currentQuestion = 0;
        score = 0;
        document.getElementById("quizModal").style.display = "flex";
        document.getElementById("quizTitle").textContent =
          level.charAt(0).toUpperCase() + level.slice(1) + " Grammar Test";
        showQuestion();
      }

      function closeQuiz() {
        document.getElementById("quizModal").style.display = "none";
      }

      function showQuestion() {
        const q = currentQuiz[currentQuestion];
        let html = `<div style="margin-bottom: 20px;"><p style="font-weight: 600; margin-bottom: 15px; font-size: 1.1rem;">Q${currentQuestion + 1}/${currentQuiz.length}: ${q.q}</p>`;
        q.opts.forEach((opt, i) => {
          html += `<label style="display: block; margin: 10px 0; cursor: pointer; padding: 10px; border-radius: 6px; transition: all 0.3s;" onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='transparent'"><input type="radio" name="answer" value="${i}" style="margin-right: 10px;"> ${opt}</label>`;
        });
        html += `</div>`;
        document.getElementById("quizContent").innerHTML = html;

        document.getElementById("prevBtn").style.display =
          currentQuestion > 0 ? "block" : "none";
        document.getElementById("nextBtn").style.display =
          currentQuestion < currentQuiz.length - 1 ? "block" : "none";
        document.getElementById("submitBtn").style.display =
          currentQuestion === currentQuiz.length - 1 ? "block" : "none";
      }

      function nextQuestion() {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) {
          alert("Please select an answer");
          return;
        }
        if (parseInt(selected.value) === currentQuiz[currentQuestion].ans) {
          score++;
        }
        currentQuestion++;
        showQuestion();
      }

      function previousQuestion() {
        currentQuestion--;
        showQuestion();
      }

      function submitQuiz() {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) {
          alert("Please select an answer");
          return;
        }
        if (parseInt(selected.value) === currentQuiz[currentQuestion].ans) {
          score++;
        }
        const percent = Math.round((score / currentQuiz.length) * 100);
        alert(
          `Quiz Complete!\\nScore: ${score}/${currentQuiz.length} (${percent}%)\\n\\nGreat job! Review the lessons to improve.`,
        );
        closeQuiz();
      }

      // Carousel functionality for example boxes
      const carouselState = {
        conversation: 0,
        writing: 0,
        questions: 0,
        verbs: 0,
        tense: 0,
      };

      function carouselNext(category, total) {
        const current = carouselState[category];
        const next = (current + 1) % total;
        showCarouselItem(category, next, total);
      }

      function carouselPrev(category, total) {
        const current = carouselState[category];
        const prev = (current - 1 + total) % total;
        showCarouselItem(category, prev, total);
      }

      function showCarouselItem(category, index, total) {
        // Hide all items
        for (let i = 0; i < total; i++) {
          const elem = document.getElementById(`carousel-${category}-${i}`);
          if (elem) elem.style.display = "none";
        }
        // Show current item
        const elem = document.getElementById(`carousel-${category}-${index}`);
        if (elem) elem.style.display = "block";
        // Update counter
        const counter = document.getElementById(`carousel-${category}-counter`);
        if (counter) counter.textContent = `${index + 1} / ${total}`;
        // Update state
        carouselState[category] = index;
      }
    </script>

    <!-- FAQ Section - "what is grammar" keyword targeting (3k impressions) -->
    <section
      class="grammar-faq-section"
      style="padding: 60px 20px; background: white; margin: 40px 0"
    >
      <div class="container" style="max-width: 900px">
        <div style="text-align: center; margin-bottom: 40px">
          <h2
            style="
              font-size: 2.5rem;
              color: var(--text-primary);
              margin-bottom: 15px;
              font-weight: 700;
            "
          >
            Common Grammar Questions
          </h2>
          <p style="font-size: 1.1rem; color: var(--text-secondary)">
            Get answers to frequently asked questions about English grammar
          </p>
        </div>
        <div
          class="faq-grid"
          style="display: flex; flex-direction: column; gap: 15px"
        >
          <details
            style="
              background: #f7fafc;
              border: 1px solid #e2e8f0;
              border-radius: 8px;
              padding: 20px;
              cursor: pointer;
            "
          >
            <summary
              style="
                font-weight: 600;
                font-size: 1.1rem;
                color: var(--text-primary);
                outline: none;
              "
            >
              What is Grammar?
            </summary>
            <p
              style="
                margin-top: 15px;
                color: var(--text-secondary);
                line-height: 1.6;
              "
            >
              Grammar is the system and structure of a language. It consists of
              rules that govern how words are combined to form meaningful
              expressions. Grammar includes syntax (sentence structure),
              morphology (word forms), phonology (sounds), and semantics
              (meaning). Understanding grammar helps you communicate clearly,
              write correctly, and understand others more effectively.
            </p>
          </details>
          <details
            style="
              background: #f7fafc;
              border: 1px solid #e2e8f0;
              border-radius: 8px;
              padding: 20px;
              cursor: pointer;
            "
          >
            <summary
              style="
                font-weight: 600;
                font-size: 1.1rem;
                color: var(--text-primary);
                outline: none;
              "
            >
              Why is Grammar Important?
            </summary>
            <p
              style="
                margin-top: 15px;
                color: var(--text-secondary);
                line-height: 1.6;
              "
            >
              Good grammar is essential for effective communication. It helps
              you express your ideas clearly, makes your writing more
              professional, improves comprehension for your readers or
              listeners, and increases your credibility. In professional and
              academic settings, proper grammar is often expected and evaluated.
            </p>
          </details>
          <details
            style="
              background: #f7fafc;
              border: 1px solid #e2e8f0;
              border-radius: 8px;
              padding: 20px;
              cursor: pointer;
            "
          >
            <summary
              style="
                font-weight: 600;
                font-size: 1.1rem;
                color: var(--text-primary);
                outline: none;
              "
            >
              What are the Main Parts of Grammar?
            </summary>
            <p
              style="
                margin-top: 15px;
                color: var(--text-secondary);
                line-height: 1.6;
              "
            >
              <strong>Syntax:</strong> Rules for combining words into sentences.
              <strong>Morphology:</strong> Rules for word formation and
              modification. <strong>Parts of Speech:</strong> Categories of
              words (nouns, verbs, adjectives, etc.).
              <strong>Punctuation:</strong> Rules for using symbols to clarify
              meaning. <strong>Phonology:</strong> Rules governing speech
              sounds.
            </p>
          </details>
          <details
            style="
              background: #f7fafc;
              border: 1px solid #e2e8f0;
              border-radius: 8px;
              padding: 20px;
              cursor: pointer;
            "
          >
            <summary
              style="
                font-weight: 600;
                font-size: 1.1rem;
                color: var(--text-primary);
                outline: none;
              "
            >
              How Can I Improve My Grammar?
            </summary>
            <p
              style="
                margin-top: 15px;
                color: var(--text-secondary);
                line-height: 1.6;
              "
            >
              <strong>Read widely:</strong> Exposure to correct grammar improves
              your intuition. <strong>Practice writing:</strong> Apply rules
              consistently. <strong>Study grammar rules:</strong> Understand the
              why behind the rules. <strong>Get feedback:</strong> Have others
              review your work. <strong>Take tests:</strong> Assess your
              understanding and identify weak areas.
              <strong>Use grammar tools:</strong> Leverage tools like Grammarly
              for real-time corrections.
            </p>
          </details>
          <details
            style="
              background: #f7fafc;
              border: 1px solid #e2e8f0;
              border-radius: 8px;
              padding: 20px;
              cursor: pointer;
            "
          >
            <summary
              style="
                font-weight: 600;
                font-size: 1.1rem;
                color: var(--text-primary);
                outline: none;
              "
            >
              What's the Difference Between Grammar and Spelling?
            </summary>
            <p
              style="
                margin-top: 15px;
                color: var(--text-secondary);
                line-height: 1.6;
              "
            >
              <strong>Grammar:</strong> Rules for how words function and combine
              in sentences. <strong>Spelling:</strong> Rules for how individual
              words are written with correct letters. Both are important for
              effective writing. You can have perfect spelling but poor grammar,
              or vice versa.
            </p>
          </details>
        </div>
      </div>
    </section>

    <!-- English Grammar in Use Section - "english grammar in use" keyword targeting (5k impressions) -->
    <section
      class="grammar-in-use-section"
      style="
        padding: 60px 20px;
        background: linear-gradient(
          135deg,
          rgba(245, 101, 101, 0.1) 0%,
          rgba(255, 157, 77, 0.1) 100%
        );
        margin: 40px 0;
      "
    >
      <div class="container" style="max-width: 1100px">
        <div style="text-align: center; margin-bottom: 40px">
          <h2
            style="
              font-size: 2.5rem;
              color: var(--text-primary);
              margin-bottom: 15px;
              font-weight: 700;
            "
          >
            English Grammar in Use: Real-World Examples
          </h2>
          <p
            style="
              font-size: 1.1rem;
              color: var(--text-secondary);
              max-width: 700px;
              margin: 0 auto;
            "
          >
            See common grammar mistakes and their corrections. Real examples
            from everyday English.
          </p>
        </div>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
          "
        >
          <div
            style="
              background: white;
              padding: 30px;
              border-radius: 12px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            "
          >
            <h3 style="color: #f56565; margin-top: 0; margin-bottom: 20px">
              <i class="fas fa-comment"></i> Conversation
            </h3>
            <div id="carousel-conversation-0" style="margin-bottom: 20px">
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"I is going to the store"</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"I am going to the store"</em>
              </div>
            </div>
            <div
              id="carousel-conversation-1"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"They doesn't like coffee"</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"They don't like coffee"</em>
              </div>
            </div>
            <div
              id="carousel-conversation-2"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"Has you finished your homework?"</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"Have you finished your homework?"</em>
              </div>
            </div>
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                font-size: 0.9rem;
              "
            >
              <button
                onclick="carouselPrev('conversation', 3)"
                style="
                  background: #f56565;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#e53e3e'"
                onmouseout="this.style.background = '#f56565'"
              >
                <i class="fas fa-chevron-left"></i> Previous
              </button>
              <span
                id="carousel-conversation-counter"
                style="align-self: center"
                >1 / 3</span
              >
              <button
                onclick="carouselNext('conversation', 3)"
                style="
                  background: #f56565;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#e53e3e'"
                onmouseout="this.style.background = '#f56565'"
              >
                Next <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
          <div
            style="
              background: white;
              padding: 30px;
              border-radius: 12px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            "
          >
            <script
              async
              src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
              crossorigin="anonymous"
            ></script>
            <!-- Grammar (in use) box -->
            <ins
              class="adsbygoogle"
              style="display: block"
              data-ad-client="ca-pub-2456627863532019"
              data-ad-slot="2122281477"
              data-ad-format="auto"
              data-full-width-responsive="true"
            ></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
          </div>
          <div
            style="
              background: white;
              padding: 30px;
              border-radius: 12px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            "
          >
            <h3 style="color: #9f7aea; margin-top: 0; margin-bottom: 20px">
              <i class="fas fa-pen"></i> Writing
            </h3>
            <div id="carousel-writing-0" style="margin-bottom: 20px">
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"She have three cats."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"She has three cats."</em>
              </div>
            </div>
            <div
              id="carousel-writing-1"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"The books is on the table."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"The books are on the table."</em>
              </div>
            </div>
            <div
              id="carousel-writing-2"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"They goes to the beach often."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"They go to the beach often."</em>
              </div>
            </div>
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                font-size: 0.9rem;
              "
            >
              <button
                onclick="carouselPrev('writing', 3)"
                style="
                  background: #9f7aea;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#805ad5'"
                onmouseout="this.style.background = '#9f7aea'"
              >
                <i class="fas fa-chevron-left"></i> Previous
              </button>
              <span id="carousel-writing-counter" style="align-self: center"
                >1 / 3</span
              >
              <button
                onclick="carouselNext('writing', 3)"
                style="
                  background: #9f7aea;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#805ad5'"
                onmouseout="this.style.background = '#9f7aea'"
              >
                Next <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
          <div
            style="
              background: white;
              padding: 30px;
              border-radius: 12px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            "
          >
            <h3 style="color: #38a169; margin-top: 0; margin-bottom: 20px">
              <i class="fas fa-globe"></i> Questions
            </h3>
            <div id="carousel-questions-0" style="margin-bottom: 20px">
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"You are going where?"</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"Where are you going?"</em>
              </div>
            </div>
            <div
              id="carousel-questions-1"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"What your name is?"</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"What is your name?"</em>
              </div>
            </div>
            <div
              id="carousel-questions-2"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"How old they are?"</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"How old are they?"</em>
              </div>
            </div>
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                font-size: 0.9rem;
              "
            >
              <button
                onclick="carouselPrev('questions', 3)"
                style="
                  background: #38a169;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#22543d'"
                onmouseout="this.style.background = '#38a169'"
              >
                <i class="fas fa-chevron-left"></i> Previous
              </button>
              <span id="carousel-questions-counter" style="align-self: center"
                >1 / 3</span
              >
              <button
                onclick="carouselNext('questions', 3)"
                style="
                  background: #38a169;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#22543d'"
                onmouseout="this.style.background = '#38a169'"
              >
                Next <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
          <div
            style="
              background: white;
              padding: 30px;
              border-radius: 12px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            "
          >
            <h3 style="color: #3b82f6; margin-top: 0; margin-bottom: 20px">
              <i class="fas fa-star"></i> Common Verb Mistakes
            </h3>
            <div id="carousel-verbs-0" style="margin-bottom: 20px">
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"I never goes to that place."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"I never go to that place."</em>
              </div>
            </div>
            <div
              id="carousel-verbs-1"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"She don't want to come."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"She doesn't want to come."</em>
              </div>
            </div>
            <div
              id="carousel-verbs-2"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"They has been working all day."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"They have been working all day."</em>
              </div>
            </div>
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                font-size: 0.9rem;
              "
            >
              <button
                onclick="carouselPrev('verbs', 3)"
                style="
                  background: #3b82f6;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#2c5aa0'"
                onmouseout="this.style.background = '#3b82f6'"
              >
                <i class="fas fa-chevron-left"></i> Previous
              </button>
              <span id="carousel-verbs-counter" style="align-self: center"
                >1 / 3</span
              >
              <button
                onclick="carouselNext('verbs', 3)"
                style="
                  background: #3b82f6;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#2c5aa0'"
                onmouseout="this.style.background = '#3b82f6'"
              >
                Next <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
          <div
            style="
              background: white;
              padding: 30px;
              border-radius: 12px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            "
          >
            <h3 style="color: #ed64a6; margin-top: 0; margin-bottom: 20px">
              <i class="fas fa-check"></i> Tense Usage
            </h3>
            <div id="carousel-tense-0" style="margin-bottom: 20px">
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"I finish my homework yesterday. I am tired now."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"I finished my homework yesterday. I am tired now."</em>
              </div>
            </div>
            <div
              id="carousel-tense-1"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"She is studying here since 2020."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"She has been studying here since 2020."</em>
              </div>
            </div>
            <div
              id="carousel-tense-2"
              style="margin-bottom: 20px; display: none"
            >
              <div
                style="
                  background: #fee;
                  padding: 12px;
                  border-radius: 6px;
                  margin-bottom: 12px;
                "
              >
                <strong style="color: #c53030"> Wrong:</strong><br />
                <em>"When I arrived, they eat dinner."</em>
              </div>
              <div style="background: #efe; padding: 12px; border-radius: 6px">
                <strong style="color: #22543d"> Correct:</strong><br />
                <em>"When I arrived, they were eating dinner."</em>
              </div>
            </div>
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                font-size: 0.9rem;
              "
            >
              <button
                onclick="carouselPrev('tense', 3)"
                style="
                  background: #ed64a6;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#d55a8e'"
                onmouseout="this.style.background = '#ed64a6'"
              >
                <i class="fas fa-chevron-left"></i> Previous
              </button>
              <span id="carousel-tense-counter" style="align-self: center"
                >1 / 3</span
              >
              <button
                onclick="carouselNext('tense', 3)"
                style="
                  background: #ed64a6;
                  color: white;
                  border: none;
                  padding: 8px 16px;
                  border-radius: 6px;
                  cursor: pointer;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background = '#d55a8e'"
                onmouseout="this.style.background = '#ed64a6'"
              >
                Next <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Ad after main content -->
    <!-- Related Links Section for SEO -->
    <section class="related-resources-section">
      <div class="related-resources-header">
        <div class="related-resources-icon">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
            />
            <path
              d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
            />
          </svg>
        </div>
        <h3>Related Resources</h3>
        <p>Continue your learning journey with these helpful guides</p>
      </div>
      <div class="related-resources-grid">
        <a href="../english/vocabguide.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-vocab">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
              <path
                d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"
              />
              <path d="M12 6v7" />
              <path d="M8 9h8" />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Vocabulary Guide</h4>
            <p>
              Build your word knowledge with curated word lists and activities
            </p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
        <a href="../english/business.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-business">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2" />
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Business English</h4>
            <p>Master professional communication for workplace success</p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
        <a href="../english/test.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-test">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M9 11l3 3L22 4" />
              <path
                d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"
              />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Test Preparation</h4>
            <p>Ace your exams with targeted practice and expert tips</p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
        <a href="../english/speakinglesson.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-speaking">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" />
              <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
              <line x1="12" y1="19" x2="12" y2="23" />
              <line x1="8" y1="23" x2="16" y2="23" />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Speaking Practice</h4>
            <p>Improve pronunciation and fluency with guided exercises</p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
        <a href="../english/idioms.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-idioms">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
              />
              <path d="M8 9h8" />
              <path d="M8 13h4" />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Idioms & Phrases</h4>
            <p>Learn common expressions to sound more natural</p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
        <a href="../games/games.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-games">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="2" y="6" width="20" height="12" rx="2" />
              <line x1="6" y1="12" x2="6" y2="12" />
              <line x1="10" y1="12" x2="10" y2="12" />
              <circle cx="17" cy="10" r="1" />
              <circle cx="17" cy="14" r="1" />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Games & Activities</h4>
            <p>Make learning fun with interactive games and challenges</p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
        <a href="../english/writingf.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-writing">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Writing Guide</h4>
            <p>Develop clear and effective writing skills</p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
        <a href="../english/phonics.html" class="related-resource-card">
          <div class="resource-card-icon resource-icon-phonics">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M3 18v-6a9 9 0 0 1 18 0v6" />
              <path
                d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3z"
              />
              <path
                d="M3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"
              />
            </svg>
          </div>
          <div class="resource-card-content">
            <h4>Phonics & Pronunciation</h4>
            <p>Master English sounds and improve your accent</p>
          </div>
          <div class="resource-card-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </div>
        </a>
      </div>
    </section>

    <style>
      .related-resources-section {
        margin: 3rem 0;
        padding: 2.5rem;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border-radius: 24px;
        position: relative;
        overflow: hidden;
      }

      .related-resources-section::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 200px;
        height: 200px;
        background: radial-gradient(
          circle,
          rgba(70, 187, 229, 0.15) 0%,
          transparent 70%
        );
        border-radius: 50%;
      }

      .related-resources-header {
        text-align: center;
        margin-bottom: 2rem;
        position: relative;
        z-index: 1;
      }

      .related-resources-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #46bbe5, #3b82f6);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        box-shadow: 0 8px 24px rgba(70, 187, 229, 0.3);
      }

      .related-resources-icon svg {
        width: 28px;
        height: 28px;
        stroke: white;
      }

      .related-resources-header h3 {
        font-size: 1.75rem;
        font-weight: 700;
        color: #1e293b;
        margin: 0 0 0.5rem 0;
        font-family: "Poppins", sans-serif;
      }

      .related-resources-header p {
        color: #64748b;
        font-size: 1rem;
        margin: 0;
      }

      .related-resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        position: relative;
        z-index: 1;
      }

      .related-resource-card {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1.25rem 1.5rem;
        background: white;
        border-radius: 16px;
        text-decoration: none;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border: 1px solid rgba(255, 255, 255, 0.8);
        position: relative;
        overflow: hidden;
      }

      .related-resource-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: linear-gradient(
          180deg,
          var(--card-accent, #46bbe5),
          var(--card-accent-dark, #3b82f6)
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .related-resource-card:hover {
        transform: translateY(-4px) translateX(4px);
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
      }

      .related-resource-card:hover::before {
        opacity: 1;
      }

      .resource-card-icon {
        width: 52px;
        height: 52px;
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        transition: transform 0.3s ease;
      }

      .related-resource-card:hover .resource-card-icon {
        transform: scale(1.1) rotate(-5deg);
      }

      .resource-card-icon svg {
        width: 24px;
        height: 24px;
        stroke: white;
      }

      .resource-icon-vocab {
        background: linear-gradient(135deg, #10b981, #059669);
        box-shadow: 0 6px 16px rgba(16, 185, 129, 0.3);
        --card-accent: #10b981;
        --card-accent-dark: #059669;
      }

      .resource-icon-business {
        background: linear-gradient(135deg, #8b5cf6, #6d28d9);
        box-shadow: 0 6px 16px rgba(139, 92, 246, 0.3);
        --card-accent: #8b5cf6;
        --card-accent-dark: #6d28d9;
      }

      .resource-icon-test {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        box-shadow: 0 6px 16px rgba(245, 158, 11, 0.3);
        --card-accent: #f59e0b;
        --card-accent-dark: #d97706;
      }

      .resource-icon-speaking {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);
        --card-accent: #3b82f6;
        --card-accent-dark: #1d4ed8;
      }

      .resource-icon-idioms {
        background: linear-gradient(135deg, #ec4899, #be185d);
        box-shadow: 0 6px 16px rgba(236, 72, 153, 0.3);
        --card-accent: #ec4899;
        --card-accent-dark: #be185d;
      }

      .resource-icon-games {
        background: linear-gradient(135deg, #14b8a6, #0d9488);
        box-shadow: 0 6px 16px rgba(20, 184, 166, 0.3);
        --card-accent: #14b8a6;
        --card-accent-dark: #0d9488;
      }

      .resource-icon-writing {
        background: linear-gradient(135deg, #6366f1, #4f46e5);
        box-shadow: 0 6px 16px rgba(99, 102, 241, 0.3);
        --card-accent: #6366f1;
        --card-accent-dark: #4f46e5;
      }

      .resource-icon-phonics {
        background: linear-gradient(135deg, #ef4444, #dc2626);
        box-shadow: 0 6px 16px rgba(239, 68, 68, 0.3);
        --card-accent: #ef4444;
        --card-accent-dark: #dc2626;
      }

      .resource-card-content {
        flex: 1;
        min-width: 0;
      }

      .resource-card-content h4 {
        font-size: 1.1rem;
        font-weight: 600;
        color: #1e293b;
        margin: 0 0 0.25rem 0;
        font-family: "Poppins", sans-serif;
      }

      .resource-card-content p {
        font-size: 0.875rem;
        color: #64748b;
        margin: 0;
        line-height: 1.4;
      }

      .resource-card-arrow {
        width: 32px;
        height: 32px;
        background: #f1f5f9;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        transition: all 0.3s ease;
      }

      .resource-card-arrow svg {
        width: 16px;
        height: 16px;
        stroke: #94a3b8;
        transition: all 0.3s ease;
      }

      .related-resource-card:hover .resource-card-arrow {
        background: linear-gradient(135deg, #46bbe5, #3b82f6);
        transform: translateX(4px);
      }

      .related-resource-card:hover .resource-card-arrow svg {
        stroke: white;
      }

      @media (max-width: 768px) {
        .related-resources-section {
          padding: 2rem 1.5rem;
          margin: 2rem 0;
          border-radius: 20px;
        }

        .related-resources-header h3 {
          font-size: 1.5rem;
        }

        .related-resources-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .related-resource-card {
          padding: 1rem 1.25rem;
        }

        .resource-card-icon {
          width: 44px;
          height: 44px;
          border-radius: 12px;
        }

        .resource-card-icon svg {
          width: 20px;
          height: 20px;
        }
      }
    </style>

    <!-- Footer Ad -->
    <div style="max-width: 1200px; margin: 2rem auto; padding: 0 1rem">
      <script
        async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
        crossorigin="anonymous"
      ></script>
      <ins
        class="adsbygoogle"
        style="display: block"
        data-ad-format="autorelaxed"
        data-ad-client="ca-pub-2456627863532019"
        data-ad-slot="4788534340"
      ></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
    <footer>
      <div class="container">
        <div class="footer-content">
          <!-- Brand Section -->
          <div class="footer-section footer-brand">
            <div class="brand-header">
              <img
                src="../images/1.png"
                alt="ESL Fun Online"
                class="footer-logo"
              />
              <h3>ESL Fun Online</h3>
            </div>
            <p>
              Transform your English and coding skills with our premium
              interactive resources.
            </p>
          </div>

          <!-- English Learning Section -->
          <div class="footer-section">
            <h3><i class="fas fa-graduation-cap"></i> English</h3>
            <ul>
              <li>
                <a href="../english/grammar.html"
                  ><i class="fas fa-spell-check"></i><span>Grammar</span></a
                >
              </li>
              <li>
                <a href="../english/vocabguide.html"
                  ><i class="fas fa-book-open"></i><span>Vocabulary</span></a
                >
              </li>
              <li>
                <a href="../english/business.html"
                  ><i class="fas fa-handshake"></i><span>Business</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Programming Section -->
          <div class="footer-section">
            <h3><i class="fas fa-code"></i> Coding</h3>
            <ul>
              <li>
                <a href="../coding/computerbasics.html"
                  ><i class="fas fa-desktop"></i><span>Basics</span></a
                >
              </li>
              <li>
                <a href="../coding/ai.html"
                  ><i class="fas fa-robot"></i><span>AI</span></a
                >
              </li>
              <li>
                <a href="../coding/codingresources.html"
                  ><i class="fas fa-terminal"></i><span>Resources</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Quick Links Section -->
          <div class="footer-section">
            <h3><i class="fas fa-link"></i> Quick Links</h3>
            <ul>
              <li>
                <a href="lessons.html"
                  ><i class="fas fa-chalkboard-teacher"></i
                  ><span>Lessons</span></a
                >
              </li>
              <li>
                <a href="../games/games.html"
                  ><i class="fas fa-gamepad"></i><span>Games</span></a
                >
              </li>
              <li>
                <a href="../tools/tools.html"
                  ><i class="fas fa-tools"></i><span>Tools</span></a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="footer-bottom-center">
            <div class="footer-links">
              <a href="privacy.html"
                ><i class="fas fa-shield-alt"></i>Privacy</a
              >
              <a href="terms.html"><i class="fas fa-file-contract"></i>Terms</a>
              <a href="cookies.html"
                ><i class="fas fa-cookie-bite"></i>Cookies</a
              >
            </div>
          </div>

          <div class="footer-bottom-left">
            <p>
              &copy; 2025 <strong>ESL Fun Online</strong>. All rights reserved.
            </p>
            <p class="footer-subtitle">Empowering learners worldwide</p>
          </div>

          <div class="footer-bottom-right">
            <div class="footer-badges">
              <div class="badge">
                <i class="fas fa-award"></i><span>Certified</span>
              </div>
              <div class="badge">
                <i class="fas fa-lock"></i><span>Secure</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" id="backToTop">
      <i class="fas fa-arrow-up"></i>
    </a>

    <!-- JavaScript -->
    <script>
      // GRAMMAR SEARCH AND FILTER FUNCTIONALITY
      (function () {
        const searchInput = document.getElementById("grammarSearch");
        const filterButtons = document.querySelectorAll(".filter-btn");
        const cards = document.querySelectorAll(".rule-card");
        const searchClearBtn = document.getElementById("searchClearBtn");
        const searchResultsInfo = document.getElementById("searchResultsInfo");
        const resultCount = document.getElementById("resultCount");
        const resetSearchBtn = document.getElementById("resetSearchBtn");

        let currentDifficultyFilter = "all";
        let currentSearchText = "";

        function filterCards() {
          let visibleCount = 0;

          cards.forEach((card) => {
            const difficulty = card.getAttribute("data-difficulty");
            const searchText = card.getAttribute("data-search-text") || "";
            const cardTitle = card.getAttribute("data-category") || "";

            // Check difficulty filter
            const difficultyMatch =
              currentDifficultyFilter === "all" ||
              difficulty === currentDifficultyFilter;

            // Check search text
            const combinedText = (searchText + " " + cardTitle).toLowerCase();
            const searchTerms = currentSearchText
              .toLowerCase()
              .split(" ")
              .filter((term) => term.length > 0);
            const searchMatch =
              searchTerms.length === 0 ||
              searchTerms.some((term) => combinedText.includes(term));

            const shouldDisplay = difficultyMatch && searchMatch;

            if (shouldDisplay) {
              card.style.display = "";
              card.classList.add("fade-in");
              visibleCount++;
            } else {
              card.style.display = "none";
              card.classList.remove("fade-in");
            }
          });

          // Show/hide results info
          if (currentSearchText || currentDifficultyFilter !== "all") {
            searchResultsInfo.style.display = "flex";
            resultCount.textContent = visibleCount;
          } else {
            searchResultsInfo.style.display = "none";
          }
        }

        // Search input handler
        if (searchInput) {
          searchInput.addEventListener("input", (e) => {
            currentSearchText = e.target.value;
            searchClearBtn.style.display = currentSearchText ? "flex" : "none";
            filterCards();
          });
        }

        // Clear button handler
        if (searchClearBtn) {
          searchClearBtn.addEventListener("click", () => {
            searchInput.value = "";
            currentSearchText = "";
            searchClearBtn.style.display = "none";
            filterCards();
            searchInput.focus();
          });
        }

        // Filter buttons handler
        filterButtons.forEach((button) => {
          button.addEventListener("click", () => {
            filterButtons.forEach((btn) => btn.classList.remove("active"));
            filterButtons.forEach((btn) =>
              btn.setAttribute("aria-pressed", "false"),
            );
            button.classList.add("active");
            button.setAttribute("aria-pressed", "true");
            currentDifficultyFilter = button.getAttribute("data-filter");
            filterCards();
          });
        });

        // Reset button handler
        if (resetSearchBtn) {
          resetSearchBtn.addEventListener("click", () => {
            searchInput.value = "";
            currentSearchText = "";
            currentDifficultyFilter = "all";
            searchClearBtn.style.display = "none";
            filterButtons.forEach((btn) => btn.classList.remove("active"));
            filterButtons.forEach((btn) =>
              btn.setAttribute("aria-pressed", "false"),
            );
            filterButtons[0].classList.add("active");
            filterButtons[0].setAttribute("aria-pressed", "true");
            filterCards();
          });
        }

        // Add fade-in animation
        const style = document.createElement("style");
        style.textContent = `
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .fade-in {
            animation: fadeIn 0.3s ease forwards;
          }
        `;
        document.head.appendChild(style);

        // Card action button handlers
        const cardActionBtns = document.querySelectorAll(".card-action-btn");
        cardActionBtns.forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.preventDefault();
            const link = btn.closest(".rule-card").querySelector(".topic-link");
            if (link) {
              window.location.href = link.href;
            }
          });
        });
      })();
    </script>

    <script>
      // MOBILE MENU - Removed to prevent conflicts with navigation.js
      // Theme toggle - Removed to prevent conflicts with navigation.js

      // Page-specific functionality only

      // Back to top button
      const backToTop = document.getElementById("backToTop");

      function toggleBackToTop() {
        if (window.pageYOffset > 300) {
          backToTop.classList.add("show");
        } else {
          backToTop.classList.remove("show");
        }
      }

      backToTop.addEventListener("click", (e) => {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });

      // Exercise functionality
      function checkAnswer(questionNumber, correctAnswer) {
        const question = document.querySelector(
          `input[name="q${questionNumber}"]:checked`,
        );
        const options = document.querySelectorAll(
          `input[name="q${questionNumber}"]`,
        );

        if (!question) {
          alert("Please select an answer first!");
          return;
        }

        options.forEach((option) => {
          const label = option.parentElement;
          label.classList.remove("correct", "incorrect");

          if (option.value === correctAnswer) {
            label.classList.add("correct");
          } else if (option.checked) {
            label.classList.add("incorrect");
          }
        });

        if (question.value === correctAnswer) {
          alert("Correct! Well done!");
        } else {
          alert("Incorrect. Try again!");
        }
      }

      // Multiple choice exercise functionality
      function checkMultipleAnswers() {
        const answers = {
          q1: "a", // "She works at the hospital every day."
          q2: "b", // "You should see a doctor."
          q3: "a", // "The book which I bought yesterday is interesting."
        };

        let allCorrect = true;
        let score = 0;
        let totalQuestions = Object.keys(answers).length;

        Object.keys(answers).forEach((questionName) => {
          const selected = document.querySelector(
            `input[name="${questionName}"]:checked`,
          );
          const options = document.querySelectorAll(
            `input[name="${questionName}"]`,
          );

          if (!selected) {
            alert(`Please answer question ${questionName.slice(-1)}!`);
            allCorrect = false;
            return;
          }

          options.forEach((option) => {
            const label = option.parentElement;
            label.classList.remove("correct", "incorrect");

            if (option.value === answers[questionName]) {
              label.classList.add("correct");
            } else if (option.checked) {
              label.classList.add("incorrect");
            }
          });

          if (selected.value === answers[questionName]) {
            score++;
          } else {
            allCorrect = false;
          }
        });

        if (allCorrect) {
          alert(`Perfect! You got all ${totalQuestions} questions correct! `);
        } else {
          alert(
            `You scored ${score}/${totalQuestions}. Review the incorrect answers and try again!`,
          );
        }
      }

      // Throttle function for performance
      function throttle(func, limit) {
        let inThrottle;
        return function () {
          const args = arguments;
          const context = this;
          if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => (inThrottle = false), limit);
          }
        };
      }

      // Event listeners with throttling
      const throttledScrollHandler = throttle(() => {
        toggleBackToTop();
      }, 100);

      if (window.addEventListener) {
        window.addEventListener("scroll", throttledScrollHandler);
      } else if (window.attachEvent) {
        window.attachEvent("onscroll", throttledScrollHandler);
      }

      // Initial check
      toggleBackToTop();

      // Add passive event listeners for better scroll performance
      if (document.addEventListener) {
        document.addEventListener("touchstart", function () {}, {
          passive: true,
        });
        document.addEventListener("touchmove", function () {}, {
          passive: true,
        });

        // Smooth scroll polyfill check
        if (!("scrollBehavior" in document.documentElement.style)) {
          const links = document.querySelectorAll('a[href^="#"]');
          links.forEach((link) => {
            link.addEventListener("click", function (e) {
              e.preventDefault();
              const targetId = this.getAttribute("href").substring(1);
              const targetElement = document.getElementById(targetId);
              if (targetElement) {
                const topOffset = targetElement.offsetTop;
                window.scrollTo({
                  top: topOffset,
                  behavior: "smooth",
                });
              }
            });
          });
        }

        // Handle mobile menu items
        const mobileMenuItems = document.querySelectorAll(".mobile-menu a");
        if (mobileMenuItems) {
          mobileMenuItems.forEach((item) => {
            item.addEventListener("click", function () {
              const mobileMenu = document.querySelector(".mobile-menu");
              if (mobileMenu && mobileMenu.classList.contains("open")) {
                mobileMenu.classList.remove("open");
                if (document.body.classList.contains("mobile-menu-open")) {
                  document.body.classList.remove("mobile-menu-open");
                }
              }
            });
          });
        }
      }

      // Hero Button Handlers
      const learnBtn = document.getElementById("learnBtn");
      const testBtn = document.getElementById("testBtn");

      if (learnBtn) {
        learnBtn.addEventListener("click", function () {
          const grammarLadder = document.getElementById("grammarLadder");
          if (grammarLadder) {
            grammarLadder.scrollIntoView({ behavior: "smooth" });
          }
        });
      }

      if (testBtn) {
        testBtn.addEventListener("click", function () {
          const grammarTests = document.getElementById("grammarTests");
          if (grammarTests) {
            grammarTests.scrollIntoView({ behavior: "smooth" });
          }
        });
      }
    </script>

    <!-- Mobile Menu Script -->
    <script src="../js/mobile-menu.js"></script>

    <!-- Main JavaScript -->
    <script src="../js/navigation.js"></script>
  </body>
</html>
