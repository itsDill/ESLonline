<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9G9RD6BHLN");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Interactive digital and analog clock learning tool for ESL students. Learn time-telling, practice clock reading, and master time vocabulary in English."
    />
    <meta
      name="keywords"
      content="ESL clock, time learning, digital clock, analog clock, telling time, time vocabulary, ESL time, clock practice"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta
      property="og:title"
      content="Interactive ESL Clock Learning Tool | ESL Fun Online"
    />
    <meta
      property="og:description"
      content="Learn to tell time in English with our interactive digital and analog clock tool. Perfect for ESL students and time vocabulary practice."
    />
    <meta property="og:image" content="https://eslfunonline.com/images/1.png" />
    <meta
      property="og:url"
      content="https://eslfunonline.com/tools/time.html"
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Interactive ESL Clock Learning Tool" />
    <meta
      name="twitter:description"
      content="Learn time-telling in English with interactive clock practice"
    />
    <meta
      name="twitter:image"
      content="https://eslfunonline.com/images/1.png"
    />
    <link rel="canonical" href="https://eslfunonline.com/tools/time.html" />
    <title>
      Interactive ESL Clock Learning Tool | Time Practice & Vocabulary
    </title>
        <!-- Favicon and Icons - Optimized for Google Search -->
    <link rel="icon" href="../favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="../images/favicon-48x48.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/1.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="../images/favicon-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="../images/favicon-512x512.png" />

    <script>
      let currentTime = { hours: 12, minutes: 0, seconds: 0 };
      let isDragging = false;
      let dragHand = null;
      let isRealTime = false;
      let quizMode = false;
      let difficulty = "easy";
      let stats = {
        correct: 0,
        total: 0,
        streak: 0,
        bestStreak: 0,
      };

      const clock = document.getElementById("clock");
      const hourHand = document.getElementById("hourHand");
      const minuteHand = document.getElementById("minuteHand");
      const secondHand = document.getElementById("secondHand");
      const timeDisplay = document.getElementById("timeDisplay");

      // Load stats from localStorage
      function loadStats() {
        const savedStats = localStorage.getItem("clockStats");
        if (savedStats) {
          stats = { ...stats, ...JSON.parse(savedStats) };
          updateStatsDisplay();
        }
      }

      // Save stats to localStorage
      function saveStats() {
        localStorage.setItem("clockStats", JSON.stringify(stats));
      }

      // Update stats display
      function updateStatsDisplay() {
        document.getElementById("correctCount").textContent = stats.correct;
        document.getElementById("totalCount").textContent = stats.total;
        document.getElementById("accuracy").textContent =
          stats.total > 0
            ? Math.round((stats.correct / stats.total) * 100) + "%"
            : "0%";
        document.getElementById("streak").textContent = stats.streak;
      }

      // Create clock numbers
      function createNumbers() {
        for (let i = 1; i <= 12; i++) {
          const number = document.createElement("div");
          number.className = "number";
          number.textContent = i;
          number.id = `number${i}`;

          const angle = (i - 3) * 30; // Start from 3 o'clock position
          const x = 50 + 40 * Math.cos((angle * Math.PI) / 180);
          const y = 50 + 40 * Math.sin((angle * Math.PI) / 180);

          number.style.left = x + "%";
          number.style.top = y + "%";
          clock.appendChild(number);
        }
      }

      // Update clock hands
      function updateClock() {
        const hourAngle =
          (currentTime.hours % 12) * 30 + currentTime.minutes * 0.5;
        const minuteAngle = currentTime.minutes * 6 + currentTime.seconds * 0.1;
        const secondAngle = currentTime.seconds * 6;

        hourHand.style.transform = `rotate(${hourAngle}deg)`;
        minuteHand.style.transform = `rotate(${minuteAngle}deg)`;
        secondHand.style.transform = `rotate(${secondAngle}deg)`;

        const timeString = `${currentTime.hours
          .toString()
          .padStart(2, "0")}:${currentTime.minutes
          .toString()
          .padStart(2, "0")}:${currentTime.seconds
          .toString()
          .padStart(2, "0")}`;
        timeDisplay.textContent = timeString;
      }

      // Dragging functionality
      function makeDraggable() {
        [hourHand, minuteHand].forEach((hand) => {
          hand.addEventListener("mousedown", startDrag);
          hand.addEventListener("touchstart", startDrag);
        });

        document.addEventListener("mousemove", drag);
        document.addEventListener("touchmove", drag);
        document.addEventListener("mouseup", endDrag);
        document.addEventListener("touchend", endDrag);
      }

      function startDrag(e) {
        e.preventDefault();
        isDragging = true;
        dragHand = e.target;
        dragHand.style.cursor = "grabbing";
      }

      function drag(e) {
        if (!isDragging || !dragHand) return;

        const rect = clock.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;

        const clientX = e.clientX || (e.touches && e.touches[0].clientX);
        const clientY = e.clientY || (e.touches && e.touches[0].clientY);

        const x = clientX - centerX;
        const y = clientY - centerY;

        let angle = Math.atan2(y, x) * (180 / Math.PI) + 90;
        if (angle < 0) angle += 360;

        if (dragHand === hourHand) {
          currentTime.hours = Math.round(angle / 30) % 12;
          if (currentTime.hours === 0) currentTime.hours = 12;
        } else if (dragHand === minuteHand) {
          currentTime.minutes = Math.round(angle / 6) % 60;
        }

        updateClock();
      }

      function endDrag() {
        if (dragHand) {
          dragHand.style.cursor = "grab";
        }
        isDragging = false;
        dragHand = null;
      }

      // Style functions
      function toggleClockStyle(style) {
        clock.classList.toggle(style);
      }

      function toggleNumbers(style) {
        const numbers = document.querySelectorAll(".number");
        numbers.forEach((num) => {
          if (style === "hidden") {
            num.style.opacity = num.style.opacity === "0" ? "1" : "0";
          } else if (style === "emoji") {
            const emojis = [
              "üïê",
              "üïë",
              "üïí",
              "üïì",
              "üïî",
              "üïï",
              "üïñ",
              "üïó",
              "üïò",
              "üïô",
              "üïö",
              "üïõ",
            ];
            num.classList.toggle("emoji");
            if (num.classList.contains("emoji")) {
              const numValue = parseInt(num.textContent);
              num.setAttribute("data-emoji", emojis[numValue - 1]);
            }
          } else {
            num.classList.toggle(style);
          }
        });
      }

      function toggleHandStyle(style) {
        [hourHand, minuteHand, secondHand].forEach((hand) => {
          hand.classList.toggle(style);
        });
      }

      function changeColor(color) {
        document.documentElement.style.setProperty("--accent-color", color);
        hourHand.style.background = color;
        document.getElementById("centerDot").style.background = color;
      }

      // Enhanced random time generator based on difficulty
      function randomTime() {
        switch (difficulty) {
          case "easy":
            // Only o'clock, half past, quarter past, quarter to
            const easyTimes = [
              [1, 0],
              [2, 0],
              [3, 0],
              [4, 0],
              [5, 0],
              [6, 0],
              [7, 0],
              [8, 0],
              [9, 0],
              [10, 0],
              [11, 0],
              [12, 0],
              [1, 30],
              [2, 30],
              [3, 30],
              [4, 30],
              [5, 30],
              [6, 30],
              [7, 30],
              [8, 30],
              [9, 30],
              [10, 30],
              [11, 30],
              [12, 30],
              [1, 15],
              [2, 15],
              [3, 15],
              [6, 15],
              [9, 15],
              [12, 15],
              [3, 45],
              [6, 45],
              [9, 45],
              [12, 45],
            ];
            const easyTime =
              easyTimes[Math.floor(Math.random() * easyTimes.length)];
            currentTime.hours = easyTime[0];
            currentTime.minutes = easyTime[1];
            break;
          case "medium":
            // 5-minute intervals
            currentTime.hours = Math.floor(Math.random() * 12) + 1;
            currentTime.minutes = Math.floor(Math.random() * 12) * 5;
            break;
          case "hard":
            // Any time
            currentTime.hours = Math.floor(Math.random() * 12) + 1;
            currentTime.minutes = Math.floor(Math.random() * 60);
            break;
        }
        currentTime.seconds = 0;
        updateClock();
        createFloatingEmoji("üé≤");
      }

      // Set difficulty level
      function setDifficulty(level, e) {
        difficulty = level;
        document
          .querySelectorAll(".difficulty-btn")
          .forEach((btn) => btn.classList.remove("active"));
        if (e && e.target) {
          e.target.classList.add("active");
        }

        // Update quiz question based on difficulty
        const questionTexts = {
          easy: "What time is it? (Try: 3:00, 6:30, 9:15, 12:45)",
          medium: "What time is it? (Try: 2:25, 7:40, 11:55)",
          hard: "What time is it? (Try: 4:23, 8:07, 10:42)",
        };

        if (quizMode) {
          document.getElementById("quizQuestion").textContent =
            questionTexts[level];
        }
      }

      function setTime(hours, minutes) {
        currentTime.hours = hours;
        currentTime.minutes = minutes;
        currentTime.seconds = 0;
        updateClock();
      }

      function playTickSound() {
        // Create tick sound using Web Audio API
        const audioContext = new (window.AudioContext ||
          window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.value = 800;
        oscillator.type = "square";

        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(
          0.01,
          audioContext.currentTime + 0.1
        );

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.1);
      }

      function celebrateTime() {
        const emojis = ["üéâ", "üéä", "üåü", "‚ú®", "üéà", "ü•≥"];
        for (let i = 0; i < 10; i++) {
          setTimeout(() => {
            createFloatingEmoji(
              emojis[Math.floor(Math.random() * emojis.length)]
            );
          }, i * 100);
        }

        clock.style.animation = "bounce 0.5s ease";
        setTimeout(() => {
          clock.style.animation = "";
        }, 500);
      }

      function shakeTime() {
        clock.style.animation = "shake 0.5s ease";
        setTimeout(() => {
          clock.style.animation = "";
        }, 500);
        randomTime();
      }

      function createFloatingEmoji(emoji) {
        const floatingEmoji = document.createElement("div");
        floatingEmoji.className = "floating-emoji";
        floatingEmoji.textContent = emoji;
        floatingEmoji.style.left = Math.random() * window.innerWidth + "px";
        floatingEmoji.style.top = window.innerHeight + "px";
        document.body.appendChild(floatingEmoji);

        setTimeout(() => {
          floatingEmoji.remove();
        }, 3000);
      }
      function startQuiz(e) {
        quizMode = !quizMode;
        const btn = e && e.target ? e.target : null;
        if (quizMode && btn) {
          btn.textContent = "üéØ Stop Quiz";
          btn.classList.add("active");
          generateQuizQuestion();
        } else if (btn) {
          btn.textContent = "üéØ Quiz Mode";
          btn.classList.remove("active");
          document.getElementById("quizResult").textContent = "";
          document.getElementById("quizQuestion").textContent =
            "What time is it?";
        }
      }

      function generateQuizQuestion() {
        if (!quizMode) return;
        randomTime();
        const questionTexts = {
          easy: "What time is it? (Example: 3:00, 6:30, 9:15, 12:45)",
          medium: "What time is it? (Example: 2:25, 7:40, 11:55)",
          hard: "What time is it? (Example: 4:23, 8:07, 10:42)",
        };
        document.getElementById("quizQuestion").textContent =
          questionTexts[difficulty];
        document.getElementById("quizInput").value = "";
        document.getElementById("quizResult").textContent = "";
      }

      function checkAnswer() {
        const userAnswer = document.getElementById("quizInput").value.trim();
        const correctHour = currentTime.hours;
        const correctMinute = currentTime.minutes;
        const correctAnswer = `${correctHour}:${correctMinute
          .toString()
          .padStart(2, "0")}`;
        const altAnswer = `${correctHour}:${correctMinute}`;
        const resultDiv = document.getElementById("quizResult");

        stats.total++;

        if (userAnswer === correctAnswer || userAnswer === altAnswer) {
          stats.correct++;
          stats.streak++;
          if (stats.streak > stats.bestStreak) {
            stats.bestStreak = stats.streak;
          }

          resultDiv.textContent = `üéâ Correct! Great job! ${
            stats.streak > 1 ? `Streak: ${stats.streak}` : ""
          }`;
          resultDiv.className = "quiz-result correct";
          celebrateTime();

          if (quizMode) {
            setTimeout(generateQuizQuestion, 2000);
          }
        } else {
          stats.streak = 0;
          resultDiv.textContent = `‚ùå Try again! The correct time is ${correctAnswer}`;
          resultDiv.className = "quiz-result incorrect";
        }

        updateStatsDisplay();
        saveStats();
      }

      function showTimeInWords() {
        const hours = currentTime.hours;
        function showTimeInWords() {
          const hours = currentTime.hours;
          const minutes = currentTime.minutes;
          let timeInWords = "";

          const hourWords = [
            "",
            "one",
            "two",
            "three",
            "four",
            "five",
            "six",
            "seven",
            "eight",
            "nine",
            "ten",
            "eleven",
            "twelve",
          ];

          if (minutes === 0) {
            timeInWords = `${hourWords[hours]} o'clock`;
          } else if (minutes === 15) {
            timeInWords = `quarter past ${hourWords[hours]}`;
          } else if (minutes === 30) {
            timeInWords = `half past ${hourWords[hours]}`;
          } else if (minutes === 45) {
            const nextHour = hours === 12 ? 1 : hours + 1;
            timeInWords = `quarter to ${hourWords[nextHour]}`;
          } else if (minutes < 30) {
            timeInWords = `${minutes} minutes past ${hourWords[hours]}`;
          } else {
            const nextHour = hours === 12 ? 1 : hours + 1;
            timeInWords = `${60 - minutes} minutes to ${hourWords[nextHour]}`;
          }

          alert(`The time in words: ${timeInWords}`);
        }

        function realTime(e) {
          isRealTime = !isRealTime;
          const btn = e && e.target ? e.target : null;
          if (isRealTime && btn) {
            btn.textContent = "‚è∞ Stop Real Time";
            btn.classList.add("active");
            updateRealTime();
          } else if (btn) {
            btn.textContent = "‚è∞ Real Time";
            btn.classList.remove("active");
          }
        }
        if (!isRealTime) return;
        const now = new Date();
        currentTime.hours = now.getHours() % 12 || 12;
        currentTime.minutes = now.getMinutes();
        currentTime.seconds = now.getSeconds();
        updateClock();
        setTimeout(updateRealTime, 1000);
      }

      // Reset statistics
      function resetStats() {
        if (
          confirm("Are you sure you want to reset your progress statistics?")
        ) {
          stats = { correct: 0, total: 0, streak: 0, bestStreak: 0 };
          updateStatsDisplay();
          saveStats();
          createFloatingEmoji("üîÑ");
        }
      }

      // Practice specific time types
      function practiceOClock() {
        const hours = Math.floor(Math.random() * 12) + 1;
        setTime(hours, 0);
        createFloatingEmoji("üïê");
      }

      function practiceHalfPast() {
        const hours = Math.floor(Math.random() * 12) + 1;
        setTime(hours, 30);
        createFloatingEmoji("üïï");
      }

      function practiceQuarters() {
        const hours = Math.floor(Math.random() * 12) + 1;
        const minutes = Math.random() < 0.5 ? 15 : 45;
        setTime(hours, minutes);
        createFloatingEmoji("üïí");
      }

      function practiceMinutes() {
        randomTime();
        createFloatingEmoji("üïò");
      }

      // Add shake animation
      const shakeKeyframes = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
                20%, 40%, 60%, 80% { transform: translateX(10px); }
            }
        `;
      const style = document.createElement("style");
      style.textContent = shakeKeyframes;
      document.head.appendChild(style);

      // Initialize everything
      loadStats();
      createNumbers();
      updateClock();
      makeDraggable();

      // Allow Enter key in quiz input
      document
        .getElementById("quizInput")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            checkAnswer();
          }
        });

      // Add some initial fun
      setTimeout(() => {
        createFloatingEmoji("üïê");
      }, 1000);

      // Auto-save stats periodically
      setInterval(saveStats, 30000); // Save every 30 seconds
    </script>
  </body>
</html>
