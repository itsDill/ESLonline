<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google AdSense -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <meta name="google-adsense-account" content="ca-pub-2456627863532019" />

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Free Word Cloud Generator - Create beautiful, interactive word clouds from your text. Visualize word frequency, analyze themes, and export high-quality images. Perfect for students, teachers, and content creators."
    />
    <meta
      name="keywords"
      content="word cloud generator, free word cloud, text visualization, word frequency, text analysis, visual word map, word cloud maker, ESL tools, teaching tools, content analysis"
    />
    <meta name="author" content="ESL Fun Online" />
    <meta name="robots" content="index, follow" />
    <link
      rel="canonical"
      href="https://eslfunonline.com/tools/word-cloud.html"
    />

    <!-- Open Graph / Social Media -->
    <meta
      property="og:title"
      content="Word Cloud Generator | Free Interactive Tool - ESL Fun Online"
    />
    <meta
      property="og:description"
      content="Create stunning word clouds from your text. Visualize word frequency and themes with our free, easy-to-use word cloud generator."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://eslfunonline.com/tools/word-cloud.html"
    />
    <meta
      property="og:image"
      content="https://eslfunonline.com/images/tools-preview.jpg"
    />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Word Cloud Generator | ESL Fun Online"
    />
    <meta
      name="twitter:description"
      content="Create beautiful word clouds from text with our free interactive tool."
    />

    <title>Word Cloud Generator | Free Interactive Tool - ESL Fun Online</title>

    <!-- Favicon and Icons -->
    <link rel="icon" href="../favicon.ico" sizes="any" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../images/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="48x48"
      href="../images/favicon-48x48.png"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/1.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="../images/favicon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="../images/favicon-512x512.png"
    />

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9G9RD6BHLN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9G9RD6BHLN");
    </script>

    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Fonts and Icons -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Stylesheets -->
    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Word Cloud Generator",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "description": "Free online word cloud generator for visualizing text and word frequency",
        "url": "https://eslfunonline.com/tools/word-cloud.html",
        "creator": {
          "@type": "Organization",
          "name": "ESL Fun Online"
        }
      }
    </script>

    
                  <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/main.css?v=1763019900" />
    <link rel="stylesheet" href="../css/header.css?v=1763019900" />
    <link rel="stylesheet" href="../css/hero-unified.css?v=1763019900" />
    <link rel="stylesheet" href="../css/index-page.css?v=1763019900" />
    <link rel="stylesheet" href="../css/word-cloud-page.css?v=1763019900" />
    <link rel="stylesheet" href="../css/mobile-optimized.css?v=1763019900" />
    <link rel="stylesheet" href="../css/layout-fixes.css?v=1763019900" />
    </head>
  <body>
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- Header & Navigation -->
    <header>
      <div class="container">
        <nav class="navbar">
          <a href="../index.html" class="logo-container">
            <img
              src="../images/1.png"
              alt="ESL Fun Online Logo"
              class="logo-image"
              width="40"
              height="40"
            />
            <span class="logo-text">ESL Fun Online</span>
          </a>

          <ul
            class="nav-links"
            id="navLinks"
            role="menubar"
            aria-label="Main navigation"
          >
            <li class="nav-item" role="none">
              <a href="../index.html" class="nav-link" role="menuitem">
                <i class="fas fa-home"></i>
                Home
              </a>
            </li>
            <li class="nav-item" role="none">
              <a
                href="#"
                class="nav-link"
                role="menuitem"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-book"></i>
                English
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown" role="menu" aria-label="English submenu">
                <a href="../english/grammar.html" class="dropdown-item">
                  <i class="fas fa-spell-check"></i>
                  Grammar Guides
                </a>
                <a href="../english/vocabguide.html" class="dropdown-item">
                  <i class="fas fa-book-open"></i>
                  Vocabulary Building
                </a>
                <a href="../english/worksheets.html" class="dropdown-item">
                  <i class="fas fa-file-alt"></i>
                  Worksheets
                </a>
                <a href="../english/writingf.html" class="dropdown-item">
                  <i class="fas fa-pen"></i>
                  Writing for Success
                </a>
                <a href="../english/business.html" class="dropdown-item">
                  <i class="fas fa-briefcase"></i>
                  Business English
                </a>
                <a href="../english/test.html" class="dropdown-item">
                  <i class="fas fa-graduation-cap"></i>
                  Test Preparation
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-code"></i>
                Coding
                <i class="fas fa-chevron-down"></i>
              </a>
              <div class="dropdown">
                <a href="../coding/computerbasics.html" class="dropdown-item">
                  <i class="fas fa-desktop"></i>
                  Computer Basics
                </a>
                <a href="../coding/ai.html" class="dropdown-item">
                  <i class="fas fa-robot"></i>
                  AI Basics
                </a>
                <a href="../coding/codingresources.html" class="dropdown-item">
                  <i class="fas fa-code"></i>
                  Coding Basics
                </a>
                <a href="../coding/webdev.html" class="dropdown-item">
                  <i class="fas fa-globe"></i>
                  Web Development
                </a>
                <a href="../coding/javascript.html" class="dropdown-item">
                  <i class="fab fa-js-square"></i>
                  JavaScript
                </a>
                <a href="../coding/python.html" class="dropdown-item">
                  <i class="fab fa-python"></i>
                  Python
                </a>
              </div>
            </li>

            <li class="nav-item">
              <a href="../games/games.html" class="nav-link">
                <i class="fas fa-dice"></i>
                Games
              </a>
            </li>
            <li class="nav-item">
              <a href="../tools/tools.html" class="nav-link">
                <i class="fas fa-tools"></i>
                Toolkit
              </a>
            </li>
            <li class="nav-item">
              <a href="../blog/blog.html" class="nav-link">
                <i class="fas fa-book-open"></i>
                Blog
              </a>
            </li>
          </ul>

          <div class="controls">
            <button
              class="control-btn theme-toggle"
              id="themeToggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
            <a
              class="control-btn admin-toggle"
              id="adminToggle"
              aria-label="Admin"
              href="../login.html"
            >
              <i class="fas fa-user-shield"></i>
            </a>
          </div>
          <button
            class="control-btn mobile-toggle"
            id="mobileToggle"
            aria-label="Toggle mobile menu"
          >
            <i class="fas fa-bars"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- Mobile Menu Script -->
    <script>
      (function () {
        "use strict";

        function initMobileMenu() {
          const mobileToggle = document.getElementById("mobileToggle");
          const navLinks = document.getElementById("navLinks");
          const body = document.body;

          if (!mobileToggle || !navLinks) {
            console.warn("Mobile menu elements not found");
            return;
          }

          let isMenuOpen = false;

          function toggleMenu(e) {
            if (e && e.preventDefault) e.preventDefault();
            if (e && e.stopPropagation) e.stopPropagation();

            isMenuOpen = !isMenuOpen;
            const icon = mobileToggle.querySelector("i");

            if (isMenuOpen) {
              navLinks.classList.add("active");
              body.classList.add("mobile-menu-open");
              body.style.overflow = "hidden";
              if (icon) icon.className = "fas fa-times";
            } else {
              navLinks.classList.remove("active");
              body.classList.remove("mobile-menu-open");
              body.style.overflow = "";
              if (icon) icon.className = "fas fa-bars";

              document.querySelectorAll(".nav-item").forEach((item) => {
                item.classList.remove("mobile-open", "mobile-dropdown-open");
                const chevron = item.querySelector(".fa-chevron-down");
                if (chevron) chevron.style.transform = "rotate(0deg)";
              });
            }
          }

          let lastToggleTime = 0;

          function handleToggleClick(e) {
            const now = Date.now();
            if (now - lastToggleTime < 300) return;
            lastToggleTime = now;

            e.preventDefault();
            e.stopPropagation();
            toggleMenu(e);
          }

          mobileToggle.addEventListener("click", handleToggleClick);
          mobileToggle.addEventListener("touchend", handleToggleClick);

          document.querySelectorAll(".nav-item").forEach((item) => {
            const link = item.querySelector(".nav-link");
            const dropdown = item.querySelector(".dropdown");
            const chevron = link?.querySelector(".fa-chevron-down");

            if (link && dropdown && chevron) {
              let lastDropdownToggle = 0;

              function handleDropdownClick(e) {
                if (window.innerWidth > 768) return;

                if (
                  e.target.closest(".dropdown-item") ||
                  e.target.closest(".dropdown a")
                ) {
                  return;
                }

                const now = Date.now();
                if (now - lastDropdownToggle < 300) return;
                lastDropdownToggle = now;

                e.preventDefault();
                e.stopPropagation();

                const isOpen = item.classList.contains("mobile-open");

                document.querySelectorAll(".nav-item").forEach((otherItem) => {
                  if (otherItem !== item) {
                    otherItem.classList.remove(
                      "mobile-open",
                      "mobile-dropdown-open"
                    );
                    const otherChevron =
                      otherItem.querySelector(".fa-chevron-down");
                    if (otherChevron)
                      otherChevron.style.transform = "rotate(0deg)";
                  }
                });

                if (isOpen) {
                  item.classList.remove("mobile-open", "mobile-dropdown-open");
                  chevron.style.transform = "rotate(0deg)";
                  link.setAttribute("aria-expanded", "false");
                } else {
                  item.classList.add("mobile-open", "mobile-dropdown-open");
                  chevron.style.transform = "rotate(180deg)";
                  link.setAttribute("aria-expanded", "true");
                }
              }

              if (link.getAttribute("href") === "#") {
                link.style.cursor = "pointer";
              }

              link.addEventListener("click", handleDropdownClick);
              link.addEventListener("touchend", handleDropdownClick);
            }
          });

          document.addEventListener("click", function (e) {
            if (window.innerWidth <= 768 && isMenuOpen) {
              if (
                !mobileToggle.contains(e.target) &&
                !navLinks.contains(e.target)
              ) {
                toggleMenu(null);
              }
            }
          });

          document.addEventListener("keydown", function (e) {
            if (e.key === "Escape" && isMenuOpen) {
              toggleMenu(null);
              mobileToggle.focus();
            }
          });

          window.addEventListener("resize", function () {
            if (window.innerWidth > 768 && isMenuOpen) {
              toggleMenu(null);
            }
          });

          document.querySelectorAll(".dropdown a").forEach((link) => {
            link.addEventListener("click", function () {
              if (window.innerWidth <= 768 && isMenuOpen) {
                setTimeout(() => {
                  toggleMenu(null);
                }, 100);
              }
            });
          });
        }

        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", initMobileMenu);
        } else {
          initMobileMenu();
        }
      })();
    </script>

    <main>
      <div class="container">
        <div class="page-header">
          <h1 class="page-title">
            <i class="fas fa-cloud"></i> Word Cloud Generator
          </h1>
          <p class="page-subtitle">
            Transform your text into beautiful visual word clouds. Perfect for
            analyzing themes, keywords, and word frequency in essays, articles,
            and research.
          </p>
        </div>

        <div class="word-cloud-container">
          <div class="input-section">
            <h3><i class="fas fa-edit"></i> Enter Your Text</h3>
            <div class="preset-buttons">
              <button class="preset-btn" data-preset="shakespeare">
                <i class="fas fa-theater-masks"></i> Shakespeare Sample
              </button>
              <button class="preset-btn" data-preset="technology">
                <i class="fas fa-laptop-code"></i> Technology Text
              </button>
              <button class="preset-btn" data-preset="nature">
                <i class="fas fa-leaf"></i> Nature Description
              </button>
              <button class="preset-btn" data-preset="business">
                <i class="fas fa-briefcase"></i> Business Terms
              </button>
            </div>
            <textarea
              id="textInput"
              placeholder="Paste your text here or click a preset button above..."
              aria-label="Text input for word cloud"
            ></textarea>
          </div>

          <div class="controls-section">
            <div class="control-group">
              <h3><i class="fas fa-palette"></i> Appearance</h3>
              <div class="control-item">
                <label>Color Scheme:</label>
              </div>
              <div class="color-grid">
                <div
                  class="color-option active"
                  data-scheme="blue"
                  style="background: linear-gradient(45deg, #3b82f6, #1e40af)"
                  title="Blue"
                ></div>
                <div
                  class="color-option"
                  data-scheme="green"
                  style="background: linear-gradient(45deg, #10b981, #047857)"
                  title="Green"
                ></div>
                <div
                  class="color-option"
                  data-scheme="purple"
                  style="background: linear-gradient(45deg, #8b5cf6, #6d28d9)"
                  title="Purple"
                ></div>
                <div
                  class="color-option"
                  data-scheme="orange"
                  style="background: linear-gradient(45deg, #f59e0b, #d97706)"
                  title="Orange"
                ></div>
                <div
                  class="color-option"
                  data-scheme="pink"
                  style="background: linear-gradient(45deg, #ec4899, #be185d)"
                  title="Pink"
                ></div>
                <div
                  class="color-option"
                  data-scheme="red"
                  style="background: linear-gradient(45deg, #ef4444, #dc2626)"
                  title="Red"
                ></div>
                <div
                  class="color-option"
                  data-scheme="indigo"
                  style="background: linear-gradient(45deg, #6366f1, #4f46e5)"
                  title="Indigo"
                ></div>
                <div
                  class="color-option"
                  data-scheme="teal"
                  style="background: linear-gradient(45deg, #14b8a6, #0d9488)"
                  title="Teal"
                ></div>
                <div
                  class="color-option"
                  data-scheme="yellow"
                  style="background: linear-gradient(45deg, #eab308, #ca8a04)"
                  title="Yellow"
                ></div>
                <div
                  class="color-option"
                  data-scheme="rainbow"
                  style="
                    background: linear-gradient(
                      45deg,
                      #ff0000,
                      #ff8000,
                      #ffff00,
                      #80ff00,
                      #00ff00,
                      #00ff80,
                      #00ffff,
                      #0080ff,
                      #0000ff,
                      #8000ff,
                      #ff00ff,
                      #ff0080
                    );
                  "
                  title="Rainbow"
                ></div>
              </div>
            </div>

            <div class="control-group">
              <h3><i class="fas fa-cog"></i> Settings</h3>
              <div class="control-item">
                <label for="maxWords">Maximum Words:</label>
                <input
                  type="range"
                  class="control-input"
                  id="maxWords"
                  min="10"
                  max="100"
                  value="50"
                  aria-label="Maximum words slider"
                />
                <span id="maxWordsValue">50</span>
              </div>
              <div class="control-item">
                <label for="minLength">Minimum Word Length:</label>
                <input
                  type="range"
                  class="control-input"
                  id="minLength"
                  min="2"
                  max="8"
                  value="3"
                  aria-label="Minimum word length slider"
                />
                <span id="minLengthValue">3</span>
              </div>
            </div>

            <div class="control-group">
              <h3><i class="fas fa-filter"></i> Filters</h3>
              <div class="control-item">
                <label>
                  <input type="checkbox" id="removeCommon" checked /> Remove
                  common words (the, and, of, etc.)
                </label>
              </div>
              <div class="control-item">
                <label>
                  <input type="checkbox" id="caseSensitive" /> Case sensitive
                </label>
              </div>
            </div>
          </div>

          <div class="word-cloud-canvas" id="wordCloudCanvas">
            <div class="loading">
              <i class="fas fa-cloud"></i>
              <p>Your word cloud will appear here after generating</p>
            </div>
          </div>

          <div class="action-buttons">
            <button class="btn btn-primary" id="generateBtn">
              <i class="fas fa-magic"></i> Generate Word Cloud
            </button>
            <button
              class="btn btn-secondary"
              id="downloadBtn"
              style="display: none"
            >
              <i class="fas fa-download"></i> Download PNG
            </button>
            <button class="btn btn-secondary" id="clearBtn">
              <i class="fas fa-trash"></i> Clear
            </button>
            <a href="tools.html" class="btn btn-secondary">
              <i class="fas fa-arrow-left"></i> Back to Tools
            </a>
          </div>

          <div class="stats-section" id="statsSection" style="display: none">
            <h3><i class="fas fa-chart-bar"></i> Text Analysis</h3>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-value" id="totalWords">0</div>
                <div class="stat-label">Total Words</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="uniqueWords">0</div>
                <div class="stat-label">Unique Words</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="averageLength">0</div>
                <div class="stat-label">Avg Length</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="longestWord">-</div>
                <div class="stat-label">Longest Word</div>
              </div>
            </div>
          </div>

          <div class="word-list" id="wordList" style="display: none">
            <h3><i class="fas fa-list"></i> Word Frequency (Top 20)</h3>
            <div id="wordListContent"></div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <!-- Brand Section -->
          <div class="footer-section footer-brand">
            <div class="brand-header">
              <img
                src="../images/1.png"
                alt="ESL Fun Online"
                class="footer-logo"
              />
              <h3>ESL Fun Online</h3>
            </div>
            <p>
              Transform your English and coding skills with our premium
              interactive resources.
            </p>
          </div>

          <!-- English Learning Section -->
          <div class="footer-section">
            <h3><i class="fas fa-graduation-cap"></i> English</h3>
            <ul>
              <li>
                <a href="../english/grammar.html"
                  ><i class="fas fa-spell-check"></i><span>Grammar</span></a
                >
              </li>
              <li>
                <a href="../english/vocabguide.html"
                  ><i class="fas fa-book-open"></i><span>Vocabulary</span></a
                >
              </li>
              <li>
                <a href="../english/business.html"
                  ><i class="fas fa-handshake"></i><span>Business</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Programming Section -->
          <div class="footer-section">
            <h3><i class="fas fa-code"></i> Coding</h3>
            <ul>
              <li>
                <a href="../coding/computerbasics.html"
                  ><i class="fas fa-desktop"></i><span>Basics</span></a
                >
              </li>
              <li>
                <a href="../coding/ai.html"
                  ><i class="fas fa-robot"></i><span>AI</span></a
                >
              </li>
              <li>
                <a href="../coding/codingresources.html"
                  ><i class="fas fa-terminal"></i><span>Resources</span></a
                >
              </li>
            </ul>
          </div>

          <!-- Quick Links Section -->
          <div class="footer-section">
            <h3><i class="fas fa-link"></i> Quick Links</h3>
            <ul>
              <li>
                <a href="../lessons.html"
                  ><i class="fas fa-chalkboard-teacher"></i
                  ><span>Lessons</span></a
                >
              </li>
              <li>
                <a href="../games/games.html"
                  ><i class="fas fa-gamepad"></i><span>Games</span></a
                >
              </li>
              <li>
                <a href="tools.html"
                  ><i class="fas fa-tools"></i><span>Tools</span></a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="footer-bottom-center">
            <div class="footer-links">
              <a href="../privacy.html"
                ><i class="fas fa-shield-alt"></i>Privacy</a
              >
              <a href="../terms.html"
                ><i class="fas fa-file-contract"></i>Terms</a
              >
              <a href="../cookies.html"
                ><i class="fas fa-cookie-bite"></i>Cookies</a
              >
              <a href="../contact.html"
                ><i class="fas fa-envelope"></i>Contact</a
              >
            </div>
          </div>

          <div class="footer-bottom-left">
            <p>
              &copy; 2025 <strong>ESL Fun Online</strong>. All rights reserved.
            </p>
            <p class="footer-subtitle">Empowering learners worldwide</p>
          </div>

          <div class="footer-bottom-right">
            <div class="footer-badges">
              <div class="badge">
                <i class="fas fa-award"></i><span>Certified</span>
              </div>
              <div class="badge">
                <i class="fas fa-lock"></i><span>Secure</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Word Cloud Generator - Enhanced Version

      // Sample texts for presets
      const presetTexts = {
        shakespeare:
          "To be or not to be, that is the question. Whether 'tis nobler in the mind to suffer the slings and arrows of outrageous fortune, or to take arms against a sea of troubles and by opposing end them. To die, to sleep, no more, and by a sleep to say we end the heartache and the thousand natural shocks that flesh is heir to. 'Tis a consummation devoutly to be wished. To die, to sleep. To sleep, perchance to dream‚Äîay, there's the rub, for in that sleep of death what dreams may come when we have shuffled off this mortal coil, must give us pause.",
        technology:
          "Artificial intelligence and machine learning are transforming the digital landscape. Cloud computing, big data analytics, and cybersecurity are essential components of modern technology infrastructure. Software development, user experience design, and digital transformation drive innovation in today's interconnected world. Programming languages, algorithms, databases, and networks form the foundation of technological advancement. Mobile applications, web development, and internet of things continue to revolutionize how we interact with technology daily.",
        nature:
          "The serene forest was filled with towering trees, their leaves rustling gently in the breeze. Sunlight filtered through the canopy, creating dappled patterns on the forest floor. Birds chirped melodiously while squirrels scampered among the branches. A babbling brook meandered through the peaceful woodland, its crystal-clear water reflecting the azure sky above. Wildflowers bloomed in colorful clusters, attracting butterflies and bees. The fresh scent of pine and earth filled the air, creating a tranquil atmosphere perfect for meditation and reflection.",
        business:
          "Strategic planning, market research, and competitive analysis drive successful business growth. Customer satisfaction, brand development, and digital marketing are crucial for sustainable profitability. Leadership, teamwork, and innovation create organizational excellence in today's dynamic marketplace. Financial management, risk assessment, and performance metrics guide informed decision-making. Corporate culture, employee engagement, and professional development foster productive work environments. Supply chain optimization, quality control, and operational efficiency ensure competitive advantage in global markets.",
      };

      // Common words to filter out
      const commonWords = new Set([
        "the",
        "and",
        "or",
        "but",
        "in",
        "on",
        "at",
        "to",
        "for",
        "of",
        "with",
        "by",
        "a",
        "an",
        "is",
        "are",
        "was",
        "were",
        "be",
        "been",
        "being",
        "have",
        "has",
        "had",
        "do",
        "does",
        "did",
        "will",
        "would",
        "could",
        "should",
        "may",
        "might",
        "must",
        "can",
        "this",
        "that",
        "these",
        "those",
        "i",
        "you",
        "he",
        "she",
        "it",
        "we",
        "they",
        "me",
        "him",
        "her",
        "us",
        "them",
        "my",
        "your",
        "his",
        "its",
        "our",
        "their",
        "from",
        "as",
        "which",
        "who",
        "when",
        "where",
        "why",
        "how",
        "what",
        "all",
        "each",
        "every",
        "both",
        "few",
        "more",
        "most",
        "other",
        "some",
        "such",
        "no",
        "nor",
        "not",
        "only",
        "own",
        "same",
        "so",
        "than",
        "too",
        "very",
        "s",
        "t",
        "just",
      ]);

      // Color schemes
      const colorSchemes = {
        blue: ["#3b82f6", "#1e40af", "#60a5fa", "#2563eb", "#1d4ed8"],
        green: ["#10b981", "#047857", "#34d399", "#059669", "#065f46"],
        purple: ["#8b5cf6", "#6d28d9", "#a78bfa", "#7c3aed", "#5b21b6"],
        orange: ["#f59e0b", "#d97706", "#fbbf24", "#f59e0b", "#b45309"],
        pink: ["#ec4899", "#be185d", "#f472b6", "#db2777", "#9d174d"],
        red: ["#ef4444", "#dc2626", "#f87171", "#e11d48", "#b91c1c"],
        indigo: ["#6366f1", "#4f46e5", "#818cf8", "#6366f1", "#3730a3"],
        teal: ["#14b8a6", "#0d9488", "#5eead4", "#14b8a6", "#0f766e"],
        yellow: ["#eab308", "#ca8a04", "#facc15", "#eab308", "#a16207"],
        rainbow: [
          "#ff6b6b",
          "#4ecdc4",
          "#45b7d1",
          "#96ceb4",
          "#feca57",
          "#ff9ff3",
          "#54a0ff",
          "#5f27cd",
          "#00d2d3",
          "#ff9f43",
        ],
      };

      let currentWords = [];
      let currentColorScheme = "blue";

      // DOM elements
      const textInput = document.getElementById("textInput");
      const wordCloudCanvas = document.getElementById("wordCloudCanvas");
      const generateBtn = document.getElementById("generateBtn");
      const downloadBtn = document.getElementById("downloadBtn");
      const clearBtn = document.getElementById("clearBtn");
      const maxWordsSlider = document.getElementById("maxWords");
      const minLengthSlider = document.getElementById("minLength");
      const maxWordsValue = document.getElementById("maxWordsValue");
      const minLengthValue = document.getElementById("minLengthValue");
      const removeCommonCheckbox = document.getElementById("removeCommon");
      const caseSensitiveCheckbox = document.getElementById("caseSensitive");
      const statsSection = document.getElementById("statsSection");
      const wordList = document.getElementById("wordList");

      // Initialize with welcome text
      textInput.value =
        "Welcome to our interactive word cloud generator! This powerful tool helps you visualize text data by creating beautiful word clouds. Simply enter your text, customize the appearance, and generate stunning visualizations that highlight the most important words in your content. Perfect for students, teachers, content creators, and anyone who wants to analyze text patterns. Try it now with your own text or use one of our preset samples to get started quickly!";

      // Event listeners
      document.querySelectorAll(".preset-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          textInput.value = presetTexts[btn.dataset.preset];
          textInput.focus();

          // Google Analytics event
          if (typeof gtag !== "undefined") {
            gtag("event", "preset_selected", {
              event_category: "word_cloud",
              event_label: btn.dataset.preset,
            });
          }
        });
      });

      document.querySelectorAll(".color-option").forEach((option) => {
        option.addEventListener("click", () => {
          document
            .querySelectorAll(".color-option")
            .forEach((o) => o.classList.remove("active"));
          option.classList.add("active");
          currentColorScheme = option.dataset.scheme;
          if (currentWords.length > 0) {
            generateWordCloud();
          }

          // Google Analytics event
          if (typeof gtag !== "undefined") {
            gtag("event", "color_scheme_changed", {
              event_category: "word_cloud",
              event_label: currentColorScheme,
            });
          }
        });
      });

      maxWordsSlider.addEventListener("input", () => {
        maxWordsValue.textContent = maxWordsSlider.value;
      });

      minLengthSlider.addEventListener("input", () => {
        minLengthValue.textContent = minLengthSlider.value;
      });

      generateBtn.addEventListener("click", generateWordCloud);
      clearBtn.addEventListener("click", clearWordCloud);
      downloadBtn.addEventListener("click", downloadWordCloud);

      // Keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        if (e.ctrlKey || e.metaKey) {
          if (e.key === "Enter") {
            e.preventDefault();
            generateWordCloud();
          } else if (e.key === "k") {
            e.preventDefault();
            clearWordCloud();
          }
        }
      });

      function processText(text) {
        // Clean and split text
        let words = text
          .toLowerCase()
          .replace(/[^\w\s'-]/g, " ")
          .split(/\s+/)
          .filter((word) => word.length >= parseInt(minLengthSlider.value));

        // Remove common words if enabled
        if (removeCommonCheckbox.checked) {
          words = words.filter((word) => !commonWords.has(word));
        }

        // Case sensitivity
        if (!caseSensitiveCheckbox.checked) {
          words = words.map((word) => word.toLowerCase());
        }

        // Count word frequency
        const wordCount = {};
        words.forEach((word) => {
          wordCount[word] = (wordCount[word] || 0) + 1;
        });

        // Sort by frequency and limit
        const sortedWords = Object.entries(wordCount)
          .sort(([, a], [, b]) => b - a)
          .slice(0, parseInt(maxWordsSlider.value));

        return sortedWords.map(([word, count]) => ({ word, count }));
      }

      function generateWordCloud() {
        const text = textInput.value.trim();
        if (!text) {
          alert("‚ö†Ô∏è Please enter some text first!");
          textInput.focus();
          return;
        }

        // Show loading state
        wordCloudCanvas.innerHTML =
          '<div class="loading"><i class="fas fa-circle-notch fa-spin"></i><p>Generating your word cloud...</p></div>';

        // Process text with slight delay for UX
        setTimeout(() => {
          currentWords = processText(text);

          if (currentWords.length === 0) {
            wordCloudCanvas.innerHTML =
              '<div class="loading"><i class="fas fa-exclamation-circle"></i><p>No words found with current settings. Try adjusting your filters.</p></div>';
            return;
          }

          displayWordCloud();
          updateStats();
          downloadBtn.style.display = "inline-flex";
          statsSection.style.display = "block";
          wordList.style.display = "block";

          // Scroll to word cloud
          wordCloudCanvas.scrollIntoView({
            behavior: "smooth",
            block: "center",
          });

          // Google Analytics event
          if (typeof gtag !== "undefined") {
            gtag("event", "word_cloud_generated", {
              event_category: "word_cloud",
              value: currentWords.length,
            });
          }
        }, 300);
      }

      function displayWordCloud() {
        const canvas = wordCloudCanvas;
        canvas.innerHTML = "";

        const maxCount = Math.max(...currentWords.map((w) => w.count));
        const minCount = Math.min(...currentWords.map((w) => w.count));
        const colors = colorSchemes[currentColorScheme];

        const canvasWidth = canvas.offsetWidth;
        const canvasHeight = canvas.offsetHeight;

        // Store positioned word rectangles for better collision detection
        const positionedWords = [];

        currentWords.forEach((wordData, index) => {
          const wordElement = document.createElement("div");
          wordElement.className = "word-cloud-word";
          wordElement.textContent = wordData.word;

          // Calculate font size based on frequency (logarithmic scale for better distribution)
          const normalizedCount =
            (wordData.count - minCount) / (maxCount - minCount || 1);
          const fontSize = Math.max(
            16,
            Math.min(72, 16 + Math.pow(normalizedCount, 0.7) * 56)
          );

          wordElement.style.fontSize = fontSize + "px";
          wordElement.style.color = colors[index % colors.length];

          // Position with improved collision detection
          const maxAttempts = 200;
          let positioned = false;
          let attempts = 0;

          // More accurate width/height estimation
          const estimatedWidth = wordData.word.length * fontSize * 0.65;
          const estimatedHeight = fontSize * 1.3;

          while (!positioned && attempts < maxAttempts) {
            // Use spiral positioning for better word distribution
            const angle = attempts * 0.4;
            const radius = Math.sqrt(attempts) * 8;
            let x =
              canvasWidth / 2 + radius * Math.cos(angle) - estimatedWidth / 2;
            let y =
              canvasHeight / 2 + radius * Math.sin(angle) - estimatedHeight / 2;

            // Bounds checking with padding
            const padding = 10;
            if (
              x < padding ||
              x + estimatedWidth > canvasWidth - padding ||
              y < padding ||
              y + estimatedHeight > canvasHeight - padding
            ) {
              attempts++;
              continue;
            }

            // Check collision with previously positioned words
            const currentRect = {
              left: x,
              top: y,
              right: x + estimatedWidth,
              bottom: y + estimatedHeight,
            };

            let collision = false;
            const collisionPadding = 12;

            for (const rect of positionedWords) {
              if (
                !(
                  currentRect.right + collisionPadding < rect.left ||
                  currentRect.left - collisionPadding > rect.right ||
                  currentRect.bottom + collisionPadding < rect.top ||
                  currentRect.top - collisionPadding > rect.bottom
                )
              ) {
                collision = true;
                break;
              }
            }

            if (!collision) {
              positioned = true;
              positionedWords.push(currentRect);

              wordElement.style.left = x + "px";
              wordElement.style.top = y + "px";
              wordElement.style.opacity = "0";
              wordElement.style.transform = "scale(0)";

              canvas.appendChild(wordElement);

              // Animate word appearance
              setTimeout(() => {
                wordElement.style.transition =
                  "all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)";
                wordElement.style.opacity = "1";
                wordElement.style.transform = "scale(1)";
              }, index * 40);
            }

            attempts++;
          }

          // Improved fallback positioning if collision detection fails
          if (!positioned) {
            const cols = Math.ceil(Math.sqrt(currentWords.length));
            const fallbackX = (index % cols) * (canvasWidth / cols) + 30;
            const fallbackY = Math.floor(index / cols) * (fontSize * 2) + 30;

            // Only add if within bounds
            if (
              fallbackX + estimatedWidth < canvasWidth - 30 &&
              fallbackY + estimatedHeight < canvasHeight - 30
            ) {
              wordElement.style.left = fallbackX + "px";
              wordElement.style.top = fallbackY + "px";
              wordElement.style.opacity = "0";

              canvas.appendChild(wordElement);

              setTimeout(() => {
                wordElement.style.transition = "all 0.5s ease";
                wordElement.style.opacity = "0.8";
              }, index * 40);
            }
          }

          // Add click interaction with improved tooltip
          if (wordElement.parentElement === canvas) {
            wordElement.addEventListener("click", () => {
              const percentage = (
                (wordData.count /
                  currentWords.reduce((sum, w) => sum + w.count, 0)) *
                100
              ).toFixed(1);
              alert(
                `üìä Word: "${wordData.word}"\nüìà Frequency: ${wordData.count} time(s)\nüìä Percentage: ${percentage}%`
              );
            });

            // Add hover title
            wordElement.title = `"${wordData.word}" appears ${wordData.count} time(s)`;

            // Add hover effect
            wordElement.addEventListener("mouseenter", () => {
              wordElement.style.transform = "scale(1.2)";
              wordElement.style.zIndex = "1000";
            });

            wordElement.addEventListener("mouseleave", () => {
              wordElement.style.transform = "scale(1)";
              wordElement.style.zIndex = "1";
            });
          }
        });

        // Show message if no words could be positioned
        if (canvas.children.length === 0) {
          canvas.innerHTML =
            '<div class="loading"><i class="fas fa-exclamation-triangle"></i><p>Could not fit words in the available space. Try using fewer or shorter words.</p></div>';
        }
      }

      function updateStats() {
        const totalWords = currentWords.reduce((sum, w) => sum + w.count, 0);
        const uniqueWords = currentWords.length;
        const averageLength = (
          currentWords.reduce((sum, w) => sum + w.word.length * w.count, 0) /
          totalWords
        ).toFixed(1);
        const longestWord = currentWords.reduce(
          (longest, w) => (w.word.length > longest.length ? w.word : longest),
          ""
        );

        // Animate stat values
        animateValue("totalWords", 0, totalWords, 800);
        animateValue("uniqueWords", 0, uniqueWords, 800);
        document.getElementById("averageLength").textContent = averageLength;
        document.getElementById("longestWord").textContent = longestWord;

        // Update word list with animation
        const wordListContent = document.getElementById("wordListContent");
        wordListContent.innerHTML = "";

        currentWords.slice(0, 20).forEach((wordData, index) => {
          const wordItem = document.createElement("div");
          wordItem.className = "word-item";
          wordItem.style.opacity = "0";
          wordItem.style.transform = "translateX(-20px)";
          wordItem.innerHTML = `
            <span style="font-weight: 600; color: var(--text-primary);">${wordData.word}</span>
            <span class="word-frequency">${wordData.count}</span>
          `;
          wordListContent.appendChild(wordItem);

          // Stagger animation
          setTimeout(() => {
            wordItem.style.transition = "all 0.3s ease";
            wordItem.style.opacity = "1";
            wordItem.style.transform = "translateX(0)";
          }, index * 50);
        });
      }

      function animateValue(id, start, end, duration) {
        const element = document.getElementById(id);
        const range = end - start;
        const increment = end > start ? 1 : -1;
        const stepTime = Math.abs(Math.floor(duration / range));
        let current = start;

        const timer = setInterval(() => {
          current += increment;
          element.textContent = current;
          if (current === end) {
            clearInterval(timer);
          }
        }, stepTime);
      }

      function clearWordCloud() {
        textInput.value = "";
        wordCloudCanvas.innerHTML = `
          <div class="loading">
            <i class="fas fa-cloud"></i>
            <p>Your word cloud will appear here after generating</p>
          </div>
        `;
        currentWords = [];
        downloadBtn.style.display = "none";
        statsSection.style.display = "none";
        wordList.style.display = "none";
        textInput.focus();

        // Google Analytics event
        if (typeof gtag !== "undefined") {
          gtag("event", "word_cloud_cleared", {
            event_category: "word_cloud",
          });
        }
      }

      function downloadWordCloud() {
        // Create a temporary canvas for export
        const sourceCanvas = wordCloudCanvas;
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");

        // Set canvas size with high DPI for better quality
        const scale = 2;
        canvas.width = sourceCanvas.offsetWidth * scale;
        canvas.height = sourceCanvas.offsetHeight * scale;
        ctx.scale(scale, scale);

        // Fill background with white
        ctx.fillStyle = "#ffffff";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Draw watermark
        ctx.font = "12px Inter";
        ctx.fillStyle = "#cccccc";
        ctx.fillText(
          "Created with ESL Fun Online",
          10,
          sourceCanvas.offsetHeight - 10
        );

        // Draw words
        const words = sourceCanvas.querySelectorAll(".word-cloud-word");
        words.forEach((word) => {
          const style = window.getComputedStyle(word);
          const fontSize = parseInt(style.fontSize);
          const color = style.color;
          const left = parseInt(style.left);
          const top = parseInt(style.top) + fontSize;

          ctx.font = `700 ${fontSize}px Poppins, sans-serif`;
          ctx.fillStyle = color;
          ctx.fillText(word.textContent, left, top);
        });

        // Download with timestamp
        const timestamp = new Date().toISOString().slice(0, 10);
        const link = document.createElement("a");
        link.download = `word-cloud-${timestamp}.png`;
        link.href = canvas.toDataURL("image/png", 1.0);
        link.click();

        // Google Analytics event
        if (typeof gtag !== "undefined") {
          gtag("event", "word_cloud_downloaded", {
            event_category: "word_cloud",
          });
        }
      }

      // Scroll progress indicator
      window.addEventListener("scroll", () => {
        const scrollProgress = document.getElementById("scrollProgress");
        const windowHeight =
          document.documentElement.scrollHeight -
          document.documentElement.clientHeight;
        const scrolled = (window.scrollY / windowHeight) * 100;
        scrollProgress.style.width = scrolled + "%";
      });
    </script>

    <script src="../js/navigation.js"></script>
  </body>
</html>
