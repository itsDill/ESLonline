<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kyoko's Fun Learning Page - Sleep & Karaoke</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
        color: #333;
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
        animation: fadeInDown 1s ease;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        color: #fff;
      }

      .game-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .game-card {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        transition: transform 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .game-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      }

      .game-title {
        font-size: 1.5em;
        margin-bottom: 15px;
        text-align: center;
        color: #ff6b88;
      }

      /* Tic Tac Toe */
      .ttt-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 5px;
        margin: 20px auto;
        width: 200px;
      }

      .ttt-cell {
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.8);
        border: 2px solid rgba(255, 107, 136, 0.3);
        border-radius: 8px;
        font-size: 1.5em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ff6b88;
      }

      .ttt-cell:hover {
        background: rgba(255, 255, 255, 0.9);
      }

      /* Quiz Game */
      .quiz-option {
        background: rgba(255, 255, 255, 0.8);
        border: 2px solid rgba(255, 107, 136, 0.3);
        border-radius: 8px;
        padding: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
        margin: 5px 0;
      }

      .quiz-option:hover {
        background: rgba(255, 255, 255, 0.9);
      }

      .quiz-option.correct {
        background: rgba(76, 175, 80, 0.3);
        border-color: #4caf50;
      }

      .quiz-option.wrong {
        background: rgba(244, 67, 54, 0.3);
        border-color: #f44336;
      }

      /* Sentence Builder */
      .word-chip {
        background: linear-gradient(45deg, #ffb8c6, #ffd3d3);
        color: #333;
        padding: 8px 15px;
        border-radius: 20px;
        cursor: move;
        user-select: none;
        font-weight: bold;
        transition: all 0.3s ease;
        margin: 5px;
        display: inline-block;
      }

      .word-chip:hover {
        transform: scale(1.05);
      }

      .word-chip.used {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* Karaoke Challenge */
      #karaoke-lyrics {
        font-size: 1.2em;
        line-height: 1.6;
        text-align: center;
        margin: 20px 0;
        min-height: 120px;
      }

      .karaoke-word {
        transition: all 0.3s ease;
        display: inline-block;
        padding: 2px 5px;
        border-radius: 3px;
      }

      .karaoke-word.active {
        background-color: #ff6b88;
        color: white;
        transform: scale(1.1);
      }

      /* Sleep Diary */
      .sleep-entry {
        background: rgba(255, 255, 255, 0.8);
        border-radius: 10px;
        padding: 15px;
        margin: 10px 0;
      }

      /* Memory Game */
      .memory-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin: 20px auto;
        width: 280px;
      }

      .memory-card {
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.8);
        border: 2px solid rgba(255, 107, 136, 0.3);
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.8em;
        text-align: center;
        line-height: 56px;
        transition: all 0.3s ease;
      }

      .memory-card.flipped {
        background: #ffb8c6;
        color: #333;
      }

      /* Word Guess */
      .word-display {
        font-size: 2em;
        text-align: center;
        margin: 20px 0;
        letter-spacing: 10px;
        font-family: monospace;
      }

      .word-input {
        width: 100%;
        padding: 10px;
        border: 2px solid rgba(255, 107, 136, 0.3);
        border-radius: 8px;
        font-size: 1.1em;
        text-align: center;
        margin: 10px 0;
        background: rgba(255, 255, 255, 0.8);
      }

      .word-hint {
        background: rgba(255, 107, 136, 0.2);
        padding: 10px;
        border-radius: 8px;
        margin: 10px 0;
        text-align: center;
      }

      .btn {
        background: linear-gradient(45deg, #ff6b88, #ff8e9e);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 1em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 5px;
      }

      .btn:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .score {
        text-align: center;
        font-size: 1.2em;
        margin: 10px 0;
        color: #ff6b88;
      }

      .conversation-starter {
        background: rgba(255, 255, 255, 0.7);
        border: 2px solid rgba(255, 107, 136, 0.3);
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        text-align: center;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .correct-answer {
        animation: bounce 0.6s ease;
        background: rgba(76, 175, 80, 0.3) !important;
      }

      /* Dream Journal */
      #dream-text {
        width: 100%;
        height: 100px;
        padding: 10px;
        border: 2px solid rgba(255, 107, 136, 0.3);
        border-radius: 8px;
        font-size: 1em;
        margin: 10px 0;
        background: rgba(255, 255, 255, 0.8);
      }

      /* Karaoke Song Selector */
      .song-selector {
        width: 100%;
        padding: 10px;
        border: 2px solid rgba(255, 107, 136, 0.3);
        border-radius: 8px;
        font-size: 1em;
        margin: 10px 0;
        background: rgba(255, 255, 255, 0.8);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üé§ Kyoko's Learning Adventure üí§</h1>
        <p>Let's practice English with karaoke and sleep topics!</p>
      </div>

      <!-- Karaoke and Sleep Activities -->
      <div class="game-grid">
        <!-- Karaoke Challenge -->
        <div class="game-card">
          <div class="game-title">üé§ Karaoke Challenge</div>
          <div class="score" id="karaoke-score">Songs Completed: 0</div>
          <select class="song-selector" id="song-selector">
            <option value="">Select a song...</option>
            <option value="twinkle">Twinkle Twinkle Little Star</option>
            <option value="happy">Happy Birthday</option>
            <option value="letitgo">Let It Go (Frozen)</option>
            <option value="yesterday">Yesterday (The Beatles)</option>
          </select>
          <div id="karaoke-lyrics">
            Select a song to see the lyrics and practice singing along!
          </div>
          <div style="text-align: center">
            <button class="btn" onclick="startKaraoke()">Start Singing</button>
            <button class="btn" onclick="completeSong()">I Sang It!</button>
          </div>
        </div>

        <!-- Sleep Diary -->
        <div class="game-card">
          <div class="game-title">üí§ Sleep Diary</div>
          <div class="score" id="sleep-score">Entries: 0</div>
          <div id="sleep-prompt" style="text-align: center; margin: 15px 0">
            How did you sleep last night?
          </div>
          <textarea
            id="dream-text"
            placeholder="Describe your sleep or any dreams you had..."
          ></textarea>
          <div style="text-align: center">
            <button class="btn" onclick="saveSleepEntry()">Save Entry</button>
            <button class="btn" onclick="newSleepPrompt()">New Prompt</button>
          </div>
          <div id="sleep-entries" style="margin-top: 20px"></div>
        </div>
      </div>

      <!-- Word Games -->
      <div class="game-grid">
        <!-- Sentence Builder -->
        <div class="game-card">
          <div class="game-title">üìù Sentence Builder</div>
          <div class="score" id="sentence-score">Sentences Built: 0</div>
          <div id="sentence-prompt" style="text-align: center; margin: 15px 0">
            Build a sentence using the words below!
          </div>
          <div
            id="word-bank"
            style="
              display: flex;
              flex-wrap: wrap;
              justify-content: center;
              margin: 20px 0;
            "
          ></div>
          <div
            id="sentence-area"
            style="
              min-height: 80px;
              background: rgba(255, 255, 255, 0.5);
              border-radius: 8px;
              padding: 15px;
              margin: 15px 0;
              text-align: center;
            "
          >
            Drop words here to build your sentence
          </div>
          <div style="text-align: center">
            <button class="btn" onclick="checkSentence()">
              Check Sentence
            </button>
            <button class="btn" onclick="newSentenceChallenge()">
              New Challenge
            </button>
            <button class="btn" onclick="clearSentence()">Clear</button>
          </div>
        </div>

        <!-- Word Guessing Game -->
        <div class="game-card">
          <div class="game-title">üî§ Word Detective</div>
          <div class="score" id="word-score">Score: 0</div>
          <div class="word-hint" id="word-hint">Click "New Word" to start!</div>
          <div class="word-display" id="word-display">_ _ _ _</div>
          <input
            type="text"
            class="word-input"
            id="word-input"
            placeholder="Type your guess here..."
            maxlength="20"
          />
          <div style="text-align: center">
            <button class="btn" onclick="checkWord()">Check Answer</button>
            <button class="btn" onclick="newWord()">New Word</button>
            <button class="btn" onclick="revealLetter()">
              Reveal Letter (1 point)
            </button>
          </div>
        </div>
      </div>

      <div class="game-grid">
        <!-- Tic Tac Toe -->
        <div class="game-card">
          <div class="game-title">üéØ Tic Tac Toe</div>
          <div class="score" id="ttt-score">Player X: 0 | Player O: 0</div>
          <div class="ttt-grid" id="ttt-grid"></div>
          <div style="text-align: center">
            <button class="btn" onclick="resetTTT()">New Game</button>
            <p style="margin-top: 10px; font-size: 0.9em">
              Current Player: <span id="current-player">X</span>
            </p>
          </div>
        </div>

        <!-- Memory Game -->
        <div class="game-card">
          <div class="game-title">üß† Memory Match</div>
          <div class="score" id="memory-score">Matches: 0/8</div>
          <div class="memory-grid" id="memory-grid"></div>
          <div style="text-align: center">
            <button class="btn" onclick="startMemoryGame()">New Game</button>
          </div>
        </div>
      </div>

      <!-- Conversation Starters -->
      <div class="conversation-starter">
        <h3>üó£Ô∏è Let's Talk! Conversation Starters</h3>
        <p id="conversation-text">
          Click the button below to get a conversation topic!
        </p>
        <button
          class="btn"
          onclick="getConversationStarter()"
          style="margin-top: 15px"
        >
          Get Topic
        </button>
      </div>

      <!-- Fun Facts -->
      <div class="conversation-starter">
        <h3>ü§î Did You Know?</h3>
        <p id="fun-fact">Click below to learn something interesting!</p>
        <button class="btn" onclick="getFunFact()" style="margin-top: 15px">
          Tell Me Something Cool!
        </button>
      </div>
    </div>

    <script>
      // Tic Tac Toe Game
      let tttBoard = ["", "", "", "", "", "", "", "", ""];
      let currentPlayer = "X";
      let tttScores = { X: 0, O: 0 };

      function initTTT() {
        const grid = document.getElementById("ttt-grid");
        grid.innerHTML = "";
        for (let i = 0; i < 9; i++) {
          const cell = document.createElement("div");
          cell.className = "ttt-cell";
          cell.onclick = () => makeTTTMove(i);
          cell.id = `cell-${i}`;
          grid.appendChild(cell);
        }
        updateTTTDisplay();
      }

      function makeTTTMove(index) {
        if (tttBoard[index] === "" && !checkTTTWinner()) {
          tttBoard[index] = currentPlayer;
          document.getElementById(`cell-${index}`).textContent = currentPlayer;

          if (checkTTTWinner()) {
            tttScores[currentPlayer]++;
            updateTTTDisplay();
            setTimeout(() => alert(`Player ${currentPlayer} wins!`), 100);
          } else if (!tttBoard.includes("")) {
            setTimeout(() => alert("It's a tie!"), 100);
          } else {
            currentPlayer = currentPlayer === "X" ? "O" : "X";
            updateTTTDisplay();
          }
        }
      }

      function checkTTTWinner() {
        const wins = [
          [0, 1, 2],
          [3, 4, 5],
          [6, 7, 8],
          [0, 3, 6],
          [1, 4, 7],
          [2, 5, 8],
          [0, 4, 8],
          [2, 4, 6],
        ];
        return wins.some(
          (combo) =>
            tttBoard[combo[0]] &&
            tttBoard[combo[0]] === tttBoard[combo[1]] &&
            tttBoard[combo[1]] === tttBoard[combo[2]]
        );
      }

      function resetTTT() {
        tttBoard = ["", "", "", "", "", "", "", "", ""];
        currentPlayer = "X";
        initTTT();
      }

      function updateTTTDisplay() {
        document.getElementById(
          "ttt-score"
        ).textContent = `Player X: ${tttScores.X} | Player O: ${tttScores.O}`;
        document.getElementById("current-player").textContent = currentPlayer;
      }

      // Sentence Builder
      const sentenceChallenges = [
        {
          prompt: "Make a sentence about singing karaoke:",
          words: [
            "I",
            "love",
            "singing",
            "karaoke",
            "with",
            "friends",
            "on",
            "weekends",
            "loudly",
            "happily",
          ],
        },
        {
          prompt: "Make a sentence about sleeping:",
          words: [
            "I",
            "usually",
            "sleep",
            "for",
            "eight",
            "hours",
            "dream",
            "about",
            "sometimes",
            "comfortably",
          ],
        },
        {
          prompt: "Make a sentence about your favorite song:",
          words: [
            "My",
            "favorite",
            "song",
            "is",
            "because",
            "it",
            "makes",
            "me",
            "feel",
            "happy",
            "energetic",
          ],
        },
        {
          prompt: "Make a sentence about dreams:",
          words: [
            "Last",
            "night",
            "I",
            "dreamed",
            "that",
            "was",
            "flying",
            "singing",
            "eating",
            "strange",
          ],
        },
      ];

      let currentSentenceChallenge = 0;
      let sentenceCount = 0;
      let selectedWords = [];

      function newSentenceChallenge() {
        currentSentenceChallenge = Math.floor(
          Math.random() * sentenceChallenges.length
        );
        const challenge = sentenceChallenges[currentSentenceChallenge];

        document.getElementById("sentence-prompt").textContent =
          challenge.prompt;

        const wordBank = document.getElementById("word-bank");
        wordBank.innerHTML = "";

        challenge.words.forEach((word, index) => {
          const wordChip = document.createElement("div");
          wordChip.className = "word-chip";
          wordChip.textContent = word;
          wordChip.draggable = true;
          wordChip.onclick = () => addWordToSentence(word, wordChip);
          wordBank.appendChild(wordChip);
        });

        selectedWords = [];
        updateSentenceArea();
      }

      function addWordToSentence(word, chip) {
        if (!chip.classList.contains("used")) {
          selectedWords.push(word);
          chip.classList.add("used");
          updateSentenceArea();
        }
      }

      function updateSentenceArea() {
        const area = document.getElementById("sentence-area");
        if (selectedWords.length > 0) {
          area.textContent = selectedWords.join(" ");
        } else {
          area.textContent = "Drop words here to build your sentence";
        }
      }

      function checkSentence() {
        if (selectedWords.length >= 4) {
          sentenceCount++;
          updateSentenceScore();
          alert(
            `Great sentence: "${selectedWords.join(
              " "
            )}"! Let's make another one.`
          );
          newSentenceChallenge();
        } else {
          alert("Try to use more words to make a complete sentence!");
        }
      }

      function clearSentence() {
        selectedWords = [];
        document.querySelectorAll(".word-chip").forEach((chip) => {
          chip.classList.remove("used");
        });
        updateSentenceArea();
      }

      function updateSentenceScore() {
        document.getElementById(
          "sentence-score"
        ).textContent = `Sentences Built: ${sentenceCount}`;
      }

      // Memory Game
      const memoryWords = [
        "üé§",
        "üí§",
        "üéµ",
        "üõèÔ∏è",
        "üé∂",
        "üò¥",
        "üéº",
        "üõå",
        "üéß",
        "üåô",
        "üé∏",
        "üõèÔ∏è",
        "üéπ",
        "üò™",
        "üé∑",
        "üåõ",
      ];
      let memoryCards = [];
      let flippedCards = [];
      let memoryMatches = 0;

      function startMemoryGame() {
        memoryMatches = 0;
        flippedCards = [];

        // Create pairs
        const gameCards = memoryWords.slice(0, 8);
        memoryCards = [...gameCards, ...gameCards].sort(
          () => Math.random() - 0.5
        );

        const grid = document.getElementById("memory-grid");
        grid.innerHTML = "";

        memoryCards.forEach((word, index) => {
          const card = document.createElement("div");
          card.className = "memory-card";
          card.textContent = "?";
          card.dataset.word = word;
          card.dataset.index = index;
          card.onclick = () => flipCard(card, index);
          grid.appendChild(card);
        });

        updateMemoryScore();
      }

      function flipCard(card, index) {
        if (flippedCards.length < 2 && !card.classList.contains("flipped")) {
          card.classList.add("flipped");
          card.textContent = card.dataset.word;
          flippedCards.push({ card, index });

          if (flippedCards.length === 2) {
            setTimeout(checkMemoryMatch, 1000);
          }
        }
      }

      function checkMemoryMatch() {
        const [first, second] = flippedCards;

        if (first.card.dataset.word === second.card.dataset.word) {
          memoryMatches++;
          updateMemoryScore();
          if (memoryMatches === 8) {
            setTimeout(
              () => alert("Congratulations! You found all matches!"),
              100
            );
          }
        } else {
          first.card.classList.remove("flipped");
          first.card.textContent = "?";
          second.card.classList.remove("flipped");
          second.card.textContent = "?";
        }

        flippedCards = [];
      }

      function updateMemoryScore() {
        document.getElementById(
          "memory-score"
        ).textContent = `Matches: ${memoryMatches}/8`;
      }

      // Word Guessing Game
      const wordBank = [
        { word: "LYRICS", hint: "The words of a song" },
        { word: "MICROPHONE", hint: "What you hold when singing karaoke" },
        { word: "MELODY", hint: "The tune of a song" },
        { word: "PILLOW", hint: "You rest your head on this when sleeping" },
        { word: "SNORE", hint: "Noise some people make while sleeping" },
        { word: "CHORUS", hint: "The repeated part of a song" },
        { word: "BLANKET", hint: "Keeps you warm in bed" },
        { word: "DREAM", hint: "Stories you see while sleeping" },
        {
          word: "HARMONY",
          hint: "When voices sing different notes together beautifully",
        },
        { word: "ALARM", hint: "What wakes you up in the morning" },
        { word: "REFRESH", hint: "How you feel after a good sleep" },
        { word: "DUET", hint: "A song sung by two people" },
      ];

      let currentWord = {};
      let wordScore = 0;
      let revealedLetters = [];

      function newWord() {
        currentWord = wordBank[Math.floor(Math.random() * wordBank.length)];
        revealedLetters = [];
        updateWordDisplay();
        document.getElementById("word-hint").textContent = currentWord.hint;
        document.getElementById("word-input").value = "";
      }

      function updateWordDisplay() {
        let display = "";
        for (let letter of currentWord.word) {
          if (revealedLetters.includes(letter) || letter === " ") {
            display += letter + " ";
          } else {
            display += "_ ";
          }
        }
        document.getElementById("word-display").textContent = display.trim();
      }

      function checkWord() {
        const guess = document.getElementById("word-input").value.toUpperCase();
        if (guess === currentWord.word) {
          wordScore += currentWord.word.length - revealedLetters.length;
          updateWordScore();
          document
            .getElementById("word-display")
            .classList.add("correct-answer");
          setTimeout(() => {
            document
              .getElementById("word-display")
              .classList.remove("correct-answer");
            alert(
              `Correct! +${
                currentWord.word.length - revealedLetters.length
              } points`
            );
            newWord();
          }, 600);
        } else {
          alert("Not quite right! Try again or reveal a letter.");
        }
      }

      function revealLetter() {
        if (revealedLetters.length < currentWord.word.length) {
          for (let letter of currentWord.word) {
            if (!revealedLetters.includes(letter) && letter !== " ") {
              revealedLetters.push(letter);
              wordScore = Math.max(0, wordScore - 1);
              updateWordDisplay();
              updateWordScore();
              break;
            }
          }
        }
      }

      function updateWordScore() {
        document.getElementById(
          "word-score"
        ).textContent = `Score: ${wordScore}`;
      }

      // Karaoke Challenge
      const karaokeSongs = {
        twinkle: {
          title: "Twinkle Twinkle Little Star",
          lyrics:
            "Twinkle twinkle little star, How I wonder what you are, Up above the world so high, Like a diamond in the sky",
          hint: "A classic children's song about stars",
        },
        happy: {
          title: "Happy Birthday",
          lyrics:
            "Happy birthday to you, Happy birthday to you, Happy birthday dear friend, Happy birthday to you",
          hint: "The song everyone sings on their birthday",
        },
        letitgo: {
          title: "Let It Go (Frozen)",
          lyrics:
            "Let it go, let it go, Can't hold it back anymore, Let it go, let it go, Turn away and slam the door",
          hint: "Popular song from the Disney movie Frozen",
        },
        yesterday: {
          title: "Yesterday (The Beatles)",
          lyrics:
            "Yesterday, all my troubles seemed so far away, Now it looks as though they're here to stay, Oh I believe in yesterday",
          hint: "A famous Beatles song about the past",
        },
      };

      let karaokeSongsCompleted = 0;
      let currentKaraokeSong = null;
      let karaokeInterval = null;
      let currentWordIndex = 0;

      function startKaraoke() {
        const songId = document.getElementById("song-selector").value;
        if (!songId) {
          alert("Please select a song first!");
          return;
        }

        currentKaraokeSong = karaokeSongs[songId];
        const lyricsDiv = document.getElementById("karaoke-lyrics");
        lyricsDiv.innerHTML = "";

        const words = currentKaraokeSong.lyrics.split(/[ ,]+/);
        words.forEach((word, index) => {
          const wordSpan = document.createElement("span");
          wordSpan.className = "karaoke-word";
          wordSpan.textContent = word + " ";
          wordSpan.id = `word-${index}`;
          lyricsDiv.appendChild(wordSpan);
        });

        currentWordIndex = 0;
        if (karaokeInterval) clearInterval(karaokeInterval);

        karaokeInterval = setInterval(() => {
          if (currentWordIndex > 0) {
            document
              .getElementById(`word-${currentWordIndex - 1}`)
              .classList.remove("active");
          }
          if (currentWordIndex < words.length) {
            document
              .getElementById(`word-${currentWordIndex}`)
              .classList.add("active");
            currentWordIndex++;
          } else {
            clearInterval(karaokeInterval);
          }
        }, 800);
      }

      function completeSong() {
        if (currentKaraokeSong) {
          karaokeSongsCompleted++;
          document.getElementById(
            "karaoke-score"
          ).textContent = `Songs Completed: ${karaokeSongsCompleted}`;
          alert(`Great job singing ${currentKaraokeSong.title}!`);
          if (karaokeInterval) clearInterval(karaokeInterval);
        } else {
          alert("Please start a song first!");
        }
      }

      // Sleep Diary
      const sleepPrompts = [
        "How did you sleep last night?",
        "Describe your dreams from last night",
        "What time did you go to bed and wake up?",
        "How do you feel when you wake up?",
        "Do you remember any dreams? Describe them",
        "What helps you sleep well?",
        "Do you have any bedtime routines?",
        "What makes it hard for you to sleep?",
      ];

      let sleepEntriesCount = 0;
      let sleepEntries = [];

      function newSleepPrompt() {
        const randomPrompt =
          sleepPrompts[Math.floor(Math.random() * sleepPrompts.length)];
        document.getElementById("sleep-prompt").textContent = randomPrompt;
        document.getElementById("dream-text").value = "";
      }

      function saveSleepEntry() {
        const entryText = document.getElementById("dream-text").value.trim();
        if (entryText) {
          sleepEntriesCount++;
          sleepEntries.push({
            prompt: document.getElementById("sleep-prompt").textContent,
            response: entryText,
            date: new Date().toLocaleDateString(),
          });

          document.getElementById(
            "sleep-score"
          ).textContent = `Entries: ${sleepEntriesCount}`;

          // Display entries
          const entriesDiv = document.getElementById("sleep-entries");
          entriesDiv.innerHTML = "";
          sleepEntries
            .slice()
            .reverse()
            .forEach((entry) => {
              const entryDiv = document.createElement("div");
              entryDiv.className = "sleep-entry";
              entryDiv.innerHTML = `
              <p><strong>${entry.prompt}</strong></p>
              <p>${entry.response}</p>
              <small>${entry.date}</small>
            `;
              entriesDiv.appendChild(entryDiv);
            });

          document.getElementById("dream-text").value = "";
          newSleepPrompt();
        } else {
          alert("Please write something about your sleep first!");
        }
      }

      // Conversation Starters
      const conversationTopics = [
        "What's your favorite karaoke song to sing and why?",
        "Describe your perfect night's sleep.",
        "If you could sing a duet with any singer, who would it be?",
        "What do you usually dream about?",
        "Tell me about the last time you sang karaoke with friends.",
        "What helps you fall asleep when you can't sleep?",
        "If you could write a song about sleeping, what would it be called?",
        "Do you remember any funny dreams? Tell me about them.",
        "What's your bedtime routine?",
        "Would you rather sing perfectly but never sleep well, or sleep perfectly but never sing well?",
        "What's the best place you've ever slept?",
        "If you could have any celebrity sing you a lullaby, who would you choose?",
      ];

      function getConversationStarter() {
        const topic =
          conversationTopics[
            Math.floor(Math.random() * conversationTopics.length)
          ];
        document.getElementById("conversation-text").textContent = topic;
      }

      // Fun Facts
      const funFacts = [
        "The world record for longest karaoke marathon is 1,536 hours (64 days)!",
        "Humans spend about 1/3 of their lives sleeping.",
        "The most popular karaoke song worldwide is 'I Will Survive' by Gloria Gaynor.",
        "Dreams can last anywhere from a few seconds to 20-30 minutes.",
        "The word 'karaoke' comes from Japanese words meaning 'empty orchestra'.",
        "The longest recorded time without sleep is 11 days (264 hours).",
        "Singing releases endorphins that make you feel happy and reduce stress.",
        "Newborn babies sleep about 14-17 hours a day.",
        "The highest note ever sung by a human is G10 by Georgia Brown.",
        "During REM sleep (when you dream), your body is temporarily paralyzed.",
        "The most expensive karaoke machine costs over $100,000!",
        "Some people can hear music in their dreams.",
      ];

      function getFunFact() {
        const fact = funFacts[Math.floor(Math.random() * funFacts.length)];
        document.getElementById("fun-fact").textContent = fact;
      }

      // Enter key support for word game
      document
        .getElementById("word-input")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            checkWord();
          }
        });

      // Initialize games
      initTTT();
      startMemoryGame();
      newWord();
      newSentenceChallenge();
      newSleepPrompt();
    </script>
  </body>
</html>
